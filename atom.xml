<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Polyglot]]></title>
  <link href="http://markfussell.github.com/atom.xml" rel="self"/>
  <link href="http://markfussell.github.com/"/>
  <updated>2013-02-06T17:35:28-08:00</updated>
  <id>http://markfussell.github.com/</id>
  <author>
    <name><![CDATA[Mark Fussell]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Being a git about everything (Annexing)]]></title>
    <link href="http://markfussell.github.com/blog/2013/01/13/git-about-everything-annex/"/>
    <updated>2013-01-13T18:16:00-08:00</updated>
    <id>http://markfussell.github.com/blog/2013/01/13/git-about-everything-annex</id>
    <content type="html"><![CDATA[<p>This is the second in a series of using git as part of interesting solutions to problems.</p>

<p>The first is here: <a href="http://markfussell.github.com/blog/2013/01/11/git-about-everything-intro/">Intro</a></p>

<h2>Dealing with Binary Files</h2>

<p>As mentioned in the first posting, git and similar DVCS have issues with binary files.  Adding 100s of 10MB files, or 100s of
versions of 10MB files will produce gigabytes worth of data that must be cloned by everyone using the repository.  How do we avoid this?</p>

<p>There are a number of solutions in this space out there with differing characteristics, but the core approach is usually similar:
&#8220;Don&#8217;t store it in git&#8221;.  Instead we want to record enough information to retrieve the binary files from somewhere else.</p>

<!-- more -->


<h2>Record Enough of the Binary File</h2>

<p>What is
enough information?  How about 160 bits!  Using SHA1 or any similar hash, we can identify the contents of any file.  To add
a bit of consistency and readability, we will make this hex-based, so we get 40 characters.  And to make it a little clearer what
hash was used and what this string is, we add &#8216;sha1_&#8217; to the front and &#8216;.blob&#8217; to the end.  Now our 10MB file has become 50 to 52 bytes depending on
human-entered white spaces.  For example:</p>

<ul>
<li> sha1_8ac02ee34b94461fed19320d789f251e6a2a6796.blob</li>
<li> SHA1-Hash = 8ac02ee34b94461fed19320d789f251e6a2a6796</li>
<li> Google test: <a href="http://www.google.com/search?q=8ac02ee34b94461fed19320d789f251e6a2a6796">http://www.google.com/search?q=8ac02ee34b94461fed19320d789f251e6a2a6796</a></li>
</ul>


<p>And we have confirmed that the hash is enough to identify that file&#8217;s content (and the file itself if it has a unique name).</p>

<p>Storing tens of thousands of 50Byte files is still under a few megabytes, so that part is good.</p>

<h2>Put the content into the Cloud (or similar)</h2>

<p>Where should we store the actual content?  Pretty much anywhere we want if things are simple (only a few files at a time to store and retrieve, need
only local access), but
if we want to store and retrieve thousands of files from anywhere rapidly things get nastier.  For example, there are projects that try to
hide the process of file-contents being moved elsewhere using git smudge/clean filters.  Unfortunately this make the process all of: sequential, heavy, and
perpetual.  We would have similar major issues if we moved the content via some other sequential approach that was not super-fast.  And
git is meant to be highly distributed, so our approach needs to work for all the &#8216;clones&#8217; of a repository.  And finally, we don&#8217;t
want to break our bank over this.</p>

<p>The solution?  Amazon S3 or similar.  Amazon S3 is:</p>

<ul>
<li> Relatively inexpensive for what it does (about a dime a month for 1GB)</li>
<li> Highly distributed</li>
<li> Reasonably fast in network transfers</li>
<li> Incredibly fast as you throw more workers at the network transfers</li>
<li> Blazingly fast if you throw many workers from EC2 at it</li>
</ul>


<p>So if we want to move files from our Git repository into S3, how do we do that?  This isn&#8217;t really a git issue at all if we do
it before &#8216;add&#8217; and after &#8216;pull&#8217;.  It becomes
a simple filesystem-to-S3 issue and s3cmd <a href="http://s3tools.org/s3cmd">http://s3tools.org/s3cmd</a> is a very well trusted tool for this.
Add in the parallel patch <a href="https://github.com/pcorliss/s3cmd-modification">https://github.com/pcorliss/s3cmd-modification</a> and
you can have any numbers of workers running.  We want to be a &#8216;git&#8217; about everything, but we can solve this issue independently
of git and combine the two.  The only large remaining issues are the actual processes of:</p>

<ul>
<li> &#8216;deflating&#8217;: moving the content of a file somewhere and leaving a content-hash in its place.</li>
<li> &#8216;inflating&#8217;: replacing a content-hash with the actual content</li>
</ul>


<p>A highly annex-augmented version of s3cmd is here <a href="https://github.com/markfussell/s3cmd-modification">https://github.com/markfussell/s3cmd-modification</a>
and was done while working at <a href="http://www.rumblegames.com">Rumble</a> where we needed to move gigabytes of high-quality art assets around
as part of the build-deploy pipeline.</p>

<h2>Working with S3 Annexed Git Repositories</h2>

<p>The three things you need for an S3-Annexed repository are:</p>

<ul>
<li> A git repository</li>
<li> An S3 bucket to put content into</li>
<li> The augmented s3cmd from here <a href="https://github.com/markfussell/s3cmd-modification">https://github.com/markfussell/s3cmd-modification</a></li>
</ul>


<p>A repository that is paired with an S3 bucket is located here:</p>

<ul>
<li> https://github.com/markfussell/giteveryrepo1</li>
</ul>


<p>You can clone that repository and get a working annexed-repository and some example content (without write permission).  The repository is tiny but
grants access to several megabytes worth of images.</p>

<h3>Configuration</h3>

<p>The configuration of the Annex is located in &#8216;s3info&#8217;:</p>

<ul>
<li> blob_includes.txt &mdash; The file extensions you want annexed</li>
<li> s3annex_config.txt &mdash; The location of the annex</li>
<li> s3cmd_config.txt &mdash; Some s3cmd configuration, but most importantly the access/secret</li>
<li> s3worker_config.txt &mdash; The number of workers used for annexing</li>
</ul>


<h4>blob_includes</h4>

<p>The blob_includes should be updated with any new file types you want annexed.  To make things fast and simple, annexing is
based on file extensions not size or other properties.  It would be nice if this was more automatic, but being explicit
was simple and very visible.</p>

<h4>s3annex_config</h4>

<p>This is simply the location of the annex.  This can change over time as a quick way to do &#8216;garbage collection&#8217;
but normally it stays the same.  Because of the content-based approach, you can share annexes across many
repositories.</p>

<h4>s3cmd_config</h4>

<p>The s3cmd configuration including access credentials.  If you don&#8217;t want access credentials in the repository itself, you could take out the s3cmd_config file and it should use your defaults (you may need to tweak a couple scripts).</p>

<h4>s3worker_config</h4>

<p>The number of s3workers to run at a time.  More workers will make the S3 combined throughput faster: this should be 100 or more on an EC2 instance.</p>

<h3>Working commands</h3>

<p>All the commands expect to be run from the root of the git repository.  The main working commands are:</p>

<ul>
<li> bin/deflatePaths.sh &mdash; Move the contents of files into the Annex and replace them with a hash stub/reference</li>
<li> bin/inflatePaths.sh &mdash; Put the proper contents of the files into the filesystem based on their hash stub/reference</li>
</ul>


<p>Because annexed repositories should always be fully deflated before committing, there is a command in the root of the directory to
remind people of this:</p>

<ul>
<li> deflateAll.sh &mdash; Visible reminder and simple equivalent to &#8216;bin/deflatePaths.sh .&#8217;</li>
</ul>


<p>These commands are all you need for annexing proper.  To make it easier to see the Annex itself, there is also an &#8216;lsAnnex.sh&#8217;
script which is used below.</p>

<h3>Annex (S3) Layout</h3>

<p>The layout of the Annex within the S3 bucket is either:</p>

<ul>
<li> Flat in a single bucket plus path prefix</li>
<li> Hierarchical based on some amount of leading hash digits</li>
</ul>


<p>The completely flat version is the simpler and truer representation.
The hierarchy simply allows multiple threads to get listings of the annex files in parallel, which
matters for performance when you have thousands of files within the annex.</p>

<h4>Annex listing</h4>

<p>You can see the contents of the annex with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./bin/lsAnnex.sh
</span></code></pre></td></tr></table></div></figure>


<p>For the example repository, this gives:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>2013-01-22 00:04   4742594   s3://emenar.com/gitevery/giteveryrepo1/sha1_02bf4b647b623dac68e1913b8d3494856041047c.blob
</span><span class='line'>2013-01-22 00:11   4742594   s3://emenar.com/gitevery/giteveryrepo1/sha1_02bf4b647b623dac68e1913b8d3494856041047c.blob__.jpg
</span><span class='line'>2013-01-22 00:10   2679517   s3://emenar.com/gitevery/giteveryrepo1/sha1_2abd18dfa4510e1dfc72f643bff3639b42f2aa32.blob
</span><span class='line'>2013-01-22 00:15   2679517   s3://emenar.com/gitevery/giteveryrepo1/sha1_2abd18dfa4510e1dfc72f643bff3639b42f2aa32.blob__.jpg
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, in the annex are files that start with &#8216;sha1_&#8217; and end in &#8216;.blob&#8217; or &#8216;.blob__.xxx&#8217; where &#8216;.xxx&#8217; is a proper MIME extension.
The reason for the MIME extension is just that it can be useful to see or directly retrieve the content
with proper interpretation.  The normal Annex behavior only uses the &#8216;.blob&#8217; version.</p>

<p>The names of the files in the Annex match the &#8216;sha1&#8217; hash of the contents of the file.  So &#8216;sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob__.jpg&#8217;
has a sha1 hash of &#8216;55b15eb3ac72351249125a3de7a81aee2bda6a2a&#8217;.  It is impossible for files to collide unless they are exactly the same
content, so a completely flat representation is correct and simple.</p>

<h3>Example Walk-through</h3>

<p>If you cloned the example repository:</p>

<ul>
<li> https://github.com/markfussell/giteveryrepo1</li>
</ul>


<p>you should have something less than a megabyte, but it represents more than 100MB of image files (30 images of 3MB each).  But all the image
files are stubbed out with just the content hash inside.</p>

<p>To see example details of these stubbed/annexed files, look inside any of the jpg files in <code>image/album</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> -n <span class="s2">&quot;content: &quot;</span>; cat image/album/GitEverythingAlbum_01.jpg ; <span class="nb">echo</span>
</span></code></pre></td></tr></table></div></figure>


<p>This returns the blob identifier:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>content: sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob
</span></code></pre></td></tr></table></div></figure>


<h4>Inflating a file</h4>

<p>To inflate a file, run <code>./bin/inflatePaths.sh</code> with the specific file path:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./bin/inflatePaths.sh image/album/GitEverythingAlbum_01.jpg
</span></code></pre></td></tr></table></div></figure>


<p>And you will get some feedback:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>INFO: Compiling list of <span class="nb">local </span>files <span class="k">for</span> <span class="s1">&#39;file://image/album/GitEverythingAlbum_01.jpg&#39;</span>, <span class="s1">&#39;GitEverythingAlbum_01.jpg&#39;</span>, <span class="s1">&#39;image/album/GitEverythingAlbum_01.jpg&#39;</span>
</span><span class='line'>INFO: Applying --exclude/--include
</span><span class='line'>INFO: Retrieving list of remote files <span class="k">for </span>s3://emenar.com/gitevery/giteveryrepo1/ ...
</span><span class='line'>INFO: Summary: 1 <span class="nb">local </span>files to fetch, 60 remote files present
</span><span class='line'>INFO: Inflating<span class="o">[</span>1<span class="o">]</span> from S3 <span class="o">(</span>1<span class="o">)</span> <span class="o">(</span>sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob<span class="o">)</span>: image/album/GitEverythingAlbum_01.jpg &lt;- s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob
</span><span class='line'>s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob -&gt; image/album/GitEverythingAlbum_01.jpg  <span class="o">[</span>1 of 1<span class="o">]</span>
</span><span class='line'> 4960530 of 4960530   100% in    7s   633.43 kB/s  <span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you should have a normal file and can view a picture of Nob Hill.</p>

<p>Note that <code>git status</code> will now show a change.  The approach here is not to hide or conflate annexing within git (e.g. being part of smudge),
but to create something that when combined with normal git makes git even more useful.</p>

<h4>Deflating a file</h4>

<p>Since we are in a git repository, we could simply do a reset to get the file back to it&#8217;s original content
(it is already annexed) but it is much safer to always
&#8216;deflate&#8217; in case the contents changed vs. being the same as the original commit.</p>

<p>To deflate a single file you run <code>./bin/deflatePaths.shs</code> with the specific file path:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./bin/deflatePaths.sh image/album/GitEverythingAlbum_01.jpg
</span></code></pre></td></tr></table></div></figure>


<p>Because the contents are the same, you should see this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>INFO: Compiling list of <span class="nb">local </span>files <span class="k">for</span> <span class="s1">&#39;file://image/album/GitEverythingAlbum_01.jpg&#39;</span>, <span class="s1">&#39;GitEverythingAlbum_01.jpg&#39;</span>, <span class="s1">&#39;image/album/GitEverythingAlbum_01.jpg&#39;</span>
</span><span class='line'>INFO: Applying --exclude/--include
</span><span class='line'>INFO: Retrieving list of remote files <span class="k">for </span>s3://emenar.com/gitevery/giteveryrepo1/ ...
</span><span class='line'>INFO: Summary: 1 <span class="nb">local </span>files to upload, 60 remote files already present
</span><span class='line'>INFO: Skipped    <span class="o">(</span>1<span class="o">)</span> <span class="o">(</span>sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob<span class="o">)</span>: image/album/GitEverythingAlbum_01.jpg -&gt; s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob
</span><span class='line'>INFO: Skipped    <span class="o">(</span>1<span class="o">)</span> <span class="o">(</span>sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob__.jpg<span class="o">)</span>: image/album/GitEverythingAlbum_01.jpg -&gt; s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob__.jpg
</span></code></pre></td></tr></table></div></figure>


<p>The original annexing of the file did upload two files, and looked like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>INFO: Upload     <span class="o">(</span>1<span class="o">)</span>: ./image/album/GitEverythingAlbum_01.jpg -&gt; s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob
</span><span class='line'>File <span class="s1">&#39;./image/album/GitEverythingAlbum_01.jpg&#39;</span> started <span class="o">[</span>1 of 30<span class="o">]</span>
</span><span class='line'>...
</span><span class='line'>File <span class="s1">&#39;./image/album/GitEverythingAlbum_01.jpg&#39;</span> stored as <span class="s1">&#39;s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob&#39;</span> <span class="o">(</span>4960530 bytes ...<span class="o">)</span> <span class="o">[</span>1 of 30<span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Inflating Many Files</h4>

<p>The <code>inflate</code> and <code>deflate</code> scripts accept paths so you can inflate the whole album with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./bin/inflatePaths.sh image/album
</span></code></pre></td></tr></table></div></figure>


<p>or even inflate the whole repository:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./bin/inflatePaths.sh .
</span></code></pre></td></tr></table></div></figure>


<p>With the default settings, this will launch 10 workers doing 10 files at a time in total.  How long
the whole 100MB download takes will almost likely depend on your maximum bandwidth, but if not,
just change the number of workers to a larger number.  S3 is very supportive of many requests by
different workers.</p>

<h3>EC2 Walkthrough</h3>

<p>On EC2 the performance numbers are pretty amazing, so I created a simple CloudFormation so people
can test it out.  The CloudFormation is here:</p>

<ul>
<li> https://s3.amazonaws.com/emenar.com/gitevery/aws/cloudformation/GitEverythingServer1.template</li>
</ul>


<p>and it can be run by going to AWS CloudFormation and just giving it one of your keypairs:</p>

<ul>
<li> https://console.aws.amazon.com/cloudformation/</li>
</ul>


<h4>EC2 Performance</h4>

<p>After the instance launches, SSH in, &#8216;sudo su -&#8216;, and change to the repository:</p>

<ul>
<li> /root/gitrepo/giteveryrepo1</li>
</ul>


<p>run <code>inflatePaths</code> with the standard 10 workers</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">time</span> ./bin/inflatePaths.sh image
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>INFO: Compiling list of <span class="nb">local </span>files <span class="k">for</span> <span class="s1">&#39;file://image&#39;</span>, <span class="s1">&#39;image&#39;</span>, <span class="s1">&#39;image&#39;</span>
</span><span class='line'>INFO: Applying --exclude/--include
</span><span class='line'>INFO: Retrieving list of remote files <span class="k">for </span>s3://emenar.com/gitevery/giteveryrepo1/ ...
</span><span class='line'>INFO: Summary: 30 <span class="nb">local </span>files to fetch, 60 remote files present
</span><span class='line'>INFO: Inflating<span class="o">[</span>1<span class="o">]</span> from S3 <span class="o">(</span>1<span class="o">)</span> <span class="o">(</span>sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob<span class="o">)</span>: image/album/GitEverythingAlbum_01.jpg &lt;- s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_55b15eb3ac72351249125a3de7a81aee2bda6a2a.blob started <span class="o">[</span>1 of 30<span class="o">]</span>
</span><span class='line'>INFO: Receiving file <span class="s1">&#39;image/album/GitEverythingAlbum_01.jpg&#39;</span>, please
</span><span class='line'>...
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_801a329248a9cbe48b512f2a75179437382dba02.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_21.jpg&#39;</span> <span class="o">(</span>4194668 bytes in 3.1 seconds, 1330.45 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_7d5d055068a9b7e268e21279770f03a5e8c6c9d3.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_22.jpg&#39;</span> <span class="o">(</span>4576223 bytes in 3.0 seconds, 1477.96 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_02bf4b647b623dac68e1913b8d3494856041047c.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_25.jpg&#39;</span> <span class="o">(</span>4742594 bytes in 2.6 seconds, 1777.42 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_856984959467b2427c2a4e9ade642a3d3c26b0fd.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_20.jpg&#39;</span> <span class="o">(</span>4208680 bytes in 4.2 seconds, 971.63 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_7cb2e0318459e276dc4b65987bbe8bd6021357df.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_28.jpg&#39;</span> <span class="o">(</span>3559585 bytes in 2.2 seconds, 1559.41 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_b855966214caa10638f76a3aba6b6df7b0caffca.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_29.jpg&#39;</span> <span class="o">(</span>3820335 bytes in 2.2 seconds, 1718.09 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_2abd18dfa4510e1dfc72f643bff3639b42f2aa32.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_30.jpg&#39;</span> <span class="o">(</span>2679517 bytes in 2.1 seconds, 1229.88 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_fc322e938362e0c40ccf5e09789a1cb6b6995882.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_26.jpg&#39;</span> <span class="o">(</span>3909187 bytes in 3.0 seconds, 1285.67 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_fd63032739c810743521ad1de0546d67b13b4357.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_27.jpg&#39;</span> <span class="o">(</span>3465440 bytes in 2.9 seconds, 1157.55 kB/s<span class="o">)</span>
</span><span class='line'>File s3://emenar.com/gitevery/giteveryrepo1/sha1_798788e370f243a2a38f91bf8979fd46070a4ae2.blob saved as <span class="s1">&#39;image/album/GitEverythingAlbum_24.jpg&#39;</span> <span class="o">(</span>3461363 bytes in 5.3 seconds, 634.12 kB/s<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>real  0m10.372s
</span><span class='line'>user  0m4.311s
</span><span class='line'>sys   0m2.948s
</span></code></pre></td></tr></table></div></figure>


<p>So it took 10 seconds to download 100MB.  That is 80Mb/s on an &#8216;m1.small&#8217; which is a pretty nice number to work with.  Changing to 100 workers doesn&#8217;t make much difference (about 9 seconds),
so this is pretty much the saturation of &#8216;m1.small&#8217; to S3 performance.  Larger instance types can perform even better.</p>

<h2>Summary &#8211; Annexing makes Git good at binary files</h2>

<p>By using S3 as an Annex for binary files, we can make &#8216;git&#8217; be exceptionally good at dealing with large amount of binary content.  Git simply
manages the history of 50-byte annex-stub text files, and git is very fast and efficient at doing that.  The annex-enhanced s3cmd can run many
workers to upload/deflate and download/inflate the binary files to and from S3.  Especially on EC2 the performance numbers can be super-fast:</p>

<ul>
<li> Clone repository &lt; 5 seconds</li>
<li> Inflate 100MB of files &lt; 10 seconds</li>
</ul>


<p>By combining git with a powerful annex solution, working with lots of version-controlled information
of any size has become all of: very simple, very fast, very distributable, and very inexpensive.</p>

<h3>Alternatives</h3>

<p>There are some alternative approaches out there, which I should mention.  Some I tried and they didn&#8217;t perform well
enough.  Others didn&#8217;t match the needs we had at Rumble or my needs outside of Rumble.  But they are interesting
projects:</p>

<ul>
<li> <a href="http://git-annex.branchable.com/">http://git-annex.branchable.com/</a></li>
<li> <a href="https://github.com/schacon/git-media">https://github.com/schacon/git-media</a></li>
</ul>


<h3>Next</h3>

<p>Our next problem will be&#8230;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Being a git about everything (Intro)]]></title>
    <link href="http://markfussell.github.com/blog/2013/01/11/git-about-everything-intro/"/>
    <updated>2013-01-11T18:16:00-08:00</updated>
    <id>http://markfussell.github.com/blog/2013/01/11/git-about-everything-intro</id>
    <content type="html"><![CDATA[<p>There are times when a new technology comes along, that at first appears to be pretty similar to
existing technology, but certain characteristics make for radically different or just nicely new solutions.
A recent example of this is &#8216;git&#8217; and similar distributed version control systems (DVCS).  They may
at first appear to be an interesting version of centralized version/content management systems, but
they are really much more&#8230; a core piece of technology useful for many things.</p>

<p>This is a series about how to use git to solve many different problems, some obvious and some more unusual.
I hope a few of them are interesting to readers.</p>

<!-- more -->


<p>There are alternative DVCSs but I am not going to compare or translate examples&#8230; at least not on a first pass.
Git was created by Linus Torvalds in 2005.  It was initially quite &#8216;raw&#8217; and still maintains much of that rawness,
but other tools (e.g. github) and general improvements have made it more accessible.  For source-code control, git has some big wins
in collaboration and offline work compared to SVN, Perforce, and the like.  Whether these are worth some trade-offs depends on your team
and company&#8230; but that is a different topic.</p>

<h2>Git Syntax / Overview</h2>

<p>You can learn more about git somewhere like github:</p>

<ul>
<li> <a href="http://learn.github.com/p/intro.html">http://learn.github.com/p/intro.html</a></li>
</ul>


<p>Git has a lot of commands, but around seven are core to standard git flows:</p>

<ul>
<li> clone &mdash; copy a repository from a remote location</li>
<li> fetch &mdash; get updates from a remote repository</li>
<li> merge &mdash; merge changes from one branch into the current branch</li>
<li> pull &mdash; &#8216;fetch&#8217; and then &#8216;merge&#8217;</li>
<li> add &mdash; add changes to the commit stage of the current branch</li>
<li> commit &mdash; commit the changes into the current branch</li>
<li> push &mdash; try to make a remote branch look like the current branch</li>
</ul>


<p>Actually of those seven &#8216;pull&#8217; basically replaces/combines two of them, so you get
down to about five with a core loop like this:</p>

<ul>
<li> clone

<ul>
<li>pull</li>
<li>make changes (if needed)

<ul>
<li>add</li>
<li>commit</li>
<li>push</li>
</ul>
</li>
</ul>
</li>
</ul>


<p>Of these commands only &#8216;push&#8217; can fail due to timing.  &#8216;push&#8217; is transactional
and you can be contending with other people or machines that pushed to the same branch
as you between when you pulled and you pushed.  Merging can fail, but that
represents some actual file-level conflict vs. a timing issue (someone beat you to the &#8216;push&#8217;).
A proper &#8216;commit&#8217; can&#8217;t fail because it is local.</p>

<h3>Repositories and branches</h3>

<p>At least to begin, all these solutions will use a standard centralized repository approach
and generally not use branches.  So you don&#8217;t have to worry about git&#8217;s ability to
deal with many remotes and which branch a given git repository is using.  By default
at any current moment there is only</p>

<ul>
<li> local: &#8216;master&#8217; <-> remote: origin/master</li>
</ul>


<p>where things get interesting because there could be 100 different machines each with their own &#8216;local&#8217;.</p>

<h3>Problems with git / DVCS</h3>

<p>The biggest issue with git and similar DVCSs is that their model doesn&#8217;t work well for large amounts of
binary assets.  Large amounts of binary assets could occur either because there are a large number of
assets available at any time but only a subset are needed (so with Perforce or SVN many people would not
check out those directories) or more commonly, a modest number of binary assets are frequently
changing.  Because a git repository contains all assets throughout time and to work with a git repository
you clone the whole thing, having a large amount of binary assets punishes everyone.</p>

<p>What is a large amount?  That depends on the circumstances, but generally passing 100MB can start to
become painful depending on the purpose git is being used for.  Having 1GB of textual files in
a single git repository (even over time) is an unusual thing.  GBs of images is common.</p>

<p>So our first problems and solution is going to have to deal with this critical issue.</p>

<p>Enter the annex: <a href="http://markfussell.github.com/blog/2013/01/13/git-about-everything-annex/">Annex</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Viking: A Direct Marketing System for OOPSLA DesignFest]]></title>
    <link href="http://markfussell.github.com/blog/2000/05/10/viking/"/>
    <updated>2000-05-10T18:00:00-07:00</updated>
    <id>http://markfussell.github.com/blog/2000/05/10/viking</id>
    <content type="html"><![CDATA[<p>There is also a PDF version <a href="http://markfussell.github.com/pdfs/SmallJava1d_2.pdf">here</a> which might be easier to read
because it has a bit more formatting.</p>

<div class=Section1>

<p class=MsoTitle style='margin-top:0in'>The Viking</p>

<p class=MsoSubtitle><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:109pt;
 height:234pt' fillcolor="window">
 <v:imagedata src="TheViking5e_files/image001.wmz" o:title="Viking1.cdr"/>
</v:shape><![endif]--><![if !vml]><img width=111 height=236
src="http://markfussell.github.com/images/TheViking5e_files/image002.gif" v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoSubtitle>A Direct Marketing System</p>

<p class=AuthorInfo style='margin-top:6.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-size:9.0pt;mso-bidi-font-size:10.0pt'>Mark L. Fussell<o:p></o:p></span></b></p>

<p class=AuthorInfo><span style='font-size:9.0pt;mso-bidi-font-size:10.0pt'>ChiMu
Corporation<o:p></o:p></span></p>

<p class=AuthorInfo><span style='font-size:9.0pt;mso-bidi-font-size:10.0pt'>mark.fussell@chimu.com<o:p></o:p></span></p>

<h2>Introduction</h2>

<p class=MsoNormal>The Viking is a system that maintains information about
customers and can send them letters tailored with important, relevant, and
time-critical information.<span style="mso-spacerun: yes">&nbsp; </span>The
Viking is the core of a direct marketing system: it will directly interact with
users to configure the campaigns and will work with other system components to
accomplish the mailing itself. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The functionality needed from The Viking is described
through requirement stories (informal use cases).<span style="mso-spacerun:
yes">&nbsp; </span>Each story describes an interaction that the system must be
able to support, and the collection of stories provides a prioritization of
system capabilities.<span style="mso-spacerun: yes">&nbsp; </span>The more
high-priority stories your design or implementation of The Viking supports, the
bigger and better a Viking you will have created and the happier your company
will be with your performance. </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The Viking&#8217;s requirements/capabilities are described in the
attached stories, but the following provides a short summary of these
details.<span style="mso-spacerun: yes">&nbsp; </span>Ultimately, <span
class=Term><span style='color:navy'>The Viking</span></span> must be able to:</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.25in;mso-list:l12 level1 lfo16;
tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>*<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Maintain any amount of information related to a <span
class=Term><span style='color:navy'>Customer</span></span> (either directly or
indirectly) and make that information accessible to the <span class=Term><span
style='color:navy'>Letter</span></span> generation process.<span
style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.25in;mso-list:l12 level1 lfo16;
tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>*<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Select a group of customers that the <span
class=Term><span style='color:navy'>User</span></span> desires to send letters
to. </p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.25in;mso-list:l12 level1 lfo16;
tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>*<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Generate letters from <span class=Term><span
style='color:navy'>Templates</span></span> that describe both the common,
static information for the letter and the pluggable, dynamic information that
must be retrieved from customer information or other information (like today&#8217;s
date).<span style="mso-spacerun: yes">&nbsp; </span>A single template can be
used to generate appropriate letters for thousands of customers.<span
style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.25in;mso-list:l12 level1 lfo16;
tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>*<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Deliver these letters through external <span
class=Term><span style='color:navy'>MailerSystems</span></span> that send
electronic email or to print the letters and envelopes for automated delivery.<span
style="mso-spacerun: yes">&nbsp; </span>Supporting the electronic delivery is
more important. </p>

<p class=MsoNormal style='margin-left:.5in;text-indent:-.25in;mso-list:l12 level1 lfo16;
tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>*<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Maintain the status of letters: whether they
were sent to customers, whether delivery was successful or rejected, and
whether the user responded to the letter.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Further details of the capabilities will come out in the
stories below.<span style="mso-spacerun: yes">&nbsp; </span>Together these
capabilities enable The Viking to support the direct marketing functionality
your company requires.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2>System Context</h2>

<p class=MsoNormal>The Viking is a system that needs to interact with two kinds
of external actors: human Users and MailerSystems.<span style="mso-spacerun:
yes">&nbsp; </span>Users will be interacting with The Viking to examine
customer information, generate letters, send them to the MailerSystems, and
monitor the status of the sent letters.<span style="mso-spacerun: yes">&nbsp;
</span>The Viking will interact with the MailerSystems to send letters and the
MailerSystems will interact with The Viking to give status about sent letters
or to receive replies.<span style="mso-spacerun: yes">&nbsp; </span>This
paragraph is just an overview; see the Requirement Stories for more detailed
requirements.</p>

<p class=MsoNormal align=center style='text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" style='width:274pt;height:265pt' o:ole=""
 fillcolor="window">
 <v:imagedata src="TheViking5e_files/image003.wmz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=276 height=267
src="http://markfussell.github.com/images/TheViking5e_files/image004.gif" v:shapes="_x0000_i1026"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.6" ShapeID="_x0000_i1026"
  DrawAspect="Content" ObjectID="_1295532714">
 </o:OLEObject>
</xml><![endif]--></p>

<h2>Requirement Stories</h2>

<p class=MsoNormal>The following pages contain The Viking&#8217;s requirements
expressed as stories (informal use cases).<span style="mso-spacerun:
yes">&nbsp; </span>Each story has a header area containing an identifier, a
name, and a date: these are just for reference purposes.<span
style="mso-spacerun: yes">&nbsp; </span>More importantly, each story is given a
priority.<span style="mso-spacerun: yes">&nbsp; </span>The Viking <b
style='mso-bidi-font-weight:normal'>must</b> support higher priority stories
(lower numbers) before it can be considered to support lower priority stories:
that is, if The Viking supports stories with priority (#1,#2,#5,#6) it
effectively only supports two stories (stories with priority #5 and #6 are
ignored).<span style="mso-spacerun: yes">&nbsp; </span>The rest of the header
fields (or any additional fields) can be used as a team desires.<span
style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
next section of a Story is a description of the functionality The Viking needs
to provide to support that Story.<span style="mso-spacerun: yes">&nbsp;
</span>Following this is a section for requirement notes that augment the
description.<span style="mso-spacerun: yes">&nbsp; </span>Finally, there is a
section for any other notes the team wishes to associate with the story. </p>

<h3>Example Templates</h3>

<p class=MsoNormal>Some example templates are mentioned within the Requirement
Stories.<span style="mso-spacerun: yes">&nbsp; </span>Note that the format of
these templates is meant to represent functionality and ease of use.<span
style="mso-spacerun: yes">&nbsp; </span>It is not required that The Viking use
the same special delimiters or other characteristics, but it must be easy for a
user to edit and preview the templates both with and without sample data.</p>

<h2>Final Notes</h2>

<p class=MsoNormal>Bonus credit will be awarded to teams who can correctly
identify the reason The Viking is so named.</p>

</div>


<p><b><span style='font-size:8.0pt;mso-bidi-font-size:13.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL
style='page-break-before:auto;mso-break-type:section-break'>
</span></b></p>

<div class=Section2>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>1<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>1<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Letter Generation<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>A user selects a set of customers to whom they wish
to send letters and a template that defines the letter format.<span
style="mso-spacerun: yes">&nbsp; </span>The Viking then generates a letter per
customer that is based on filling in the &#8220;pluggable&#8221; information for the
template with customer-related information.<span style="mso-spacerun:
yes">&nbsp; </span>The user then previews the result of expanding the template
for each of the customers.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>For this story, a template like:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt;mso-border-shadow:yes;margin-left:.5in;
margin-right:.5in'>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Dear &laquo;<span
class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Proper
Salutation</span></span>&raquo; &laquo;<span class=PluggableField1><span style='font-size:
8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s Name</span></span>&raquo;,</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thank you very
much for ordering from us on &laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Date of Most Recent Order</span></span>&raquo;.<span
style="mso-spacerun: yes">&nbsp; </span>We recently received several thousand
cans of the very special ingredient, which has returned from a luxurious trip
to Hawaii, and we can make a one-time offer of just US$99.99 per case. <span
style="mso-spacerun: yes">&nbsp;</span>If you are interested, just call
1-800-555-1234 or click to:</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt;text-indent:.5in'>http://www.TheHappyViking.com/SpecialOrder/&laquo;<span
class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Special
Order Number</span></span>&raquo;/order.html</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>If you contact us
by phone, mention special order #&laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Special Order Number</span></span>&raquo;
to get this extra special discount.</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thanks again from
all of us at The Happy Viking.<span style="mso-spacerun: yes">&nbsp; </span>We
hope you have many days and nights enjoying this wonderful delicacy.</p>

</div>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySectionText>should be considered representative.<span
style="mso-spacerun: yes">&nbsp; </span>As a first stage you could even
consider just the pluggable information on the first line.</p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>3<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Adding Customer Information</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>A user knows of a new customer that she wants to add
to The Viking.<span style="mso-spacerun: yes">&nbsp; </span>The user can create
a new customer entry and record relevant information (Name, Salutation,
Address, Recent Purchase, and anything else needed by other parts of The
Viking) for that customer.<span style="mso-spacerun: yes">&nbsp; </span></p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>Ultimately, it will be necessary to support arbitrary
information associated with a customer, but for this story the information
necessary can be &#8220;hard-coded&#8221; to be just the information mentioned in the
description and augmented as necessary to satisfy other stories.</p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>3<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Sending Letters</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>A user chooses from among the generated letters and
decides which ones to send out and by which MailingSystem to send them.<span
style="mso-spacerun: yes">&nbsp; </span>The Viking should already have
information associated with each customer so it can properly distribute the
letter by a particular MailingSystem: the user should not need to enter this
information as part of the sending process.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>To support this story alone, it is only necessary to
send by SMTP or similar for email, and to print out the letter (with an address
header) for postal mail.<span style="mso-spacerun: yes">&nbsp; </span>Future
stories may increase the number of MailingSystems.</p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>4<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>6<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Customer Selection by Criteria</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>Upgrade the template from Story#1 to support
selecting the set of customers by various search criteria.<span
style="mso-spacerun: yes">&nbsp; </span>For example, select all customers who
spent more than US$100 on their most recent order, or all customers who have
ever bought a particular product.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySection>Notes:</p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>5<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>8<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Add New Property Types</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>Allow a user to augment The Viking&#8217;s information
model with additional property types for customers.<span style="mso-spacerun:
yes">&nbsp; </span>A user should be able to enter property values for each of
these new property types for any given customer, and to access the property
types within the templates.<span style="mso-spacerun: yes">&nbsp; </span>No
information currently within The Viking can be lost when recording additional
property types.<span style="mso-spacerun: yes">&nbsp; </span>You can assume new
properties are always simple strings.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>An example property type might be &#8220;Pet&#8217;s Name&#8221; and
&#8220;Pet&#8217;s Pronoun&#8221; (He, She, or It).<span style="mso-spacerun: yes">&nbsp;
</span>A corresponding template might be:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt;mso-border-shadow:yes;margin-left:.5in;
margin-right:.5in'>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Dear &laquo;<span
class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Proper
Salutation</span></span>&raquo; &laquo;<span class=PluggableField1><span style='font-size:
8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s Name</span></span>&raquo;,</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thank you very
much for ordering from us on &laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Date of Most Recent Order</span></span>&raquo;.<span
style="mso-spacerun: yes">&nbsp; </span>We are sure &laquo;<span
class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s
&#8220;Pet&#8217;s Name&#8221;</span></span>&raquo; will love the delicacy.<span style="mso-spacerun:
yes">&nbsp; </span>Please give &laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s &#8220;Pet&#8217;s Pronoun&#8221;</span></span>&raquo;
our best wishes and if &laquo;<span class=PluggableField1><span style='font-size:
8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s &#8220;Pet&#8217;s Pronoun&#8221;</span></span>&raquo;
would like to order some more, call us at: 1-800-555-1234 or connect to:</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>http://www.TheHappyViking.com/</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thanks again from
all of us at The Happy Viking.<span style="mso-spacerun: yes">&nbsp; </span>We
hope &laquo;<span class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:
10.0pt'>Customer&#8217;s &#8220;Pet&#8217;s Name&#8221;</span></span>&raquo; has many days and nights
enjoying this wonderful delicacy.</p>

</div>

<p class=StorySection>Notes:</p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>6<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>9<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Template Grouping </span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>Instead of only having a single template selected by
a user, enable the user to create/store/recall a named group of templates that
will determine a single template to use based on information from a
customer.<span style="mso-spacerun: yes">&nbsp; </span>So the user can pick a
template group and a thousand customers and the appropriate template (based on
the users criteria captured within the group) will be used for each
customer.<span style="mso-spacerun: yes">&nbsp; </span>Only a single template
will ever be selected (so a single letter generated) per customer, so there
must be a deterministic set of (user controllable) rules to make the selection
within the group.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>For example, the group of templates might be in
French, English, Chinese, etc.<span style="mso-spacerun: yes">&nbsp; </span>And
each customer has a &#8220;Preferred Language&#8221; property that will be used to choose
amongst the templates. After that, the template evaluation can be the same as
always.</p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>7<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>7<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>List Information Support</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>Upgrade the template from Story#1 to support multiple
(list) information associated with a customer.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>For this story, a template like:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt;mso-border-shadow:yes;margin-left:.5in;
margin-right:.5in'>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Dear &laquo;<span
class=PluggableField1><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Proper
Salutation</span></span>&raquo; &laquo;<span class=PluggableField1><span style='font-size:
8.0pt;mso-bidi-font-size:10.0pt'>Customer&#8217;s Name</span></span>&raquo;,</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thank you very
much for ordering from us on &laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Date of Most Recent Order</span></span>&raquo;.<span
style="mso-spacerun: yes">&nbsp; </span>Given your order, can we recommend the
following companion products:</p>

<p class=TemplatePar align=center style='margin:0in;margin-bottom:.0001pt;
text-align:center'>&laquo;<span class=PluggableField1><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt'>List of companion products and their prices<o:p></o:p></span></span></p>

<p class=TemplatePar align=center style='margin:0in;margin-bottom:.0001pt;
text-align:center'><span class=PluggableField1><span style='font-size:8.0pt;
mso-bidi-font-size:10.0pt'>based on the items within the recent order</span></span>&raquo;</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>All of these
items are being offered at special discount prices, just for you.<span
style="mso-spacerun: yes">&nbsp; </span>If you are interested, just call
1-800-555-1234 or connect to:</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><span
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>http://www.TheHappyViking.com/SpecialOrder/&laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Special Order Number</span></span>&raquo;/order.html</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>If you contact us
by the phone, mention special order #&laquo;<span class=PluggableField1><span
style='font-size:8.0pt;mso-bidi-font-size:10.0pt'>Special Order Number</span></span>&raquo;
to get this extra special discount.</p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'><o:p>&nbsp;</o:p></p>

<p class=TemplatePar style='margin:0in;margin-bottom:.0001pt'>Thanks again from
all of us at The Happy Viking.<span style="mso-spacerun: yes">&nbsp; </span>We
hope you have many days and nights enjoying this wonderful delicacy.</p>

</div>

<p class=StorySectionText>should be considered representative.<span
style="mso-spacerun: yes">&nbsp; </span>The format of the list can initially
(for this story alone) be automatic.<span style="mso-spacerun: yes">&nbsp;
</span></p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySectionText>To support this story, The Viking will have to
associate customers with the products that they purchased and then products
with companion products.<span style="mso-spacerun: yes">&nbsp; </span>An
example information relationship might be:</p>

<p class=StorySectionText align=center style='text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:350pt;height:119pt' o:ole=""
 fillcolor="window">
 <v:imagedata src="TheViking5e_files/image005.wmz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=352 height=121
src="http://markfussell.github.com/images/TheViking5e_files/image006.gif" v:shapes="_x0000_i1027"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.6" ShapeID="_x0000_i1027"
  DrawAspect="Content" ObjectID="_1295532715">
 </o:OLEObject>
</xml><![endif]--></p>

<p class=StorySection>Notes:</p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>8<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>5<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Delivery Monitoring</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>A user reviews the letters to see which have been
sent and whether any of them have &#8220;failed delivery&#8221;.<span style="mso-spacerun:
yes">&nbsp; </span>If so, the user can choose to resend them either by the same
MailingSystem or by a different MailingSystem.<span style="mso-spacerun:
yes">&nbsp; </span>Also, to support this story, the MailingSystem must be able
to tell The Viking which sent letters &#8220;failed delivery&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span>It is up to The Viking to encode enough
information in a sent letter to be able to correctly identify (or support a
human to identify) which sent letter has &#8220;failed delivery&#8221;.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>For the case of postal mail, a person will represent
the MailingSystem and will need to be given a UI to find a sent letter and say
that it &#8220;failed delivery&#8221;.<span style="mso-spacerun: yes">&nbsp; </span>For the
case of electronic mail, the MailingSystem should be able to talk directly with
The Viking (i.e. through a non-UI API). </p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>9<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>4<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Template Creation</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>A user creates a new template either from scratch or
by copying an existing template.<span style="mso-spacerun: yes">&nbsp; </span>A
template needs to support both constant and &#8220;pluggable&#8221; information, and a user
should be able to create a template and preview its appearance. The editing of
a template does not need to be WYSIWYG, but it could be. </p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText>It would be nice if the previewing capability
included being able to see the template with and without example data, but this
is not required.</p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySpacer><o:p>&nbsp;</o:p></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:solid gray 1.5pt;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-top:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-top:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:solid gray 1.5pt;
  border-left:none;border-bottom:none;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader style='margin-left:-4.5pt'>Story ID</p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>10<o:p></o:p></span></b></p>
  </td>
  <td width=57 colspan=2 valign=top style='width:56.95pt;border:none;
  border-right:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Date</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>2000-04-01<o:p></o:p></span></b></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Priority</p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:12.0pt;mso-bidi-font-size:
  10.0pt;color:navy'>10<o:p></o:p></span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:none;border-right:solid windowtext 1.0pt;mso-border-left-alt:
  solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryMinorHeader>Name</p>
  </td>
  <td width=321 colspan=8 valign=top style='width:320.65pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=xl31 align=left style='text-align:left'><b style='mso-bidi-font-weight:
  normal'><span style='color:navy'>Multiple Final Formats</span></b></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=164 colspan=4 valign=top style='width:163.8pt;border-top:none;
  border-left:solid gray 1.5pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid gray 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Development Risk</p>
  </td>
  <td width=71 valign=top style='width:70.8pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=79 colspan=3 valign=top style='width:79.0pt;border:none;border-right:
  solid windowtext 1.0pt;mso-border-left-alt:solid windowtext .5pt;mso-border-left-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=StoryHeader>Estimate<span style='font-weight:normal;mso-bidi-font-weight:
  bold'><o:p></o:p></span></p>
  </td>
  <td width=66 valign=top style='width:66.45pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr>
  <td width=59 valign=top style='width:59.4pt;border:none;border-left:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border:none;border-right:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid gray 1.5pt;
  border-bottom:solid gray 1.5pt;border-right:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
  <td width=47 valign=top style='width:47.45pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=56 valign=top style='width:56.25pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=72 colspan=3 valign=top style='width:72.3pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=77 valign=top style='width:76.85pt;border:none;border-bottom:solid gray 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=68 colspan=2 valign=top style='width:67.8pt;border:none;border-bottom:
  solid gray 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=12 valign=top style='width:11.85pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.5pt;border-right:solid gray 1.5pt;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:4.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></b></p>
  </td>
 </tr>
 <![if !supportMisalignedColumns]>
 <tr height=0>
  <td width=59 style='border:none'></td>
  <td width=47 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=71 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=77 style='border:none'></td>
  <td width=1 style='border:none'></td>
  <td width=66 style='border:none'></td>
  <td width=12 style='border:none'></td>
 </tr>
 <![endif]>
</table>

</div>

<p class=StorySection>Description:</p>

<p class=StorySectionText>The Viking needs to have the ability to generate
multiple final formats (e.g. PDF, ASCII, HTML, etc.) from a single &#8220;content
template&#8221;.<span style="mso-spacerun: yes">&nbsp; </span>The &#8220;content template&#8221;
should describe the information, wording, and structure of the resulting
letter.<span style="mso-spacerun: yes">&nbsp; </span>A set of &#8220;formatters&#8221;
should take this resulting generic letter and be able to convert it into PDF,
ASCII, HTML with various styles, and so on.<span style="mso-spacerun:
yes">&nbsp; </span>Basically this is just a content vs. format separation so
someone focused on presentation issues can deal with the difficulties of HTML
styling and the other format issues.<span style="mso-spacerun: yes">&nbsp;
</span>The &#8220;content template&#8221; writer can focus on what information needs to be
communicated to the customer independently of the styling.</p>

<p class=StorySection>Requirement Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySection>Notes:</p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<p class=StorySectionText><o:p>&nbsp;</o:p></p>

<b><i><span style='font-size:16.0pt;mso-bidi-font-size:14.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-ansi-language:EN-US;mso-fareast-language:EN-US'><br clear=ALL
style='page-break-before:always'>
</span></i></b>

<h2>CodeFest Description</h2>

<p class=MsoNormal>The problem description of The Viking for CodeFest is the same
as for DesignFest.<span style="mso-spacerun: yes">&nbsp; </span>Depending on
your CodeFest team, you may also have DesignFest deliverables that can help you
build The Viking.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The Viking can be built incrementally: it is acceptable to
support just the first few highest-priority stories.<span style="mso-spacerun:
yes">&nbsp; </span>But to successfully complete functionality for The Viking
you must have Functional Tests that show the system can support the particular
stories.<span style="mso-spacerun: yes">&nbsp; </span>Some of the Functional
Tests could include a human script for GUI interaction, but most of the tests
should be automated.<span style="mso-spacerun: yes">&nbsp; </span>Although you
may not have a Subject Matter Expert (SME) available within the CodeFest team,
you should have someone in the team represent the SME and make sure the
functionality of the stories is within the system.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The Viking can be built using any third party applications
and libraries that together total less than US$800 per seat.<span
style="mso-spacerun: yes">&nbsp; </span>For demonstration purposes, you can use
evaluation copies of products.<span style="mso-spacerun: yes">&nbsp; </span>A
third party product should not interfere with enhancing The Viking&#8217;s core
functionality, so ideally the product would be open source or have a very well
defined responsibility that is unlikely to grow beyond the product&#8217;s
abilities.<span style="mso-spacerun: yes">&nbsp; </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2 style='page-break-before:always'>DesignFest Submission Notes</h2>

<p class=MsoNormal>I think The Viking is an intermediate or introductory design
problem.<span style="mso-spacerun: yes">&nbsp; </span>It is a little &#8220;larger&#8221;
than The Vending Machine problem, but it is definitely doable by a mostly
beginner or intermediate team.<span style="mso-spacerun: yes">&nbsp; </span>I
recently used this problem as part of an OO training session with a team of
programmers new to OO and they could complete a CRC, Java Design, and a Java
domain implementation (no GUI but verified by Functional/Scenario tests) in a
single day. The Viking definitely does not have any particularly difficult or
obscure domain issues that would make it hard.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The biggest drawback to this design problem is that The
Viking is a dangerous tool and I do not want tools like this falling into the
wrong hands.<span style="mso-spacerun: yes">&nbsp; </span></p>

<h3>Difficulty Adjustments</h3>

<p class=MsoNormal>The difficulty of The Viking as a design problem is
partially dependent on how much &#8220;Analysis&#8221; is provided.<span
style="mso-spacerun: yes">&nbsp; </span>In this first submission I left any
real analysis deliverables out (for example, there is no abstract system model
or a conceptual model).<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>We
could put that in as an optional section if people desired, but DesignFest
problems have tended to be pre-Analysis in the past and teams may like
that.<span style="mso-spacerun: yes">&nbsp; </span>We might make it optionally
available to the team.<span style="mso-spacerun: yes">&nbsp; </span>Note that
in my submission I intentionally lowercased words like &#8216;customer&#8217;, &#8216;user&#8217;, and
&#8216;letter&#8217;.<span style="mso-spacerun: yes">&nbsp; </span>Just uppercasing these
words might make the design easier for beginners.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Obviously a major difficulty adjustment is the number of
Stories a team&#8217;s Viking can support.<span style="mso-spacerun: yes">&nbsp;
</span>The priority of the stories is meant to provide this path of increased
difficulty.<span style="mso-spacerun: yes">&nbsp; </span>We might also want to
group stories into sets that are given out at different times to make them less
intimidating (or to test system requirement changes on a team).<span
style="mso-spacerun: yes">&nbsp; </span>This may have been tried on previous
DesignFests, but I do not remember the results.</p>

<h3>CodeFest</h3>

<p class=MsoNormal>I think this could also be a good CodeFest problem: it is
very incrementally completable and over a couple days of work the completed
functionality could vary between:</p>

<p class=MsoBodyTextIndent>A fully functional system with a reasonable GUI to
manage Customer information, the ability to generate interesting Letter formats
(HTML, RTF), and even to send them by SMTP.</p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'>A system
pre-configured with Customer data, which can be executed with Functional tests,
and which sends some ASCII letters into a black-hole SMTP facade or out to a
transcript/log.</p>

<p class=MsoNormal>In any case within these extremes, a system could be demonstrated.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Because of the potential for very different capability
levels without excessive time commitment, this might be a reasonable problem to
try to get experienced coders (normal conference attendees) to take a shot
at.<span style="mso-spacerun: yes">&nbsp; </span>The major drawback is that the
result is not at all useful: it might be more interesting to do a WikiWiki
update or something.<span style="mso-spacerun: yes">&nbsp; </span>The trade is
that the problem is simpler to describe to a wide audience without it being
something everyone has already done.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Similarly, I think this problem lends itself to both an XP
approach and a pre-Designed approach over a similar two-day timeframe.<span
style="mso-spacerun: yes">&nbsp; </span>It might be a way to get a large
(informal) comparison of the XP approach to the pre-Designed approach.<span
style="mso-spacerun: yes">&nbsp; </span>Probably the biggest problem with this
is that skill and experience levels will vary too much to be a useful
comparison.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Finally, the language and tools used for implementation
would make a dramatic difference in completed functionality.<span
style="mso-spacerun: yes">&nbsp; </span>Combining tools like an enhanced XSLT
processor (Cocoon), XMetal, a language with Serialization capability or good DB
access, a GUI builder, and a built-in SMTP library would do more than 50% of
the system.<span style="mso-spacerun: yes">&nbsp; </span>Not really a problem,
but just a note.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>A Happy Viking has
many stories to tell, many songs to sing, but only one food to eat.<o:p></o:p></i></p>

<h3>Submitted by</h3>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;mso-padding-alt:
 0in 5.4pt 0in 5.4pt'>
 <tr>
  <td width=127 valign=top style='width:126.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Mark L. Fussell</p>
  </td>
  <td width=117 valign=top style='width:117.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>ChiMu Corporation</p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=127 valign=top style='width:126.9pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>mark.fussell@chimu.com</p>
  </td>
  <td width=117 valign=top style='width:117.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>www.chimu.com</p>
  </td>
 </tr>
</table>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why dynamic typing?]]></title>
    <link href="http://markfussell.github.com/blog/1997/08/27/why-dynamic-typing/"/>
    <updated>1997-08-27T18:00:00-07:00</updated>
    <id>http://markfussell.github.com/blog/1997/08/27/why-dynamic-typing</id>
    <content type="html"><![CDATA[<p>This is a discussion of the benefits and drawbacks of dynamic typing
based on specific questions by Anatol Fomenko.</p>

<p>The following is a reference to the main thread-point that this short paper is on:</p>

<ul>
<li> <a href="https://groups.google.com/forum/?fromgroups=#!topic/comp.lang.java.programmer/hIJfUz2kVIM%5B1-25-false%5D">Re: Why dynamic typing (was: Compiler as mediator)</a></li>
</ul>


<h2>Original Posting: Re: Why dynamic typing (was: Compiler as mediator)</h2>

<pre class="quote1">
Anatol Fomenko wrote:
> ...Why Smalltalk is dynamically typed, and why it
> does not affect negatively the stability of the large Smalltalk
> applications?
</pre>


<p>Rephrasing slightly gives the two following questions:</p>

<OL class="arab">
  <LI>Why is Smalltalk dynamically typed?</LI>
  <LI>Why does dynamic typing (as done with Smalltalk) not negatively
      affect the stability of large applications?</LI>
</OL>


<p>The first question would be better answered by Alan Kay and the
Smalltalk team more than anyone else relaying their reasons.  Alan Kay
has described some of his reasoning in the book &#8220;History of Programming
Languages II&#8221;, various OOPSLA &amp; Smalltalk talks, and other sources.</p>

<!-- more -->


<p>   In my own words, the main reason is that Smalltalk has a simple &amp;
powerful concept of building software out of Objects that send Messages
to other Objects.  This is more powerful in both the small and the large
than a language that adds the additional concept (and constraints) of
&#8220;Types&#8221;.  Note that biology has Objects (e.g. Cells) but no Types,
Humans are Objects but there is no compile-time type-checking between
humans, and even electronics do not have compile-time Types: you can
plug the GROUND pin into +5V if you want although some physical
constructs will discourage (but not prevent) it.  These highly scalable
areas (life, civilization, electronics) have done fantastically without
the support of Types, growing in orders of magnitude of functionality.
Alan Kay (who has a biology background) leveraged insights on how cells
and other highly-scalable areas could scale, and applied them to
Smalltalk.  The main concept was membranes/encapsulation and little else
was needed.</p>

<p>The second question may partially support the first.  The short answer
is dynamic typing can scale well because one tends to create much less
code as the system grows bigger.  As the system grows, objects will get
reused in many different situations for which they work well, and the
layers of &#8220;membranes&#8221; allow clients to not worry about internal details
very much.  It still requires a good architecture to build a big system,
but the generalizable functionality of the objects is helping a lot with
the design/implementation.</p>

<p>Now someone could argue that static typing should have the same
property: you write less code as you create more functionality.  But the
truth is that static typing does not just avoid/remove bad code, it
REMOVES GOOD CODE too.  And this good code that static typing is
removing is exactly the code that makes Smalltalk so scalable: it is the
code that can be reused in many different situations that were never
planned for by the original authors.  Dynamic typing excels because it
allows this highly reusable, good code that would not pass a static
typecheck.</p>

<h3>Quantifying the benefit of dynamic typing</h3>

<p>To quantify this a bit, consider that ultimately both a correctly
running Smalltalk program and a correctly running Java program will do
the same thing, so lets consider just one aspect:</p>

<UL>
   <LI>How much extra code needs to be written to support static-typing
vs. dynamic-typing?</LI>
</UL>


<p>The following are all rough estimates between Java and Smalltalk, but
they are based on years of experience doing very similar tasks in both
languages [but Your Mileage May Vary].  Smalltalk requires about 1/2 to
1/3 the number of statements within a method to accomplish the same
thing as Java [this is one of the most painful aspects of switching back
and forth between Smalltalk and Java/C++], so the extra code is at least
100% (2x).  The next level is the number of additional methods needed
because of static typing.  From my experience this is probably about
20%: one in six methods in Java would simply not need to exist in
Smalltalk because they are solely solving a static typing problem and
could otherwise be collapsed into the remaining five methods.  The next
level are additional classes, which is at least another 30%.  Finally, I
will end with additional &#8220;packages&#8221; of functionality which have to be
rewritten or somehow significantly copied/changed to use in the desired
context.  Again, I would say this is about 20% or so (where the &#8216;or so&#8217;
can get really large).  All totaled this is a minimum of:</p>

<pre class="code">
   2.0 x 1.2 x 1.3 x 1.2 = 3.75  (275% larger)
</pre>


<p>and could get as large as</p>

<pre class="code">
   3.0 x 1.3 x 1.5 x 1.7 = 9.5   (850% larger)
</pre>


<p>If you take out the method-statement-level multiplier (people don&#8217;t seem
to mind this growth as much and it is well localized) you get an 85% to
230% growth in overall system size (packages of classes of methods).</p>

<p>It would be better to have real experimental numbers (say for TOPLink or
another cross-language product).  But the above gives the general
concept of an advantage of dynamic languages and the penalty of static
typing.</p>

<p>If you need a specific example, consider the [completely randomly
selected] JDK 1.2 Collection code of:</p>

<pre class="code">
    public boolean AbstractCollection::removeAll(Collection c) {
        boolean modified = false;
        Iterator e = iterator();
        while (e.hasNext()) {
            if(c.contains(e.next())) {
                e.remove();
                modified = true;
            }
        }
        return modified;
    }
</pre>


<p>The static-typing problem in this extremely simple code is that &#8216;c&#8217; only
needs to respond to &#8216;contains&#8217;, not be a Collection.  This means I can&#8217;t
just use any containment concept I want to (say, remove all people who
are 6&#8217; tall) by passing in an object that understands &#8216;contains&#8217;.
Because of a static-typing restriction on what would be perfectly good
code, I have to create extra code that reproduces 90% of the above with
the one variation that &#8216;c&#8217; is something other than a Collection (and I
am likely to pick something as silly [i.e. too specific] as &#8216;Collection&#8217;
again).  This is the type of &#8216;package&#8217;-level punishment that static
typing tends to cause.</p>

<h3>Affect on stability</h3>

<p>So returning to the question:</p>

<pre>
  (2) Why does dynamic typing (as done with Smalltalk) not negatively
      affect the stability of large applications?
</pre>


<p>Because large applications written in a dynamic OO language still have
well encapsulated parts that can be verified independently, and the
total implementation can be about 1/2 to 1/3 the size of the
implementation in Java (or another static-typed language)[2].</p>

<p>In the small you may get a type error that static-typing could have
catched, but you also get to build a system such that you never have to
write 40-70% of the code you might otherwise have to.  And a line of
code not written is a 100% guaranteed correct line of code.</p>

<p>A way to really think about the negative impacts of static typing would
be to consider (as you walk around) how many things in the real world
would be extremely difficult to do if static typing was enforced on
them.  For example, could you have a shoe-rack? (no, someone would have
to &#8216;cast&#8217; their shoes when they took them out again).  Could you use a
key to cut open a package?  Could gas-injection cork removers exist?
Heterogeneity, flexibility, extensibility, and reusability are all
punished by static typing.</p>

<p>Not that I think static-typing isn&#8217;t useful&#8230; it just has serious
drawbacks.  Certainly Eiffel does it better than Java.  But
dynamic-typing has conceptual advantages that even the best static-typed
languages (e.g. Cecil) can&#8217;t remove and those advantages are very
helpful in building real, large-scale, applications.</p>

<pre class="signature">
--Mark
</pre>




<p class="footnote">
[1] If you would like a longer example of completely removing static
typing from a Java program and then re-adding it incrementally, see:
<pre>
   <a href="http://www.chimu.com/publications/smallJava/index.html">http://www.chimu.com/publications/smallJava/index.html</a>
</pre>

<p class="footnote">
[2] On the other hand, the value of a programming language is determined
by how well it helps developers solve their problems.  Although the
quality of a language itself can make it a better tool, the real power
comes from high quality libraries and frameworks available to that
language.  Smalltalk has an inherent advantage but if the number of
skilled developers creating for another language (e.g. Java) is high
enough, than that inherent advantage will go away because enough better
frameworks will exist in the other language such that Smalltalk would
not be as close to the solution as the other language is.
</p>


<H2>Subsequent Discussion</H2>

<H3 class="discussion">More details and examples</H3>


<pre class="quote1">
Joern Janneck wrote:
> Mark Fussell wrote:
> >    In my own words, the main reason is that Smalltalk has a simple &
> > powerful concept of building software out of Objects that send Messages
> > to other Objects.  This is more powerful in both the small and the large
> > than a language that adds the additional concept (and constraints) of
> > "Types".
>
> actually, you could have both, couldn't you? many oo languages do, i see
> little reason to present them here as alternatives. the question really
> is, why only one of them is better than the two put together, isn't it?
</pre>

Sure, there are lots of variations:
<OL class="arab">
  <LI>Either you have compile-time types or you don&#8217;t</LI>
  <LI>Either those compile-time types are mandatory, they are optional,
or there are loopholes [e.g. allow dynamic typechecks]</LI>
  <LI>Either types are explicitly declared or implicit</LI>
  <LI class="etc">&#8230; [equal or identical type matching, granularity, DBC enhancements,
type/class separation]&#8230;</LI>
</OL>


Some OO languages support multiple variations, but usually even if a
language supports semi-optional compile-time types they will have the
bulk of their code with mandatory compile-time checks and you can&#8217;t just
turn it off.  Most common compile-time typed languages have mandatory
types with loopholes.


But the questions were:
<pre class="quote2">
>   (1) Why is Smalltalk dynamically typed?
>   (2) Why does dynamic typing (as done with Smalltalk) not negatively
>       affect the stability of large applications?
</pre>


The part you quoted was the auxilary answer to (1): the main answer was
read HOPL-II and similar sources.  And to discuss (2) we have to compare
dynamic (optimistic) typing to static (pessimistic) typing.  It would
certainly be quite valid to consider them within a single language.  I
did a bit of that in:
<pre>
   <a href="http://www.chimu.com/publications/smallJava/index.html">http://www.chimu.com/publications/smallJava/index.html</a>
</pre>


And note that I would prefer not to be comparing relatively
weak/immature languages (in terms of static typing) like Java and C++.
I would much rather be talking in terms of Eiffel or Cecil.  But the
reality is that Java is currently a common language to show examples.  I
certainly would not make a point of a failing in Java (e.g. invariant
return type) as a failing in static typing.  I tend to think primarily
in terms of Eiffel but with the additional separation of types from
classes (that Eiffel supports but does not enforce).  This seems to be a
reasonable perspective considering commonly available languages.


So returning to the topic, I will add a little more explanation for a
few of the points.

### Problems with type-checking

Note that there is nothing conceptually wrong with static
type-checking.  It would be wonderful to create software that can be
completely verified before execution.  That is provably impossible, but
getting closer to that goal would be nice.  Static typing is a possible
approach: you at least make sure that all clients and suppliers agree to
a contract ahead of time before even attempting to run the program.
Some of the problems with static typing are that:
<OL class="upperAlpha">
  <LI>Types are sometimes bound to Implementation Classes</LI>
  <LI>Types have poor granularity.  Frequently a Type will be specified
that has too many operations (is too specific) to be useful in multiple
contexts even though subsets of those operations (a more general
concept) is widely useful.  Since it costs effort to name and create
each Type, there is an impetus of reduction that again impedes reuse and
generalization.  Save now, pay later.</LI>
  <LI>Precise type information is lost when objects are fed through more
generic structures.</LI>
  <LI>Types restrict future type-safe expansion to programs.  Some
programs that could have been written type-correctly if done in one
&#8220;lump&#8221; are impossible to write given the actual historical growth of a
program (many people, different companies, over time, with limited
foresight).  Choose now, pay later.</LI>
</OL>


Of these (A) is actually easily fixable, and Java has helped with that.
And maybe people accept the workaround with (C): either massive
conceptual (and usually code) bloat for a myriad of homogeneous
structures or using a dynamic-typecheck loophole.  But (B) and (D) are
pretty much intractable flaws in static typing for the near future (next
10 years of commercial software).  I would love to be wrong, but it
seems unlikely at the current rate of change in programming languages
and research.


Someone could say somehow they avoid (B) and (D) but I would bet big
money that they are being bit by them all the time.  I gave an example
from the Java collections.  Everyone who programs in Java had the
opportunity to comment on the JDK 1.2 collections for maybe a year
before they were frozen.  But the final choice was to have neither a
concept of an &#8216;Iterable&#8217; object or a &#8216;Containing&#8217; object.  This caused
all of the following methods to have poor granularity:
<pre>
    public boolean containsAll(Collection c)
    public boolean addAll(Collection c)
    public boolean removeAll(Collection c)
    public boolean retainAll(Collection c)
</pre>


Each of the above only needed a single operation: &#8216;contains&#8217; or
&#8216;iterator&#8217;.  But Javasoft rejected:
<pre>
    public boolean containsAll(Container c)
    public boolean addAll(Iterable c)
    public boolean removeAll(Container c)
    public boolean retainAll(Container c)
</pre>


Why?  Because it increased the number of interfaces, which would be a
pain (consider their design notes and the analyses of Doug Lea&#8217;s
collection classes).  A perfect example of both (B) and (D): save now,
choose now, pay later.  And the examples are all over the place in Java,
C++, and Eiffel library code.


The arguments presented against this existing problem actually reinforce
the examples of (B) and (D):

<h3>Changing an existing class/interface</h3>

<pre class="quote1">
Davorin Mestric wrote:
>  Yes you can:
>     ...
>     public interface IContains{ public boolean contains( Object o);}
>     ...
>     public void AbstractCollection::removeAll( IContains c) {
</pre>


No, *I* can&#8217;t change &#8216;AbstractCollection&#8217;.  And Javasoft chose not to do
it that way.  They may have chosen unwisely, but that actually means a
whole community of Java programmers chose unwisely because of other
forces solely attributable to static typing.  The problem was putting
these forces on their decision in the first place.

<pre class="quote1">
Joern Janneck wrote:
> ... now
> assume that for a given class of collection (hashed collections are a
> good example) it is more efficient to implement removeAll by iterating
> over the argument (when it is smaller, maybe) instead of over the
> original collection:
[...]
</pre>


OK, so the original contract/type should have been &#8216;IterableContainer&#8217;.
How should I know that ahead of time?  Why did Javasoft not choose that
interface instead?  Collection is definitely too big
a requirement because it dramatically limits the usability of the method
&#8216;removeAll&#8217;.  I would argue that &#8216;IterableContainer&#8217; is also too big.
Why can&#8217;t I just support the &#8216;contains&#8217; method?  As I gave an example:

<pre class="code">
   new Container() { public boolean contains(Object o) {
       ... person is &lt; 6ft...
   }}
</pre>


I can&#8217;t iterate over all the people under six feet tall, or it would at
least be very painful.  Why should iterability be a requirement to a
method like &#8216;removeAll&#8217;?  Intuitively this seems extremely limiting and
I know it to be so in actually building systems.  But the bigger problem
isn&#8217;t just the choices in contract for the &#8216;removeAll&#8217; method, but that
out of simplification that that contract was lumped in with a whole
bunch
of other contracts for Collections in general.

<h3>Summary</h3>


Within just this one simple class (AbstractCollection):
<UL>
  <LI>4 are too specific (they only require an &#8216;Iterable&#8217; or &#8216;Container&#8217;)</LI>
  <LI>3 are non-typed (typed to Object)</LI>
  <LI>4 are non-typed (no parameters)</LI>
  <LI>1 &#8216;toArray(Object[])&#8217; is redundant (and is effectively dynamically
    typed)</LI>
</UL>


So 7 out of 12 are identical with the dynamic version (considering only
parameters), 1/3 are &#8220;incorrect&#8221; caused by static typing disincentives,
and 1 is simply redundant.

<pre class="quote1">
Joern Janneck wrote:
> ...let me again point out that i think that code size
> as such is not the issue in big systems. it is design, and code
> complexity. these don't differ in principle between type systems, and
> arguably static type systems might encourage more structure. or not, who
> knows.
</pre>


In principle, with a perfect static type system, there is no
difference.  But that type system does not exist and current languages
are very far away from it.  The problems (A)-(D) are not just affecting
intra-method complexity (semi-harmless code bloat) they are affecting
inter-object and inter-package complexity.  In just the example
presented we will have to increase (potentially many) clients effort to
use a Collection for their goals, or we will have to provide additional
methods somewhere else (a Collection helper) that a client will need to
know of and again increase the clients&#8217; efforts.


And the argument can be more informed than just personal opinion.
We have plenty of examples of the various languages to compare[1]:
The libraries of Smalltalk, C++, Perl, Java, Eiffel, etc.; Design
Patterns in various languages; and so on.  If you review all these
languages in depth you will find that static typing is certainly harming
scalability.  It may be helping in certain ways against mistakes in the
small, but it is interfering with good code (code that will execute
properly at runtime, is easy to understand, is easy to maintain, and is
useful to many clients) that helps grow systems in the large and over
time.


But great software can be written in any language in spite of each&#8217;s
flaws.  It is just important to keep the great ideas in your team&#8217;s
heads &#8230; and the bad ideas too so you can avoid them (or work around
them) when possible.

<pre class="signature">
--Mark
</pre>


<p class="footnote">
[1] A multi-year immersive experience in each language would be the best
approach, but some of the following might be easier to catch up on:
<UL>
   <LI>Design Patterns: Elements of Reusable Object-Oriented Software</LI>
   <LI>The Design Patterns Smalltalk Companion</LI>
   <LI>Reusable Software: The Base Object-Oriented Component Libraries.</LI>
   <LI>Smalltalk-80: The Language and its Implementation</LI>
   <LI>JDK 1.2 & JGL (www.objectspace.com)</LI>
   <LI>The C++ ANSI/ISO Standard Template Library</LI>
   <LI>CPAN</LI>
</UL>
</p>


<H3 class="discussion">Java Collection</H3>

<pre class="quote">
Joern Janneck wrote:
> Mark Fussell wrote:
> > If you need a specific example, consider the [completely randomly
> > selected] JDK 1.2 Collection code of:
> >     public boolean AbstractCollection::removeAll(Collection c) {
[snip]
> >
> > The static-typing problem in this extremely simple code is that 'c' only
> > needs to respond to 'contains', not be a Collection.  This means I can't
> > just use any containment concept I want to (say, remove all people who
> > are 6' tall)
>
> ... which is something that could be defined as a collection, couldn't
> it? at least in a good design, it should be able to.
</pre>

I don&#8217;t think you really mean that.  Of the 13 operations for a
Collection:
<pre class="code">
    public boolean contains(Object o);
    public boolean containsAll(Collection c);
    public Iterator iterator();
    public int size();
    public boolean isEmpty();
    public Object[] toArray();
    public Object[] toArray(Object a[]);
    public boolean add(Object o);
    public boolean remove(Object o);
    public boolean addAll(Collection c);
    public boolean removeAll(Collection c);
    public boolean retainAll(Collection c);
    public void clear();
</pre>

The concept of &#8220;contains a person 6&#8217; tall&#8221; could only reasonably be
considered to have the first operation at its core with the second as a
helper (really an &#8220;augmentation&#8221; from Collection&#8217;s point of view).
_Maybe_ the third through seventh operation if we insist on the set
being preknown and finite.  All of the rest imply serious mutability
which it would be unreasonable to cause all clients of &#8216;removeAll&#8217; to
support for the parameter &#8216;c&#8217;.  I can&#8217;t believe you consider this to be
a good design and good code.  Again, my definition of good code is code
that will execute properly at runtime, is easy to understand, is easy to
maintain, and is useful to many clients.  This problematic restriction
(all 13 operations instead of 1, 2, or maybe 7) makes this code much
less useful, harder too understand (&#8220;why do we need a full heavyweight
Collection for a simple predicate-like test&#8221;), and the system less
maintainable because we have not specified what we really, precisely,
wanted from the parameter &#8216;c&#8217;.

The argument that HashedCollection would like more from the parameter
&#8216;c&#8217; is really a symptom of this imprecision and a weighting towards
implementers over clients.  Clients are the important ones and need to
be considered first.  There will be many more clients of a particular
operation than implementers of it, so the quality/usefulness of the
contract to the client is much more important to the scalability of the
application.  Client-punishing contracts are the hobgoblins of static
typing.


<H3 class="discussion">Augmenting existing Types</H3>

<pre class="quote1">
Mike Anderson wrote:
[snip]
> ...If, when implementing the client
> of a preexisting class, I could create a new interface and declare that (in the
> context of my client) the preexisting class implements that interface, problem D
> would be solved (wouldn't it?).  Is such a feature feasible?  Are there
> compile-time-checked languages that support something like this?
</pre>

You might look into BeCecil as one example:
<pre>
   <a href="http://www.cs.washington.edu/research/projects/cecil/cecil/www/www/Papers/BeCecil.html">http://www.cs.washington.edu/research/projects/cecil/cecil/www/www/Papers/BeCecil.html</a>
</pre>

<H3 class="discussion">Augmenting existing Types</H3>

<pre class="quote1">
Joern Janneck wrote:
> Markus Kohler wrote:
[snip]
> > Here's a new example
>
> i'd still be interested in your answer to my objection to the first
> example. after all, it was originally supposed to show the virtues of st
> for _large_ sw development. i am still waiting to be answered on that
> issue.
</pre>


If I gave the first example you are referring to (as the originator of
this particular title of thread), I am not sure what answer you are
looking for.  I think multiple people have showed the problem that
static typing has with scaling (in both space and time) because of
certain limitations [&#8216;A&#8217;-&#8216;D&#8217;] fairly well.  Nothing that I and others
presented as problems are _unknown_ to static typing research and people
are busily working on solving these types of problems.  Language
families of Cecil, Haskell, ML, and so on are trying to solve these
problems because they *are* problems.  And they affect scalability.

Dynamic OO languages have benefits that cause (well designed
applications) to scale extremely well in size and space because they
allow components to be reused and pieced together in a more optimal way,
and so reduce overall system complexity.  The reason is that dynamic OO
languages simply do not artificially enlarge a contract between two
parties to include irrelevant details from:
<ol class="arab">
  <LI>Other parties (by being lumped together in a single named type).</LI>
  <LI>Other times   (because types were frozen by a compile at one
moment in time)</LI>
  <LI>Implementation </LI>
</ol>
Current static languages unfortunately encourage or require the
inclusion of these artificial restrictions in a system, which impedes
scalability (space and time).

<h3> Specific example </h3>

My example was:
<pre class="code">
    public boolean AbstractCollection::removeAll(Collection c)
</pre>

No, this is not large programming yet, but it is headed that way:
Collections are a core library in any programming language.  If there
are serious restrictions and overhead in dealing with them, this is a
strong indicator of what will come in many areas as the system scales
(in size and over time).  Simply consider the quality and lifetime of
the Smalltalk-80 collections.  They are better (more capable, more
useful, and more maintainable) than anything that has come from the C++
and Java languages over their unstable lifetimes &#8211; even though both
languages could have leveraged this existing work and its published
improvements.  The Smalltalk libraries have been amazingly stable over a
20 year period of use and growth: Smalltalk code I have from 1986 is
still CORRECT and is cleaner than (hopefully much more skillfully
written) Java code from 1999.

My other example included looking at the complexity of all the Design
Patterns in dynamic OO vs. static-typed OO languages.  If you seriously
think that the patterns are more elegant, scalable (size and time), and
maintainable in static-typed OO languages &#8211; Java, for example, needed
three *totally different* implementations of the Observer/Listener
pattern to deal with _primarily_ different typing issues &#8211; there is
unfortunately little to talk about.  If you simply think the tradeoff is
worth it, there is also little to talk about because I accept that
perspective.  Note that I was answering a specific question:
<pre class="quote1">
>   (2) Why does dynamic typing (as done with Smalltalk) not negatively
>       affect the stability of large applications?
</pre>

for someone who had never built a large application in Smalltalk or a
similar language.

<h3> Tradeoffs </h3>

The one aspect I do consider very useful with static typing for building
systems is that it *forces* developers to think formally about
interfaces between objects or their code breaks quickly.  This is a very
good training experience and should be repeated off and on to make sure
people aren&#8217;t getting sloppy.  But if you are a good designer, the
realities/restrictions of static typing cause you to produce somewhat
less scalable (over size and time) applications[1] than for a dynamic OO
language with similar effort in documentation of protocols and test
suites.  So the idea of switching back and forth between an optional
statically-checked and a dynamic [with documented protocols] OO language
is certainly a good one.  Better than having casting/type-checking
loopholes (a sort of strange intermediate).

Most large dynamic OO projects do have this characteristic
(static-oriented documentation) because UML and most other notations
require a static-type based perspective.  And well-defined
types/contracts exist all throughout good Smalltalk code, but some of
the best contracts (Valuable, Observer, Iterable, etc.) are just too
fine-grained, too pervasive, or too generic to be represented in a
statically-typed program.  Unfortunately, a dynamically simple concept
like &#8220;augmentations&#8221;[1] is also impossible to correctly represent in the
core UML because of its simplistic (C++ ish) static-typing origin.


<pre class="signature">
--Mark
</pre>

<p class="footnote">
[1] Just the one feature of Envy extensions (the ability to &#8220;augment&#8221;
existing classes with new behavior without modifying the original code)
is incredibly powerful for building large applications [especially
dealing with layering] and is only possible if the original compiler did
not statically freeze the types.
</p>


<H3 class="discussion">Amount of static typing</H3>

<pre class="quote1">
patrick@c837917-a.potlnd1.or.home.com wrote:
> : David Jenkins wrote:
> : > One of my problems with Java is that it pretends to be statically
> : > typed, but is not--you can always cast your way out of a type.
> : > Eiffel, I've found, is a very stern taskmaster when it comes to
> : > typing, but I've learned to appreciate the lessons it teaches.
>
> Java is no less statically typed than Eiffel, i.e. you cannot cast a
> Java object to anything that it was not defined to be (as could be
> done with C++, at least in years past).
</pre>

<p>
I think &#8220;more&#8221; or &#8220;less&#8221; statically typed was referring to &#8220;amount of
code that is verifiably type-correct at compile-time&#8221; not whether the
type system is safe.  I don&#8217;t think unsafe type systems are in any way
interesting to those reading these threads.   I agree with David Jenkins
that Java code will be far less compile-time verified than Eiffel
because of weaknesses in the Java type system (especially from the lack
of covariant return types and some form of parametric types).  A Java
typecheck cast (a &#8220;type attempt&#8221;) is just as dynamic as standard
Smalltalk message sends; the Java version just has a larger granularity
and a slightly different timing (before the message as opposed to at
message time).  The amount of &#8220;type attempts&#8221; within Java code is
enormously larger than the amount of &#8220;assignment attempts&#8221; within Eiffel
code.  So the Java code is really &#8220;much less statically typed&#8221; although
we are want for nice short phrases that a precise and accurate: &#8220;much
less compile-time type-verified&#8221;.
</p>

<p>
Interestingly, the Eiffel code will be additionally and more precisely
&#8220;dynamically object-verified&#8221; through the preconditions, postconditions,
and invariants.  So a stronger verification applied to the Objects
themselves is coming from dynamic checks (just like Smalltalk) as
opposed to compile-time checks.  Smalltalk with Eiffel-like DBC
capabilities would definitely muddle the linearity of type safety[1]:
Smalltalk would be more precisely verified at runtime than a Java
program but less precisely verified at compile time.  This would be
without the problems of compile-time typing (problems with granularity,
evolution, genericity, etc.).  Which is safer?&#8230; no I don&#8217;t want to go
down that topic&#8217;s path&#8230;
</p>

<p>
Actually, this Smalltalk augmentation is pretty easy [I previously did a
prototype and I also recall the concept being published in Smalltalk
Report] since we could: (1) allow DBC anotations in methods or
categorize special unit tests into pre, post, and invariant conditions,
(2) augment the compiler to generate the calls on method entry and exit,
(3) provide the same behavior as Eiffel [no check on intra-object
calls], and (4) throw reasonable exceptions depending on who is
responsible.  The main issues are the exact annotation form (although
UML&#8217;s OCL pretty much solves that problem) and
standardization/portability across Smalltalk platforms.
</p>

<pre class="signature">
--Mark
</pre>


<p class="footnote">
[1] Type safety: Amount the program is verified to behave correctly
</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tuple-Marks: NULLs everyone can live with]]></title>
    <link href="http://markfussell.github.com/blog/1997/06/02/tuplemarks/"/>
    <updated>1997-06-02T18:00:00-07:00</updated>
    <id>http://markfussell.github.com/blog/1997/06/02/tuplemarks</id>
    <content type="html"><![CDATA[<p>There is also a PDF version <a href="http://markfussell.github.com/pdfs/TupleMarks1j.pdf">here</a> which might be easier to read
because it has a bit more formatting.</p>

<div class=Section2>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861238"></a><a name="_Toc389930928"><span style='mso-bookmark:
_Toc389861238'>Abstract</span></a></h1>

</div>



<p class=MsoNormal>There has been a great deal of discussion about NULL values
in relational algebra.<span style="mso-spacerun: yes">&nbsp; </span>There is
the argument that <span class=SpellE>NULLs</span> help us with real database
problems of handling lack of information. There is a counter-argument that <span
class=SpellE>NULLs</span> and three-valued logic (3VL) cause major problems
with relational algebra and are unnecessary. <span style="mso-spacerun:
yes">&nbsp;</span>These arguments have been very informative and there is no
reason to repeat them.<span style="mso-spacerun: yes">&nbsp; </span>Instead I
will change the playing field.</p>



<p class=MsoNormal>I propose a simple but unusual meaning for <span
class=SpellE>NULLs</span>.<span style="mso-spacerun: yes">&nbsp; </span>A NULL
describes a <span class=SpellE>tuple</span>, not an attribute value: A <span
class=SpellE>tuple</span> with a NULL attribute belongs to a different relation
than a <span class=SpellE>tuple</span> without a NULL attribute.<span
style="mso-spacerun: yes">&nbsp; </span>A NULL becomes a Relation
Distinguishing <span class=SpellE>Tuple</span>-Mark.<span style="mso-spacerun:
yes">&nbsp; </span>This meaning provides the standard benefits of <span
class=SpellE>NULLs</span>: It helps us model missing information with a small
number of relation variables (i.e. tables) and simplifies understanding and
interacting with a database.<span style="mso-spacerun: yes">&nbsp; </span>On
the other hand, because <span class=SpellE>NULLs</span> are never attribute
values (or value &#8220;marks&#8221;) they have no impact on domain operations or the 2VL
of basic predicate logic.<span style="mso-spacerun: yes">&nbsp; </span>These
are <span class=SpellE>NULLs</span> I believe everyone can live with.</p>

<!-- more -->

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1 style='page-break-before:auto'><a name="_Toc389861239"></a><a
name="_Toc389930929"><span style='mso-bookmark:_Toc389861239'>Background
Requirements</span></a></h1>

</div>

<p class=MsoNormal>This paper rests heavily on the work of E. F. <span
class=SpellE>Codd</span><span class=GramE>,<span style="mso-spacerun:
yes">&nbsp; </span>C.J</span>. Date,<span style="mso-spacerun: yes">&nbsp;
</span>and all the rest of the people who helped grow relational theory.<span
style="mso-spacerun: yes">&nbsp; </span>There are many references to their
writings within the text and it will be hard to follow this document without a
good understanding of the relational model.<span style="mso-spacerun:
yes">&nbsp; </span>For example, you will need to be familiar with the precise
meanings of relation, relation variable, relation value, <span class=SpellE>tuple</span>,
domain, attribute, and value.<span style="mso-spacerun: yes">&nbsp; </span>I
will be using these terms because they are more precise and correct for the
relational model than table, column, and row.</p>



<p class=MsoNormal>It would also help to have read some of the previous debates
on <span class=SpellE>NULLs</span> and missing information in relational
modeling although this paper&#8217;s approach does not directly participate in those
debates.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861240"></a><a name="_Toc389930930"><span style='mso-bookmark:
_Toc389861240'>Overview</span></a></h1>

</div>

<p class=MsoNormal>This paper progresses as follows.<span style="mso-spacerun:
yes">&nbsp; </span>First we briefly discuss how the relational model represents
knowledge.<span style="mso-spacerun: yes">&nbsp; </span>We then turn to how it
can represent lack of knowledge without any additions to the relational model
(e.g. no <span class=SpellE>NULLs</span> or special values).<span
style="mso-spacerun: yes">&nbsp; </span>This approach for representing lack of
knowledge works well but has the problem that the database model can become
very complex.<span style="mso-spacerun: yes">&nbsp; </span>The next part of the
paper introduces simple additions to the relational model, which will allow us
to simplify the database with as little impact on relational algebra as
possible.<span style="mso-spacerun: yes">&nbsp; </span></p>



<p class=MsoNormal>First we introduce the concept of a Multi-Relation Variable
that can simplify a complex scheme while still being as expressive and correct
as the original scheme.<span style="mso-spacerun: yes">&nbsp; </span>Next we
make Multi-Relation Variables easy to use through the Relation-Distinguishing <span
class=SpellE>Tuple</span>-Mark.<span style="mso-spacerun: yes">&nbsp;
</span>The <span class=SpellE>tuple</span>-mark is the main topic for the rest
of the paper: We cover <span class=SpellE>tuple</span>-marks in the NULL
debate, comparisons of <span class=SpellE>tuple</span>-marks to other
approaches, and how to implement <span class=SpellE>tuple</span>-marks with
SQL.<span style="mso-spacerun: yes">&nbsp; </span>Finally we close with some
quotes from related work and a summary.</p>





<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861242"></a><a name="_Toc389930931"><span style='mso-bookmark:
_Toc389861242'>Knowledge</span> and Meaning</a></h1>

</div>

<p class=MsoNormal>To discuss how a database can handle lack of information, we
must first define how we put knowledge into a relational database<a
style='mso-footnote-id:ftn' href="#_ftn1" name="_ftnref" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[1]<![endif]></span></span></a>.<span
style="mso-spacerun: yes">&nbsp; </span>To start, I will bring up the familiar
Suppliers relation variable (S).</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.75in'>

<p class=RelVar style='margin:0in;margin-bottom:.0001pt'>S</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='background:#D9D9D9;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border:solid windowtext 1.5pt;
  border-right:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-right-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>S#</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-top-alt:windowtext 1.5pt;
  mso-border-left-alt:silver .5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader><span class=SpellE>SName</span></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-top-alt:windowtext 1.5pt;
  mso-border-left-alt:silver .5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>City</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border:solid windowtext 1.5pt;
  border-left:none;mso-border-left-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>The first thing me must do is to define what putting a <span
class=SpellE>tuple</span> (i.e. row) into S means: We must give S a
predicate.<span style="mso-spacerun: yes">&nbsp; </span>Without stating what S
means we can not translate between human knowledge and the database model.<span
style="mso-spacerun: yes">&nbsp; </span>Everything we tell the database in the
database&#8217;s language will be &#8220;true&#8221; (i.e. provable) to the database, and the
database will even be able to prove other &#8220;new&#8221; truths from its model and our
axioms.<span style="mso-spacerun: yes">&nbsp; </span>All of these proofs are
meaningless unless a person can interpret them in human terms, which must be
the identical interpretation as the person who designed the database, and the
person who entered the data, and so on.<span style="mso-spacerun: yes">&nbsp;
</span>The only way to be sure all these interpretations are identical is to
document and disseminate the meaning of each relation (and attribute, domain,
etc.) in the database.</p>



<p class=MsoNormal>What does S mean?<span style="mso-spacerun: yes">&nbsp;
</span>Well it could mean, if there exists a <span class=SpellE>tuple</span> in
S then: </p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S.0: </b>{S#, <span
class=SpellE>SName</span>, City<span class=GramE>, &#8230;}</span> &#8211; There is a
supplier with identity S# who hates the name <span class=SpellE>SName</span>
but likes the city <span class=SpellE>City</span>, and &#8230;</p>

<p class=MsoFootnoteText><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>But that is unlikely.<span style="mso-spacerun: yes">&nbsp;
</span>This does show the importance of precise predicates and human
interpretation.<span style="mso-spacerun: yes">&nbsp; </span>More likely the
predicate<a style='mso-footnote-id:ftn' href="#_ftn2" name="_ftnref" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[2]<![endif]></span></span></a>
for S is:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S.1:</b> There exists
a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
who is located in city <span class=SpellE>City</span>, and &#8230;</p>



<p class=MsoNormal>So adding the <span class=SpellE>tuple</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='background:#D9D9D9;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:windowtext 1.5pt;
  border-left:windowtext 1.5pt;border-bottom:silver 1.0pt;border-right:silver 1.0pt;
  border-style:solid;mso-border-top-alt:windowtext 1.5pt;mso-border-left-alt:
  windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;mso-border-right-alt:silver .5pt;
  mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>S#</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  mso-border-top-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader><span class=SpellE>SName</span></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  mso-border-top-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>City</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-left-alt:solid silver .5pt;mso-border-top-alt:windowtext 1.5pt;
  mso-border-left-alt:silver .5pt;mso-border-bottom-alt:silver .5pt;mso-border-right-alt:
  windowtext 1.5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;background:transparent;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>States that there exists a supplier with identifier S1, who
has the name Jones, and is located in London. </p>



<p class=MsoNormal>Adding a couple more <span class=SpellE>tuples</span> gives
us:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.75in'>

<p class=RelVar style='margin:0in;margin-bottom:.0001pt'><span class=GramE>S :</span>
<i style='mso-bidi-font-style:normal'>S.1</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='background:#D9D9D9;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:windowtext 1.5pt;
  border-left:windowtext 1.5pt;border-bottom:silver 1.0pt;border-right:silver 1.0pt;
  border-style:solid;mso-border-top-alt:windowtext 1.5pt;mso-border-left-alt:
  windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;mso-border-right-alt:silver .5pt;
  mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>S#</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  mso-border-top-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader><span class=SpellE>SName</span></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;
  mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  mso-border-top-alt:solid windowtext 1.5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>City</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-left-alt:solid silver .5pt;mso-border-top-alt:windowtext 1.5pt;
  mso-border-left-alt:silver .5pt;mso-border-bottom-alt:silver .5pt;mso-border-right-alt:
  windowtext 1.5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;background:transparent;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  background:transparent;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>We can now ask the database:</p>

<p class=Question>Q1: What are the names of suppliers</p>

<p class=Question>Q2: What suppliers are in London?</p>

<p class=Question>Q3: What suppliers are not in London?</p>



<p class=MsoNormal>Actually, we can&#8217;t.<span style="mso-spacerun: yes">&nbsp;
</span>Although the above questions use natural wording, the database can not
possibly answer the questions as posed.<span style="mso-spacerun: yes">&nbsp;
</span>They are in terms of our world.<span style="mso-spacerun: yes">&nbsp;
</span>We can only ask the database about what it can prove about its &#8220;world&#8221;
not what is true in our world.<span style="mso-spacerun: yes">&nbsp; </span>We
need to do the translation to and from the database so our questions should
reflect that.<span style="mso-spacerun: yes">&nbsp; </span>The corrected
questions are:</p>

<p class=Question>Q1.2: What names can be proven to be the name of a supplier?</p>

<p class=Question>Q2.2: What suppliers can be proven to be in London?</p>

<p class=Question>Q3.2: What suppliers can be proven not to be located in
London?</p>



<p class=MsoNormal>These questions the database can answer.<span
style="mso-spacerun: yes">&nbsp; </span>For the first question the database
returns:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableHeader><span class=SpellE>SName</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-top:none;mso-border-top-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>And for the second question it returns:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border:solid windowtext 1.5pt;
  border-top:none;mso-border-top-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>And for the third question it&#8230;can&#8217;t answer the
question.<span style="mso-spacerun: yes">&nbsp; </span>We have no predicate
that states:</p>

<p class=Predicate>There exists a supplier with identifier S#, who is not
located in city <span class=SpellE>City</span></p>

<p class=MsoNormal>Given how the query (Q3.2) is phrased we would need such a
relation (in which we might put S2 and S4 if they don&#8217;t have a location in
London).<span style="mso-spacerun: yes">&nbsp; </span>But with what we have at
the moment we can only answer the question:</p>

<p class=Question>Q3.3: What suppliers can be proven not to be provably located
in London?</p>

<p class=MsoNormal>Which would then return</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border:solid windowtext 1.5pt;
  border-top:none;mso-border-top-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>But say we really wanted to be able to answer questions like
Q3.2, how can we?<span style="mso-spacerun: yes">&nbsp; </span>We could modify
the S predicate:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S.2:</b> There exists
a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
who is located only in city <span class=SpellE>City</span>, and &#8230;</p>



<p class=MsoNormal>We can now answer Q3.2 because we can produce a derived
relation value<a style='mso-footnote-id:ftn' href="#_ftn3" name="_ftnref"
title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[3]<![endif]></span></span></a> of:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:310.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>NotIn</span>
= <span class=GramE>f(</span>S) : <i style='mso-bidi-font-style:normal'>NotIn.1</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>Which has the predicate we wanted:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>NotIn.1:</b> There
exists a supplier with identifier S#, who is not located in city <span
class=SpellE>City</span></p>



<p class=MsoNormal>It is impossible to produce the NotIn.1 relation value
without modifying the predicate for S or adding a new base relation variable to
record new information.<span style="mso-spacerun: yes">&nbsp; </span>The
information simply was not recorded in the database.<span style="mso-spacerun:
yes">&nbsp; </span></p>

<h2><a name="_Toc389861243"></a><a name="_Toc389930932"><span style='mso-bookmark:
_Toc389861243'>Summary</span></a></h2>

<p class=MsoNormal>First, for a database to have any meaning we must be able to
uniquely translate between human terms and database statements.<span
style="mso-spacerun: yes">&nbsp; </span>For a relational database this requires
precisely specifying what each relation, domain, attribute, and <span
class=SpellE>tuple</span> means.<span style="mso-spacerun: yes">&nbsp;
</span>It is especially important to remember specifying what a relation means
because without a formal specification a user will assume its meaning and
misinterpret the answers to questions.</p>



<p class=MsoNormal>Second, a database can only answer questions about its
world.<span style="mso-spacerun: yes">&nbsp; </span>It is up to the user to
make the database&#8217;s world contain the model and information necessary to
provide answers that are useful for understanding the &#8220;real world&#8221;.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861244"></a><a name="_Toc389930933"><span style='mso-bookmark:
_Toc389861244'>Missing Information</span></a></h1>

</div>

<p class=MsoNormal>Now we can deal with representing the lack of knowledge (or
missing information) in a relational database.<span style="mso-spacerun:
yes">&nbsp; </span>We have already seen what a database does not know:
everything it has not been told it <i style='mso-bidi-font-style:normal'>does</i>
know.<span style="mso-spacerun: yes">&nbsp; </span>So we don&#8217;t have a problem
of telling the database: &#8220;You don&#8217;t know this&#8221;, we have a problem of telling a
database &#8220;You only know this&#8221;.<span style="mso-spacerun: yes">&nbsp; </span></p>

<h2><a name="_Toc389930934">Fully Determined Relations</a></h2>

<p class=MsoNormal>This is the technique of using only fully determined
relations<a style='mso-footnote-id:ftn' href="#_ftn4" name="_ftnref" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[4]<![endif]></span></span></a>:
We can add any relations needed to express what we know, but each should only
include exactly what we know about those <span class=SpellE>tuples</span>.<span
style="mso-spacerun: yes">&nbsp; </span>If this approach can suitably handle
all our needs for representing missing information then we should not add
another mechanism to the relational model.<span style="mso-spacerun:
yes">&nbsp; </span>That would be adding complexity without any new
expressiveness.</p>



<p class=MsoNormal>To try out this technique, what if we don&#8217;t know where a
particular supplier is located?<span style="mso-spacerun: yes">&nbsp; </span>So
far our only base relation is S which has a predicate that states</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S.2:</b> There exists
a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
who is located only in city <span class=SpellE>City</span>, and &#8230;</p>

<p class=MsoNormal>Since we don&#8217;t know where the supplier is located we can&#8217;t
use this relation.<span style="mso-spacerun: yes">&nbsp; </span>No problem, we
can add a new relation to our database.</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:297.0pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>NoCity</span></span><span class=GramE> :</span> <i
style='mso-bidi-font-style:normal'>S_NoCity.1</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_NoCity.1:</b> There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230;</p>



<p class=MsoNormal>And if we add two entries to <span class=SpellE>S_NoCity</span>
we get:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:297.0pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>NoCity</span></span><span class=GramE> :</span> <i
style='mso-bidi-font-style:normal'>S_NoCity.1</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>We now have two relation variables that each express exactly
what we know about their <span class=SpellE>tuples</span>.<span
style="mso-spacerun: yes">&nbsp; </span>Everything in fully determined.<span
style="mso-spacerun: yes">&nbsp; </span>One of the relations has more
information than the other and that is the only sense in which we are &#8220;missing&#8221;
information.<span style="mso-spacerun: yes">&nbsp; </span>The <span
class=SpellE>S_NoCity</span> relation is &#8220;half-full&#8221; so it could also be
considered &#8220;half-empty&#8221;.</p>



<p class=MsoNormal>So how does this new relation and the new <span
class=SpellE>tuples</span> affect our last two &#8220;tough&#8221; questions?</p>

<p class=Question>Q2.2: What suppliers can be proven to be in London?</p>

<p class=Question>Q3.2: What suppliers can be proven not to be located in
London?</p>

<p class=MsoNormal>The new <span class=SpellE>tuples</span> don&#8217;t affect the
queries at all.<span style="mso-spacerun: yes">&nbsp; </span>Since the <span
class=SpellE>S_NoCity</span> predicate doesn&#8217;t mention cities in any way, it
can not affect the outcome of any query that mentions a city.<span
style="mso-spacerun: yes">&nbsp; </span>It has nothing to do with it.</p>



<p class=MsoNormal>On the other hand, the easy question:</p>

<p class=Question>Q1.2: What names can be proven to be the name of a supplier?</p>

<p class=MsoNormal style='page-break-after:avoid'>Should now return:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=SpellE><b
  style='mso-bidi-font-weight:normal'>SName</b></span><b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Jones</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Smith</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>DuPont</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Eiffel</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-top:none;mso-border-top-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Grid</p>
  </td>
 </tr>
</table>

<p class=MsoFootnoteText><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The problem is that asking this question of the database is
now a bit cumbersome for the user.<span style="mso-spacerun: yes">&nbsp;
</span>We need to take the two base relations, project <span class=SpellE>SName</span>,
and union the results together.<span style="mso-spacerun: yes">&nbsp;
</span>Not terribly difficult, but this requires a user to always remember the
two tables when querying.<span style="mso-spacerun: yes">&nbsp; </span>We could
also define the following derived relation value (i.e. View) to make this
particular query easier for the user.</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:310.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_All</span>
= <span class=GramE>f(</span><span class=SpellE>S,S_NoCity</span>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
 </tr>
</table>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_All.1:</b> There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230;</p>



<p class=MsoNormal>The user can now query from <span class=SpellE>S_All</span>
when asking about names, use S when asking about cities, and use <span
class=SpellE>S_NoCity</span> when asking about &#8230; hmm &#8230; that isn&#8217;t completely
clear from our predicates.<span style="mso-spacerun: yes">&nbsp; </span>Why
would we use <span class=SpellE>S_NoCity</span> instead of <span class=SpellE>S_AllNames</span>?<span
style="mso-spacerun: yes">&nbsp; </span>What distinguishing trait places a <span
class=SpellE>tuple</span> in <span class=SpellE>S_NoCity</span>?</p>

<h2><a name="_Toc389861245"></a><a name="_Toc389930935"><span style='mso-bookmark:
_Toc389861245'>Predicates that specify known &#8220;unknowns</span>&#8221;</a></h2>

<p class=MsoNormal>So far we have three predicates (renaming them slightly):</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_City.2:</b> {S#, <span
class=SpellE>SName</span>, City<span class=GramE>, &#8230;}</span> &#8211; There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
who is located only in city <span class=SpellE>City</span>, and &#8230;</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_NoCity.1:</b> {S#, <span
class=SpellE>SName</span><span class=GramE>, &#8230;}</span><b style='mso-bidi-font-weight:
normal'> </b><span style="mso-spacerun: yes">&nbsp;</span>&#8211; There exists
a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230;</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_AllNames.1: </b>{S#,
<span class=SpellE>SName</span><span class=GramE>, &#8230;}</span><span
style="mso-spacerun: yes">&nbsp; </span>&#8211; There exists a supplier with
identifier S#, who has the name <span class=SpellE>SName</span></p>



<p class=MsoNormal>We appear to have been a bit vague about the meaning of
putting a <span class=SpellE>tuple</span> into <span class=SpellE>S_NoCity</span>:
why is the set of cities in <span class=SpellE>S_NoCity</span> different from
the set in <span class=SpellE>S_AllNames</span>?<span style="mso-spacerun:
yes">&nbsp; </span>We can now decide what &#8220;unknown&#8221; information we want to
represent in our database by specifying what the known information means.<span
style="mso-spacerun: yes">&nbsp; </span>We could decide that putting a city
into <span class=SpellE>S_NoCity</span> means that we don&#8217;t know the city for
that supplier, or we could mean that the supplier is a multi-national
corporation that is located in multiple cities, or any number of other
meanings.<span style="mso-spacerun: yes">&nbsp; </span>For a fuller discussion
of the different possible meanings of missing information see [<span
class=SpellE>McGoveran</span> 94b].<span style="mso-spacerun: yes">&nbsp;
</span>If we needed more than one meaning we would create multiple relations
and variables.<span style="mso-spacerun: yes">&nbsp; </span>For example we
could have:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:337.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_UnknownCity</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:337.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_MultiNational</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid;tab-stops:31.5pt'><b
  style='mso-bidi-font-weight:normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=SpellE><b
  style='mso-bidi-font-weight:normal'>SName</b></span><b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b style='mso-bidi-font-weight:
  normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoFootnoteText><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>We would then need to have <span class=SpellE>S_AllNames</span>
be a function of all three relations to union them together.<span
style="mso-spacerun: yes">&nbsp; </span></p>



<p class=MsoNormal>At the moment we choose to simply correct the predicate of <span
class=SpellE>S_NoCity</span>:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_NoCity.2:</b> There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230; and for which we do not know the city it is located in.</p>



<p class=MsoNormal>This new version of the predicate allows us to ask the
question:</p>

<p class=Question>Q4.1: What suppliers can be proven to be among those that we
don&#8217;t know their location?</p>

<p class=MsoNormal>It has no impact on the results of our previous questions:</p>

<p class=Question>Q1.2: What names can be proven to be the name of a supplier?</p>

<p class=Question>Q2.2: What suppliers can be proven to be in London?</p>

<p class=Question>Q3.2: What suppliers can be proven not to be located in
London?</p>

<h2><a name="_Toc389861246"></a><a name="_Toc389930936"><span style='mso-bookmark:
_Toc389861246'>Complexity</span></a></h2>

<p class=MsoNormal>All these tables and views add complexity to the database
and make life more difficult for the user and also for the manager of these
base and derived relations.<span style="mso-spacerun: yes">&nbsp; </span>This
is with just one &#8220;optional&#8221; attribute.<span style="mso-spacerun: yes">&nbsp;
</span>We will get combinatorial explosions of relations if for some suppliers
we knew the City but not the Name, and some we knew the previous months
purchase-quota, and so on.<span style="mso-spacerun: yes">&nbsp; </span>We get
an even greater explosion if we need to have multiple meanings for the missing
information.</p>

<h2><a name="_Toc389861247"></a><a name="_Toc389930937"><span style='mso-bookmark:
_Toc389861247'>Summary</span></a></h2>

<p class=MsoNormal>The approach in this section correctly handled lack of
information by adding new predicates that contain only the information we
know.<span style="mso-spacerun: yes">&nbsp; </span>We didn&#8217;t need to add any
new mechanisms to relational algebra.<span style="mso-spacerun: yes">&nbsp;
</span>We did need to specify our predicates precisely enough to identify why <span
class=SpellE>tuples</span> are placed into one predicate over another.<span
style="mso-spacerun: yes">&nbsp; </span>This precision is also what enables a
user to know what the results of a query mean.</p>



<p class=MsoNormal>Unfortunately, managing all the new predicates proved more
difficult than we might desire and the resulting scheme may be difficult for a
user to understand.<span style="mso-spacerun: yes">&nbsp; </span>It would be
good if there was a mechanism that can ease this management and simplify the
scheme, but it should have as little impact as possible on relational algebra.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861248"></a><a name="_Toc389930938"><span style='mso-bookmark:
_Toc389861248'>Multiple Relations in a Variable</span></a></h1>

</div>

<p class=MsoNormal>One approach would be to try to reduce the number of
relation variables (tables) by allowing one variable to hold multiple types of
relations. <span style="mso-spacerun: yes">&nbsp;</span>In our example we have
two base relation variables:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.25in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>City</span></span><span class=GramE> :</span> <i style='mso-bidi-font-style:
normal'>S_City.2</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.25in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>NoCity</span></span><span class=GramE> :</span> <i
style='mso-bidi-font-style:normal'>S_NoCity.2</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>And we have a useful derived relation value of</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:279.0pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_All</span>
= <span class=GramE>f(</span><span class=SpellE>S_City</span>, <span
class=SpellE>S_NoCity</span>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Which would be calculated as the union of <span
class=SpellE>S_City</span> [-City] (projecting away City<a style='mso-footnote-id:
ftn' href="#_ftn5" name="_ftnref" title=""><span class=MsoFootnoteReference><span
style='mso-special-character:footnote'><![if !supportFootnotes]>[5]<![endif]></span></span></a>)
and <span class=SpellE>S_NoCity</span>.<span style="mso-spacerun: yes">&nbsp;
</span></p>



<p class=MsoNormal>The interdependence among these three relations is very
clear, so it would be nice to be able to express and manage them all
together.<span style="mso-spacerun: yes">&nbsp; </span>This will alleviate some
of the complexity in using the basic normalized approach.</p>

<h2><a name="_Toc389930939">Multi-Relation Variables</a></h2>

<p class=MsoNormal>What if we allowed <span class=SpellE>S_All</span> to have
multiple relations within it, where each <span class=SpellE>tuple</span> knew
what relation it belonged to?<span style="mso-spacerun: yes">&nbsp;
</span>Something like this:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:238.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>All</span></span><span class=GramE> :</span> (<i style='mso-bidi-font-style:
normal'>S_City.2, S_NoCity.2, f(&#8230;)</i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation<o:p></o:p></i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:none;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_NoCity.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_NoCity.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:none;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border:none;border-bottom:solid silver 1.0pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-top-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_All.1<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_All.1<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_All.1<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_All.1<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_All.1<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>We seem to have simplified the number of variables and
derived values significantly, from three to one.<span style="mso-spacerun:
yes">&nbsp; </span>Notice that we have the same number of relations:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_City.2</b>: There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
who is located only in city <span class=SpellE>City</span>, and &#8230;</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_NoCity.2:</b> There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230; and for which we do not know the city it is located in.</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>S_All.1:</b> There
exists a supplier with identifier S#, who has the name <span class=SpellE>SName</span>,
and &#8230; </p>

<p class=MsoNormal>This is good.<span style="mso-spacerun: yes">&nbsp;
</span>We don&#8217;t want to reduce the useful meanings in our database; we just
want to reduce how many entities we have to manage.</p>



<p class=MsoNormal><span class=GramE>He examples has</span> a visual
duplication of rows.<span style="mso-spacerun: yes">&nbsp; </span>We repeated
all the <span class=SpellE>tuples</span> from <span class=SpellE>S_City</span>
and <span class=SpellE>S_NoCity</span> to specify they are in <span
class=SpellE>S_All</span> as well.<span style="mso-spacerun: yes">&nbsp;
</span>This &#8220;duplication&#8221; would happen automatically: <span class=SpellE>S_All</span>
is still a derived value (i.e. the union) of the <span class=SpellE>S_City</span>
and <span class=SpellE>S_NoCity</span> <span class=SpellE>tuples</span> within <span
class=SpellE>S_All</span>.</p>

<h2><a name="_Toc389861250"></a><a name="_Toc389930940"><span style='mso-bookmark:
_Toc389861250'>Interacting with Multi-Relation Variable</span>s</a></h2>

<p class=MsoNormal>The first question that might come to mind is &#8220;How do we
interact with a multi-relation variable&#8221;?<span style="mso-spacerun: yes">&nbsp;
</span>How do we insert relations into it and how do we query a multi-relation
variable?<span style="mso-spacerun: yes">&nbsp; </span>For example, how do we <span
class=GramE>ask:</span></p>

<p class=Question>Q4.1: What suppliers can be proven to be among those that we
don&#8217;t know their location?</p>



<p class=MsoNormal>It would appear we would have to add a way to specify which <span
class=SpellE>tuples</span> we want to consider from the table.<span
style="mso-spacerun: yes">&nbsp; </span>Something like &#8220;SELECT &#8230; FROM <span
class=SpellE>S_All</span><span class=GramE>.{</span><span class=SpellE>S_NoCity</span>}&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span>This leads us to as much complexity as
if we had separate tables.<span style="mso-spacerun: yes">&nbsp; </span>This
approach may organize the relations and variables but it will not reduce the
complexity of the database scheme.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389861251"></a><a name="_Toc389930941"><span style='mso-bookmark:
_Toc389861251'>Relation Distinguishing </span></a><span class=SpellE><span
style='mso-bookmark:_Toc389930941'><span style='mso-bookmark:_Toc389861251'>Tuple</span></span></span><span
style='mso-bookmark:_Toc389930941'><span style='mso-bookmark:_Toc389861251'>-Ma</span>rks</span></h1>

</div>

<p class=MsoNormal>Our problem with multi-relation variables is that it is as
complex to distinguish among the different relations in a single multi-relation
variable as if there were multiple separate variables.<span
style="mso-spacerun: yes">&nbsp; </span>What if we used a simpler marker?<span
style="mso-spacerun: yes">&nbsp; </span>Instead of having a marker outside the
normal attributes of the relations, we can use a marker within the <span
class=SpellE>tuple&#8217;s</span> attributes to identify which relation the <span
class=SpellE>tuple</span> belongs to.<span style="mso-spacerun: yes">&nbsp;
</span>I will call this a Relation Distinguishing <span class=SpellE>Tuple</span>-Mark
(<span class=SpellE>tuple</span>-mark for short) and use a dash &#8220;&#8211; &#8221; to
indicate it in a table.<span style="mso-spacerun: yes">&nbsp; </span>Using this
approach for our example gives us:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:265.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>All</span></span><span class=GramE> :</span> (<i style='mso-bidi-font-style:
normal'>S_City.2, S_NoCity.2</i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_City.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_NoCity.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><i style='mso-bidi-font-style:normal'>S_NoCity.2<o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>The &#8220;&#8211; &#8221; <span class=SpellE>tuple</span>-mark is not a type
of City or any comment on the value of a <span class=SpellE>tuple&#8217;s</span>
city: that <span class=SpellE>tuple</span> has no attribute City.<span
style="mso-spacerun: yes">&nbsp; </span>The <span class=SpellE>tuple</span>-mark
identifies that the <span class=SpellE>tuple</span> belongs to a different
relation than a <span class=SpellE>tuple</span> that does not have the
mark.<span style="mso-spacerun: yes">&nbsp; </span>Supplier-S3 is part of the
relation <span class=SpellE>S_NoCity</span> that does not have a city and the
mark simply specifies that to be true.</p>



<p class=MsoNormal>This approach is only possible if each base relation has a
distinguishing set of attributes.<span style="mso-spacerun: yes">&nbsp;
</span>For our example this is true: <span class=SpellE>S_City</span> has
attributes of {S#, <span class=SpellE>SName</span>, City<span class=GramE>, &#8230;}</span>
and <span class=SpellE>S_NoCity</span> has attributes of {S#, <span
class=SpellE>SName</span>, &#8230;}.<span style="mso-spacerun: yes">&nbsp; </span>We
could also have a relation <span class=SpellE>S_NoName</span> with attributes
of {<span class=SpellE>S#<span class=GramE>,City</span></span>,&#8230;} and <span
class=SpellE>S_NoNameOrCity</span> with attributes of {S#,&#8230;}.<span
style="mso-spacerun: yes">&nbsp; </span>We could not handle our two relations <span
class=SpellE>S_UnknownCity</span> and <span class=SpellE>S_MuliNational</span>,
and we will return to this problem later.</p>



<p class=MsoNormal>The full relation <span class=SpellE>S_All</span> is
functionally derived as the union of <span class=SpellE>S_City</span> and <span
class=SpellE>S_NoCity</span> so it does not need to be distinguished (all <span
class=SpellE>tuples</span> in the variable are also part of <span class=SpellE>S_All</span>).<span
style="mso-spacerun: yes">&nbsp; </span>It is not completely clear how we query
on <span class=SpellE>S_City</span> or <span class=SpellE>S_NoCity</span>
instead of <span class=SpellE>S_All</span>, but that will be dealt with in the
next section.</p>

<h2><a name="_Toc389861252"></a><a name="_Toc389930942"><span style='mso-bookmark:
_Toc389861252'>Interact</span>ing</a></h2>

<p class=MsoNormal>We can now return to the question &#8220;How do we interact with
this multi-relation variable?&#8221;<span style="mso-spacerun: yes">&nbsp; </span>How
do we insert relations into it and how do we query a multi-relation
variable?<span style="mso-spacerun: yes">&nbsp; </span>Specifically how do we
answer the <span class=GramE>questions:</span></p>

<p class=Question>Q1.2: What names can be proven to be the name of a supplier?</p>

<p class=Question>Q2.2: What suppliers can be proven to be in London?</p>

<p class=Question>Q3.2: What suppliers can be proven not to be located in
London?</p>

<p class=Question>Q4.1: What suppliers can be proven to be among those that we
don&#8217;t know their location?</p>

<h2><a name="_Toc389861253"></a><a name="_Toc389930943"><span style='mso-bookmark:
_Toc389861253'>Querying</span></a></h2>

<p class=MsoNormal>A query over a multi-relation variable will only consider
(be restricted to) the <span class=SpellE>tuples</span> for which the query is
applicable.<span style="mso-spacerun: yes">&nbsp; </span>A query is applicable
to a relation if all the attributes the query mentions exist for that
relation.<span style="mso-spacerun: yes">&nbsp; </span>For example, the
attribute <span class=SpellE>SName</span> exists in the relation <span
class=SpellE>S_City</span> and <span class=SpellE>S_NoCity</span>, so a query
&#8220;SELECT <span class=SpellE>SName</span> FROM <span class=SpellE>S_All</span>&#8221;
would consider all the <span class=SpellE>tuples</span>:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid;tab-stops:31.5pt'><b
  style='mso-bidi-font-weight:normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=SpellE><b
  style='mso-bidi-font-weight:normal'>SName</b></span><b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b style='mso-bidi-font-weight:
  normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Jones</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Smith</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Eiffel</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>If a query mentions City (e.g. &#8220;SELECT City FROM S_ALL&#8221;) it
would only consider the <span class=SpellE>tuples</span> that have a relation
with an attribute City:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>This allows us to answer Q1-Q3 and gives the same answers as
our original <span class=SpellE>S_City</span>, <span class=SpellE>S_NoCity</span>,
and <span class=SpellE>S_All</span> solution.<span style="mso-spacerun:
yes">&nbsp; </span>So far so good, but to make any more progress requires
extending the relational algebra.</p>

<h2><a name="_Toc389861254"></a><a name="_Toc389930944"><span style='mso-bookmark:
_Toc389861254'>Extending Projection</span></a></h2>

<p class=MsoNormal>To answer Q4 we need to be able to retrieve the <span
class=SpellE>tuples</span> that have distinguishing marks that identify them to
be part of the <span class=SpellE>S_NoCity</span> relation.<span
style="mso-spacerun: yes">&nbsp; </span>This sounds like a restriction but it
can&#8217;t be; we have the rule that <span class=SpellE>tuples</span> without an
attribute will be immediately discarded so they will never make it to the
restriction stage.<span style="mso-spacerun: yes">&nbsp; </span>We need to
choose the <span class=SpellE>tuples</span> with a mark in <span class=GramE>a</span>
attribute and at the same time throw away that attribute (to prevent the <span
class=SpellE>tuple</span> from being later discarded).<span
style="mso-spacerun: yes">&nbsp; </span>We can do this by extending the
&#8220;innermost&#8221; projection operation: the direct projection of our multi-relation
variable &#8220;before&#8221; it is involved with the rest of the query.<span
style="mso-spacerun: yes">&nbsp; </span></p>



<p class=MsoNormal>Although not part of SQL it will be easiest to use and
extend C.J. Date&#8217;s projection notation: </p>

<p class=Example>A [X, Y<span class=GramE>, &#8230;,</span> Z]</p>

<p class=MsoNormal>Which produces a relation value subset of A &#8220;obtained by
eliminating all attributes not specified in the attribute <span class=SpellE>commalist</span>
and then eliminating duplicate (<span class=GramE>sub)<span class=SpellE>tuples</span></span>
from what is left).&#8221; [Date 95, Page 151].<span style="mso-spacerun: yes">&nbsp;
</span>In this notation Q1 can be answer by &#8220;S_ALL [<span class=SpellE>SName</span>]&#8221;
and finding all the cities of suppliers can be answered by &#8220;S_ALL [City]&#8221;.</p>



<p class=MsoNormal>To the projection notation I will add three new pieces: the
include-all (&#8220;*&#8221;) indicator, the eliminate (&#8220;-&#8220;) prefix and the choose-marked
(&#8220;!&#8221;) prefix.<span style="mso-spacerun: yes">&nbsp; </span>The first two are
primarily convenience additions to the projection syntax and they have nothing
to do with multi-relation variables.<span style="mso-spacerun: yes">&nbsp;
</span>They are added to the projection notation because they conceptually
prepare it for the third addition, which will allow us to discriminate among
different marked <span class=SpellE>tuples</span>.</p>

<h3><a name="_Toc389861255"></a><a name="_Toc389930945"><span style='mso-bookmark:
_Toc389861255'>Include-All</span></a></h3>

<p class=MsoNormal>The include-all indicator is similar in meaning to the SQL
version: it specifies that all the attributes of the relation should be used
included in the projection and (by itself) is equivalent to the identity
projection.</p>

<p class=Example>A &#8801; A [*]</p>

<h3><a name="_Toc389861256"></a><a name="_Toc389930946"><span style='mso-bookmark:
_Toc389861256'>Eliminate</span></a></h3>

<p class=MsoNormal>The eliminate prefix allows you to specify that an attribute
should be eliminated from the projection instead of included in it.<span
style="mso-spacerun: yes">&nbsp; </span>This allows you to say &#8220;S_ALL [*<span
class=GramE>,-</span>City]&#8221; and get</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid;tab-stops:31.5pt'><b
  style='mso-bidi-font-weight:normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span class=SpellE><b
  style='mso-bidi-font-weight:normal'>SName</b></span><b style='mso-bidi-font-weight:
  normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b style='mso-bidi-font-weight:
  normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Jones</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Smith</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Eiffel</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>Instead of specifically stating the attributes to include
&#8220;S_ALL [S#, <span class=SpellE>SName</span><span class=GramE>, &#8230;]</span>&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span>If you have a projection that has only
eliminated attributes you can leave off the include-all indicator:</p>

<p class=Example>S_ALL [-X, -Y, -<span class=GramE>Z ]</span> &#8801; S_ALL [*,
-X, -Y, -Z]</p>

<h3><a name="_Toc389861257"></a><a name="_Toc389930947"><span style='mso-bookmark:
_Toc389861257'>Choose-marked</span></a></h3>

<p class=MsoNormal>Finally, the choose-marked prefix is similar to the
eliminate prefix in that it will eliminate the attribute from the projection,
but in addition it will also eliminate <span class=SpellE>tuples</span>
(restrict the result to not include <span class=SpellE>tuples</span>) that have
anything other than a <span class=SpellE>tuple</span>-mark (Relation
Distinguishing Mark) for that attribute&#8217;s value.<span style="mso-spacerun:
yes">&nbsp; </span>For our example, we can select the <span class=SpellE>tuples</span>
that are part of <span class=SpellE>S_NoCity</span> by the projection &#8220;S_ALL [*<span
class=GramE>, !City</span>]&#8221; which would give:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>Now we can answer Q4:</p>

<p class=Question>Q4.1: What suppliers can be proven to be among those that we
don&#8217;t know their location?</p>

<p class=MsoNormal><span class=GramE>with</span> &#8220;S_ALL [S#, !City]&#8221;</p>



<p class=MsoNormal>It may seem strange to have a projection operation perform a
restriction but notice that this pseudo-restriction is complementary with the
pseudo-restriction performed by including the attribute in the projection.
&#8220;S_ALL [S#, <span class=SpellE>SName</span>, City]&#8221; gives:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>&#8220;S_ALL [S#, <span class=SpellE>SName</span><span
class=GramE>, !City</span>]&#8221; gives:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
 </tr>
</table>

<p class=MsoNormal><a name="_Toc389861258">In both cases the restriction occurs
in the process of getting rid of </a><span class=SpellE><span style='mso-bookmark:
_Toc389861258'>tuple</span></span><span style='mso-bookmark:_Toc389861258'>-marks
in the particular attribute, in the first case it eliminates the marked <span
class=SpellE>tuples</span> and in the second it eliminates the non-marked <span
class=SpellE>tuples</span>.</span></p>

<h3><span style='mso-bookmark:_Toc389861258'><a name="_Toc389930948">Summary</a></span></h3>

<p class=MsoNormal>To handle multi-relation variables in queries we proposed
two additions to relational algebra.<span style="mso-spacerun: yes">&nbsp;
</span></p>

<p class=MsoListNumber2><![if !supportLists]><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>A <span class=SpellE>tuple</span> with a marked
attribute is excluded from all queries that mention that attribute</p>

<p class=MsoListNumber2><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>A choose-marked attribute projection will eliminate
that attribute from the projection and will restrict the result to only include
<span class=SpellE>tuples</span> that have a <span class=SpellE>tuple</span>-mark
for that attribute</p>



<p class=MsoNormal>These will be the only additions to relational algebra.<span
style="mso-spacerun: yes">&nbsp; </span>There is no need to add three-valued
logic or change any domain operations&#8217; behavior.<span style="mso-spacerun:
yes">&nbsp; </span>This is a much smaller change to relational algebra compared
to supporting &#8220;normal&#8221; <span class=SpellE>NULLs</span>.</p>

<h2><a name="_Toc389861259"></a><a name="_Toc389930949"><span style='mso-bookmark:
_Toc389861259'>Adding </span></a><span class=SpellE><span style='mso-bookmark:
_Toc389930949'><span style='mso-bookmark:_Toc389861259'>tuples</span></span></span><span
style='mso-bookmark:_Toc389861259'></span><span style='mso-bookmark:_Toc389930949'></span></h2>

<p class=MsoNormal>To add a relation-distinguishing <span class=SpellE>tuple</span>-marked
<span class=SpellE>tuple</span> to the database we can use the same approach as
is used for <span class=SpellE>NULLs</span>.<span style="mso-spacerun:
yes">&nbsp; </span>We can &#8220;pretend&#8221; to set the value of the attribute to &#8220;NULL&#8221;
which will instead result in the <span class=SpellE>tuple</span> being marked
as belonging to a different relation which does not include that
attribute.<span style="mso-spacerun: yes">&nbsp; </span>As mentioned earlier in
chapter, to do this operation requires that each relation in a multi-relation
variable be distinguishable by its set of attributes.<span style="mso-spacerun:
yes">&nbsp; </span>For our example, we can use</p>

<p class=Example>INSERT INTO S_ALL (S#, <span class=SpellE>SName</span>, City)
VALUES (&#8220;S6&#8221;, &#8220;Java&#8221;, NULL)</p>

<p class=MsoNormal><span class=GramE>To add an <span class=SpellE>S_NoCity</span>
<span class=SpellE>tuple</span>.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_NoCity</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S6</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Java</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Because <span class=SpellE>NULLs</span> are being used to
identify the <span class=SpellE>tuple&#8217;s</span> relation this may cause
confusion with other insertion features that use <span class=SpellE>NULLs</span>
as a flag.<span style="mso-spacerun: yes">&nbsp; </span>For example, if a
particular table uses <span class=SpellE>NULLs</span> for a default value it
will effectively change the inserted <span class=SpellE>tuple&#8217;s</span> relation
before completing the insertion.<span style="mso-spacerun: yes">&nbsp;
</span>Actually adding a <span class=SpellE>tuple</span> with a particular
relation (that does not include the defaulted attribute) may be impossible
because of this.<span style="mso-spacerun: yes">&nbsp; </span></p>

<h2><a name="_Toc389930950">Summary</a></h2>

<p class=MsoNormal>The approach of using multi-relation variables allows us to
simplify some databases and especially databases with missing information.<span
style="mso-spacerun: yes">&nbsp; </span>If two or more relations are related to
each other by them having similar but slightly different attributes than these
relations can &#8220;share&#8221; the same multi-relation variable.<span
style="mso-spacerun: yes">&nbsp; </span>Although adding this concept of
multi-relation variables with marked-<span class=SpellE>tuples</span> adds
complexity to the relational model, database scheme&#8217;s can be made much less
complex.<span style="mso-spacerun: yes">&nbsp; </span>What used to require two,
three, or more base relation variables and multiple derived relation values
(views) can now be merged into a single variable.<span style="mso-spacerun:
yes">&nbsp; </span>Doing so has no impact on what can be express with the
database: the defined and derivable relations are the same.<span
style="mso-spacerun: yes">&nbsp; </span></p>



<p class=MsoNormal>Using Relation Distinguishing <span class=SpellE>Tuple</span>-Marks
made it possible to easily interact with multi-relation variables and only
required a couple additions to the relational model:</p>

<p class=MsoListNumber2 style='mso-list:l3 level1 lfo20'><![if !supportLists]><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>A <span class=SpellE>tuple</span> with a marked
attribute is excluded from all queries that mention that attribute</p>

<p class=MsoListNumber2><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>A choose-marked attribute projection will eliminate
that attribute from the projection and will restrict the result to only include
<span class=SpellE>tuples</span> that have a <span class=SpellE>tuple</span>-mark
for that attribute</p>

<p class=MsoNormal>This appears to be a good approach because of its
simplicity, its limited impact on the relational model, and possibly because of
its similarity to how <span class=SpellE>NULLs</span> are used now.<span
style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>Tuple</span>-marks have
many advantages over <span class=SpellE>NULLs</span> as currently implemented
or considered because:</p>

<p class=MsoListNumber2 style='mso-list:l3 level1 lfo21'><![if !supportLists]><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><span class=SpellE>Tuple</span>-marks do not use three
valued logic </p>

<p class=MsoListNumber2><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><span class=SpellE>Tuple</span>-marks have no impact on
domains and domain operations</p>



<p class=MsoNormal>We will return to further detail <span class=SpellE>tuple</span>-marks
in a later chapter, but first we should consider how the approach handles the
issues brought up in the NULL debate. </p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930951"></a><span class=SpellE><span style='mso-bookmark:
_Toc389930951'>Tuple</span></span><span style='mso-bookmark:_Toc389930951'>-Marks
in the NULL Debate</span></h1>

</div>

<p class=MsoNormal>Although <span class=SpellE>Tuple</span>-Marks could be
proposed as an addition to the basic relational model (without <span
class=SpellE>NULLs</span>) that is not the current historical context.<span
style="mso-spacerun: yes">&nbsp; </span>There has been much discussion of the
value of <span class=SpellE>NULLs</span> and their associated problems.<span
style="mso-spacerun: yes">&nbsp; </span>Although <span class=SpellE>tuple</span>-marks
are a completely different mechanism from <span class=SpellE>NULLs</span>, they
are similar enough in use that it would be reasonable to see how <span
class=SpellE>tuple</span>-marks would hold up in the debates.<span
style="mso-spacerun: yes">&nbsp; </span>If <span class=SpellE>tuple</span>-marks
have as many issues as <span class=SpellE>NULLs</span> than they won&#8217;t be a
better alternative to them.</p>

<h2><a name="_Toc389930952">Looking at previous NULL criticisms</a></h2>

<p class=MsoNormal>I will select a few example criticisms from the authors who
have written on the NULL topic.<span style="mso-spacerun: yes">&nbsp;
</span>Some of these authors believe <span class=SpellE>NULLs</span> are a
useful mechanism and some believe <span class=SpellE>NULLs</span> and 3VL cause
major problems.<span style="mso-spacerun: yes">&nbsp; </span>In either case
there are arguments about correct relational modeling and the correct behavior
of relational operators (e.g. queries) in the face of missing information.<span
style="mso-spacerun: yes">&nbsp; </span>I will place <span class=SpellE>tuple</span>-marks
in the middle of the fray and say they can handle the arguments from both
sides.</p>

<h2><a name="_Toc389930953">Codd-1</a></h2>

<p class=MsoNormal>The example running through the first part of this paper was
identical to the one in [<span class=SpellE>Codd</span> 90 Chapter 9.2] where he
discusses criticisms towards his approach for missing information.<span
style="mso-spacerun: yes">&nbsp; </span>In that section he criticizes the
results of a Special Value approach (at the time named as and mixed with the
default value concept) </p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.0in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>All</span></span><span class=GramE> :</span> (<span class=SpellE><i
style='mso-bidi-font-style:normal'>S_City</i></span><i style='mso-bidi-font-style:
normal'>, <span class=SpellE>S_NoCity</span></i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>Which I will define as having the same relations
(predicates) as earlier in this paper:</p>

<p class=Predicate><span class=SpellE><b style='mso-bidi-font-weight:normal'>S_City</b></span><b
style='mso-bidi-font-weight:normal'>:</b> There exists a supplier with
identifier S#, who has the name <span class=SpellE>SName</span>, who is located
only in city <span class=SpellE>City</span>, and &#8230;</p>

<p class=Predicate><span class=SpellE><b style='mso-bidi-font-weight:normal'>S_NoCity</b></span><b
style='mso-bidi-font-weight:normal'>:</b> There exists a supplier with
identifier S#, who has the name <span class=SpellE>SName</span>, and &#8230; and for
which we do not know the city it is located in.</p>

<p class=Predicate><span class=SpellE><b style='mso-bidi-font-weight:normal'>S_All</b></span><b
style='mso-bidi-font-weight:normal'>:</b> There exists a supplier with
identifier S#, who has the name <span class=SpellE>SName</span>, and &#8230; </p>



<p class=MsoNormal>The questions posed of this table are:</p>

<p class=Question>Q1: Find the suppliers in London</p>

<p class=Question>Q2: Find the supplier NOT in London</p>

<p class=Question><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>To rephrase these in terms the database can understand
gives:</p>

<p class=Question>Q1a: Find the suppliers that can proved to be in London.</p>

<p class=Question>Q1b: Find the suppliers that can proved to be possibly in
London.</p>

<p class=Question>Q2a: Find the suppliers that can proved to be NOT in London.</p>

<p class=Question>Q2b: Find the suppliers that can proved to be possibly NOT in
London.</p>



<p class=MsoNormal>Q1a is easy: &#8221; SELECT S# FROM S WHERE City = &#8216;London&#8217;
&#8221;.<span style="mso-spacerun: yes">&nbsp; </span>By mentioning City we
automatically restrict the considered <span class=SpellE>tuples</span> to those
with a relation that includes City (so we drop S3 and S5).</p>

<p class=MsoNormal>Q1b requires a union between Q1a and &#8220;SELECT S# FROM S [<span
class=GramE>!City</span>]&#8221;.</p>

<p class=MsoNormal>Q2a is easy again: &#8221; SELECT S# FROM S WHEREH City &lt;&gt;
London &#8221;</p>

<p class=MsoNormal>Q2b again requires a union between Q2a and &#8220;SELECT S# FROM S
[<span class=GramE>!City</span>]&#8221;.</p>



<p class=MsoNormal>Specifying each query correctly requires understanding the
relation definitions above, but the <span class=SpellE>tuple</span>-marks give
correct and predictable results.</p>

<h2><a name="_Toc389930954">McGoveran-1</a></h2>

<p class=MsoNormal>David <span class=SpellE>McGoveran</span> [<span
class=SpellE>McGoveren</span> 94a,b<span class=GramE>,c</span>] covers properly
normalizing a database to avoid needing <span class=SpellE>NULLs</span>.<span
style="mso-spacerun: yes">&nbsp; </span>This approach is the best first
approach possible and is what I superficially described in Chapter 5.<span
style="mso-spacerun: yes">&nbsp; </span>But it can lead to a significant
increase in tables and database complexity.<span style="mso-spacerun:
yes">&nbsp; </span>Using a slightly modified version of one of <span
class=SpellE>McGoveran&#8217;s</span> examples:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:3.5in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=GramE>Vehicles
:</span> (<i style='mso-bidi-font-style:normal'>PV, UPV, UPMV</i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>VIN<o:p></o:p></u></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Make<o:p></o:p></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Model<o:p></o:p></b></p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Color<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>1</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Ford</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Escort</p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Green</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>2</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Pontiac</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grand Prix</p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Red</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>3</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Porsche</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>Carrera</span></p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>4</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Chrysler</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>LeBaron</span></p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>5</p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>DeLorean</span></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=41 valign=top style='width:40.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
 </tr>
</table>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>PV:</b> <span
class=SpellE><b style='mso-bidi-font-weight:normal'>PaintedVehicles</b></span><b
style='mso-bidi-font-weight:normal'>:</b> There exists a care with <span
class=GramE>vin</span> <span class=SpellE>VIN</span>, made by Make, of model <span
class=SpellE>Model</span>, with color <span class=SpellE>Color</span></p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>UPV: <span
class=SpellE>UnpaintedVehicles</span>:</b> There exists&#8230;</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>UPMV: <span
class=SpellE>UnpaintedModellessVehicles</span>:</b> There exists&#8230;</p>



<p class=MsoNormal>If we were to divide this table using the different
relations involved we would get a total of three tables and would have to
create two views to get &#8220;Makes&#8221; and &#8220;Makes and Models&#8221; for a user to easily
query on.<span style="mso-spacerun: yes">&nbsp; </span>By keeping it all in one
multi-relation variable with <span class=SpellE>tuple</span>-marks to
distinguish the different relations we have much less complexity of the
database scheme.</p>

<h2><a name="_Toc389930955">Date-1</a></h2>

<p class=MsoNormal>C.J. Date discussed why three-valued logic is a mistake in
[Date 95c] and in which he shows what answers supplied by 3VL are considered
wrong answers.<span style="mso-spacerun: yes">&nbsp; </span>Based on the
discussion of database knowledge and the use of <span class=SpellE>tuple</span>-marks
I will show what answers <span class=SpellE>tuple</span>-marks would provide
and respond to those that are considered wrong answers.</p>

<h3><a name="_Toc389930956">Wrong answers of the first kind</a></h3>

<p class=MsoNormal>Date&#8217;s first example of a wrong answer is the result of the
query</p>

<p class=Example>SELECT E#</p>

<p class=Example>FROM EMP</p>

<p class=Example>WHERE Job = &#8216;Clerk&#8217;</p>

<p class=Example>OR NOT Job = &#8216;Clerk&#8217;;</p>



<p class=MsoNormal>Assuming a relation and variable of:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.75in'>

<p class=RelVar style='margin:0in;margin-bottom:.0001pt'>EMP</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>E#<o:p></o:p></u></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Name<o:p></o:p></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Job<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Date asserts that this query should return &#8220;all employee
numbers&#8221; even when some <span class=SpellE>tuples</span> have JOB = NULL.</p>

<h3><a name="_Toc389930957">Right answers of the first kind</a></h3>

<p class=MsoNormal>Although Date&#8217;s assertion seems intuitive and correct, with
our multi-relation variables we can see that Date is incorrect.<span
style="mso-spacerun: yes">&nbsp; </span>If there were two relation variables:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:5.0in'>

<p class=RelVar style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>EMP_OnJob</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>E#<o:p></o:p></u></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Name<o:p></o:p></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Job<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:5.0in'>

<p class=RelVar style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>EMP_NoJob</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>E#<o:p></o:p></u></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Name<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>We would not expect that</p>

<p class=Example>SELECT E#</p>

<p class=Example>FROM <span class=SpellE>EMP_OnJob</span></p>

<p class=Example>WHERE Job = &#8216;Clerk&#8217;</p>

<p class=Example>OR NOT Job = &#8216;Clerk&#8217;;</p>

<p class=MsoNormal><span class=GramE>would</span> return any of the entries in <span
class=SpellE>EMP_NoJob</span>.<span style="mso-spacerun: yes">&nbsp; </span></p>



<p class=MsoNormal>It is also nonsensical to form the query:</p>

<p class=Example>SELECT E#</p>

<p class=Example>FROM <span class=SpellE>EMP_NoJob</span></p>

<p class=Example>WHERE Job = &#8216;Clerk&#8217;</p>

<p class=Example>OR NOT Job = &#8216;Clerk&#8217;;</p>

<p class=MsoNormal><span class=GramE>but</span> if the query were formed it
would certainly return no <span class=SpellE>tuples</span>: Job is unmentioned
and has no value, not either &#8216;Clerk&#8217; or something other than &#8216;Clerk&#8217;.<span
style="mso-spacerun: yes">&nbsp; </span>We can see this by translating the
query into a more formal question:</p>

<p class=Question>Q1: Find the employees that can proved to have a Job &#8216;Clerk&#8217;
or can be proved to be have a Job that is not &#8216;Clerk&#8217;.</p>



<p class=MsoNormal>This does not mean we can&#8217;t find employees who are not on
the Job &#8216;Clerk&#8217; simply because they aren&#8217;t on any job, but we have to express
it in a sensible manner given our relation predicates.<span
style="mso-spacerun: yes">&nbsp; </span>The predicate of <span class=SpellE>EMP_NoJob</span>
is likely to be:</p>

<p class=Predicate><span class=SpellE>EMP_NoJob</span>: There exists an
employee with id E# and name <span class=SpellE>Name</span> who is not
currently on a job.</p>



<p class=MsoNormal>So our second query would be:</p>

<p class=Example>SELECT E#</p>

<p class=Example>FROM <span class=SpellE>EMP_NoJob</span>;</p>

<p class=MsoNormal>We simply select all the <span class=SpellE>tuples</span>
from <span class=SpellE>EMP_NoJob</span> to determine who is not on any
particular Job.</p>



<p class=MsoNormal>To get the answer to the question:</p>

<p class=Question>Q1: Find the employees that can proved to not be on the Job
&#8216;Clerk&#8217;</p>

<p class=MsoNormal>We can form the query:</p>

<p class=Example>(SELECT E#</p>

<p class=Example>FROM <span class=SpellE>EMP_OnJob</span></p>

<p class=Example>WHERE Job = &#8216;Clerk&#8217;</p>

<p class=Example>OR NOT Job = &#8216;Clerk&#8217;) </p>

<p class=Example><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>UNION </p>

<p class=Example>(SELECT E#</p>

<p class=Example>FROM <span class=SpellE>EMP_NoJob</span><span class=GramE>) ;</span></p>

<p class=MsoNormal>Requiring the separate expressions joined together makes
sense: we are dealing with two different relations that have different attributes
and predicates.</p>

<h3><a name="_Toc389930958"></a><span class=SpellE><span style='mso-bookmark:
_Toc389930958'>Muli</span></span><span style='mso-bookmark:_Toc389930958'>-relation
variables</span></h3>

<p class=MsoNormal>For multi-relation variables we have the same problem and
the same results but it is slightly more obscured by them sharing the same
variable (table).<span style="mso-spacerun: yes">&nbsp; </span>Our relations
and variables are:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:238.5pt'>

<p class=RelVar2c style='margin:0in;margin-bottom:.0001pt'><span class=GramE>EMP
:</span> (<span class=SpellE><i style='mso-bidi-font-style:normal'>Emp_OnJob</i></span><i
style='mso-bidi-font-style:normal'>, <span class=SpellE>Emp_NoJob</span></i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>E#<o:p></o:p></u></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Name<o:p></o:p></b></p>
  </td>
  <td width=59 valign=top style='width:58.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Job<o:p></o:p></b></p>
  </td>
 </tr>
</table>



<p class=MsoNormal>To get the answer to the question:</p>

<p class=Question>Q1: Find the employees that can proved to not be on the Job
&#8216;Clerk&#8217;</p>

<p class=MsoNormal>We must form the query:</p>

<p class=Example>(SELECT E#</p>

<p class=Example>FROM EMP</p>

<p class=Example>WHERE Job = &#8216;Clerk&#8217;</p>

<p class=Example>OR NOT Job = &#8216;Clerk&#8217;) </p>

<p class=Example><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>UNION </p>

<p class=Example>(SELECT E#</p>

<p class=Example>FROM EMP [<span class=GramE>!Job</span>]) ;</p>



<p class=MsoNormal>Where the projection of EMP using a choose-marked allows us
to get to the <span class=SpellE>tuples</span> that are members of the relation
<span class=SpellE>Emp_NoJob</span>.</p>

<h3><a name="_Toc389930959">Unbound variables</a> </h3>

<p class=MsoFootnoteText>The argument Date proposes for why the original query
should return all <span class=SpellE>tuples</span> would be correct if a &#8220;NULL&#8221;
represented an unbound attribute-value variable which during a Prolog-like
unification (see [<span class=SpellE>Clocksin+M</span> 81]) actually took on
all possible values of that attribute-value.<span style="mso-spacerun:
yes">&nbsp; </span>In that case the condition would apply to all <span
class=SpellE>tuples</span> (because all had a relation that mentions Job) and
the WHERE would be a tautology.<span style="mso-spacerun: yes">&nbsp; </span>A
relation distinguishing <span class=SpellE>tuple</span>-mark is not an unbound
attribute-value variable (nor anything to do with an attribute-value) so this
reasoning does not apply to it.<span style="mso-spacerun: yes">&nbsp; </span></p>

<h3><a name="_Toc389930960">Summary</a></h3>

<p class=MsoNormal><span class=SpellE>Tuple</span>-marks do not cause wrong answers.<span
style="mso-spacerun: yes">&nbsp; </span>The answers to queries over a
multi-relation variable will be correct for the applicable relations for that
variable.<span style="mso-spacerun: yes">&nbsp; </span>Users will have to
remember that certain variables have multiple relations and must form queries
appropriately to use the relations desired.</p>



<p class=MsoNormal>Date&#8217;s arguments over the problems with 3VL causing wrong
answers are cause by <span class=SpellE>NULLs</span> being considered an
attribute value in a single relation.<span style="mso-spacerun: yes">&nbsp;
</span><span class=SpellE>Tuple</span>-marks are not attribute values.</p>

<h2><a name="_Toc389930961">Summary</a></h2>

<p class=MsoNormal>I believe relation-distinguishing <span class=SpellE>tuple</span>-marks
have correct behavior in the relational model and are superior to both
attribute <span class=SpellE>NULLs</span> (3VL) and special values for handling
missing information.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930962">Further Details</a></h1>

</div>

<p class=MsoNormal>This chapter fleshes out some more details of the concept of
a Relation Distinguishing <span class=SpellE>Tuple</span>-Mark.</p>

<h2><a name="_Toc389930963">Types of Missing Information</a></h2>

<p class=MsoNormal>Earlier I mentioned that there could be multiple meanings of
missing information, which would have to have independent relations and
relation variables.<span style="mso-spacerun: yes">&nbsp; </span>The example
was </p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.75in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_UnknownCity</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:4.75in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_MultiNational</span></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>Which have identical attribute sets and the same &#8220;missing&#8221;
information (the City) but have different meanings for the missing
information.<span style="mso-spacerun: yes">&nbsp; </span>For example, maybe
all <span class=SpellE>MultNationals</span> must be located in Delaware so
their location is guaranteed to not be in London which is quite different from
just not knowing the location (so it could be in London).</p>



<p class=MsoNormal>The <span class=SpellE>tuple</span>-marks discussed so far
do not allow for a multi-relation variable to have two relations with the same
set of attributes.<span style="mso-spacerun: yes">&nbsp; </span>There would be
no way to distinguish among the <span class=SpellE>tuples</span>.<span
style="mso-spacerun: yes">&nbsp; </span>There is nothing that prevents this if
the appropriate mechanisms are added.<span style="mso-spacerun: yes">&nbsp;
</span>If there were multiple marks available (&#8220;&#8211;m1&#8211;&#8221;, &#8220;&#8211;m2&#8211;&#8221;, etc.) and
the choose-marked restriction could select which mark, we could have any number
of relations in a single variable:</p>



<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:220.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>All</span></span><span class=GramE> :</span> (<i style='mso-bidi-font-style:
normal'>S_City.2, S_NoCity.2</i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=86 valign=top style='width:1.2in;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=86 valign=top style='width:1.2in;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=86 valign=top style='width:1.2in;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=86 valign=top style='width:1.2in;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=86 valign=top style='width:1.2in;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_UnknownCity</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;m1&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=86 valign=top style='width:1.2in;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_MultiNational</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;m2&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>We can answer the questions:</p>

<p class=Question>Q1: Find the suppliers that can proved to be in London.</p>

<p class=Question>Q2: Find the suppliers that can proved to be possibly in
London.</p>

<p class=Question>Q3: Find the suppliers that can proved to be NOT in London.</p>

<p class=Question>Q4: Find the suppliers that can proved to be in <span
class=SpellE>Deleware</span></p>



<p class=MsoNormal>Using the following queries:</p>

<p class=Example>Q1: SELECT S# FROM <span class=SpellE>S_All</span> WHERE City
= &#8216;London&#8217;.</p>

<p class=Example>Q2: Q1 UNION (SELECT S# FROM <span class=SpellE>S_All</span> [<span
class=GramE>!m1</span>!City])</p>

<p class=Example>Q3: (SELECT S# FROM <span class=SpellE>S_All</span> WHERE City
&lt;&gt; &#8216;London&#8217;) UNION (SELECT S# FROM <span class=SpellE>S_All</span> [<span
class=GramE>!m2</span>! City])</p>

<p class=Example>Q4: (SELECT S# FROM <span class=SpellE>S_All</span> WHERE City
= &#8217;<span class=SpellE>Deleware</span>&#8217;) UNION (SELECT S# FROM <span
class=SpellE>S_All</span> [<span class=GramE>!m2</span>! City])</p>



<p class=MsoNormal>Although adding the functionality to the database appears to
mostly a syntax addition, it is certainly a much more difficult mental model to
keep track of.<span style="mso-spacerun: yes">&nbsp; </span>The invisibility of
the multiple overlapping relations would significantly hinder a user from
understanding the database.</p>

<h2><a name="_Toc389930964">Relations with no Attributes: Dee and Dum</a></h2>

<p class=MsoNormal>What if we have only a single attribute column that can be <span
class=SpellE>tuple</span> marked?<span style="mso-spacerun: yes">&nbsp;
</span>For example:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:3.5in'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=GramE>Names
:</span> (<i style='mso-bidi-font-style:normal'>Name, <span class=SpellE>NoName</span>)</i></p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;mso-border-alt:solid windowtext 1.5pt;
  mso-border-bottom-alt:solid silver .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Name<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:silver .5pt;
  mso-border-right-alt:windowtext 1.5pt;mso-border-style-alt:solid;padding:
  0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=50 valign=top style='width:49.5pt;border:solid windowtext 1.5pt;
  border-top:none;mso-border-top-alt:solid silver .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>What does it mean to have a &#8220;NULL&#8221; in the only column
left?<span style="mso-spacerun: yes">&nbsp; </span>Well, to know that we have
to define what relations we have.<span style="mso-spacerun: yes">&nbsp;
</span>Suppose we have the following two base relations.</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>Name: </b>{Name}
&#8211;<b style='mso-bidi-font-weight:normal'> </b>There exists a supplier with
the name <span class=SpellE>Name</span>.</p>

<p class=Predicate><span class=SpellE><b style='mso-bidi-font-weight:normal'>NoName</b></span><b
style='mso-bidi-font-weight:normal'>:</b> {} &#8211;<b style='mso-bidi-font-weight:
normal'> </b>There exists a supplier for whom we do not know the name.</p>

<p class=MsoNormal>So by adding a <span class=SpellE>tuple</span> with the
relation <span class=SpellE>NoName</span> we specify that there exists a
supplier for whom we do not know the name, where otherwise we know all the
names of the suppliers.<span style="mso-spacerun: yes">&nbsp; </span>The
relation for Names as a whole is:</p>

<p class=Predicate><b style='mso-bidi-font-weight:normal'>Names:</b> {} &#8211;<b
style='mso-bidi-font-weight:normal'> </b>There exists a supplier</p>



<p class=MsoNormal>We can ask several interesting (informally phrased)
questions:</p>

<p class=Question>Q1: What are the names of the Suppliers? &#8220;Names [Name]&#8221;</p>

<p class=Question>Q2: Are there any suppliers without names? &#8220;Names [<span
class=GramE>!Name</span>]&#8221;</p>

<p class=Question>Q3: Are there any suppliers? &#8220;Names []&#8221;</p>



<p class=MsoNormal>Note that Q2 and Q3 will return a relation with no
attributes and either zero rows or one row.<span style="mso-spacerun:
yes">&nbsp; </span>These are <span class=SpellE>Tweedle</span>-Dum and <span
class=SpellE>Tweedle</span>-Dee respectively (see [Warden 90]).<span
style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>Tuple</span>-marks
have no problem with them.</p>

<h2><a name="_Toc389930965">Outer Joins</a></h2>

<p class=MsoNormal><span class=SpellE>Tuple</span>-Marks can be used just as <span
class=SpellE>NULLs</span> are normally used in outer joins.<span
style="mso-spacerun: yes">&nbsp; </span>The number of intermediary relations
will be quite extensive and it may be difficult to process the intermediary
results. [To be completed]</p>

<h2><a name="_Toc389930966"></a><span class=SpellE><span style='mso-bookmark:
_Toc389930966'>Tuple</span></span><span style='mso-bookmark:_Toc389930966'>-Marks
in final results</span></h2>

<p class=MsoNormal>It is expected that the final results of a query would
include the <span class=SpellE>tuple</span>-mark &#8221;<span class=SpellE>NULL&#8221;s</span>
for presentation and application purposes when no explicit mention of the
attribute occurred within the query.<span style="mso-spacerun: yes">&nbsp;
</span>For example, a query of</p>

<p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SELECT
* FROM S_ALL</p>

<p class=MsoNormal>Would return </p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal style='page-break-after:avoid'>Although</p>

<p class=MsoNormal style='page-break-after:avoid'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SELECT
* FROM S_ALL [*]</p>

<p class=MsoNormal style='page-break-after:avoid'><span class=GramE>would</span>
return</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>Note that the SELECT operation is performing two operations:
it is projecting as part of the query and it is ordering the output columns for
the application API.<span style="mso-spacerun: yes">&nbsp; </span>The second
has nothing to do with the relational model itself so it would be nice to order
the columns without implying a projection and without removing <span
class=SpellE>tuples</span> that have <span class=SpellE>tuple</span>-marks in
that column.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930967">Other Approaches to Missing Information</a></h1>

</div>

<p class=MsoNormal>Multi-relation variables and <span class=SpellE>Tuple</span>-Marks
are meant to replace using standard <span class=SpellE>NULLs</span>, which
require three-valued logic.<span style="mso-spacerun: yes">&nbsp; </span>On the
other hand, <span class=SpellE>tuple</span>-marks are meant to augment most
other approaches for representing missing information.<span
style="mso-spacerun: yes">&nbsp; </span>These other approaches can be more
appropriate in general or just for certain circumstances within a model.</p>

<h2><a name="_Toc389930968">Correct Normalization</a></h2>

<p class=MsoNormal>Correct and fully determined normalization<a
style='mso-footnote-id:ftn' href="#_ftn6" name="_ftnref" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[6]<![endif]></span></span></a>
should certainly be the first approach for any database.<span
style="mso-spacerun: yes">&nbsp; </span>Having a couple extra relation
variables in a database is simpler than adding the concepts of multi-relation
variables and NULL-marked <span class=SpellE>tuples</span>.<span
style="mso-spacerun: yes">&nbsp; </span>It is only when the scheme will get
unmanageable from many &#8220;optional&#8221; attributes that multi-relation variables may
be beneficial.<span style="mso-spacerun: yes">&nbsp; </span></p>

<h2><a name="_Toc389930969">Special Values</a></h2>

<p class=MsoNormal>Extending a domain to have special values is another valid
approach for representing missing information<a style='mso-footnote-id:ftn'
href="#_ftn7" name="_ftnref" title=""><span class=MsoFootnoteReference><span
style='mso-special-character:footnote'><![if !supportFootnotes]>[7]<![endif]></span></span></a>.<span
style="mso-spacerun: yes">&nbsp; </span>This requires extending the domain so
it understands how operations interact between &#8220;normal&#8221; values and the special
values, but once that domain extension is accomplished it can be used by all
attributes needing that domain throughout the database.</p>



<p class=MsoNormal>The main problem with (or feature of) special values is that
they will be included in all &#8220;normal&#8221; value comparisons other than equals<a
style='mso-footnote-id:ftn' href="#_ftn8" name="_ftnref" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[8]<![endif]></span></span></a>.<span
style="mso-spacerun: yes">&nbsp; </span>This leads to the special value results
being returned for questions like</p>

<p class=Question>What suppliers can be proven to be in a location other than
London?</p>

<p class=MsoNormal>This will return suppliers that have a location of &#8221;<span
class=SpellE>NotApplicable</span>&#8221; and &#8220;Unknown&#8221; by default.<span
style="mso-spacerun: yes">&nbsp; </span>These then have to be filtered out of
the results if they aren&#8217;t desired.</p>



<p class=MsoNormal><span class=SpellE>Tuple</span>-marks have the opposite
property.<span style="mso-spacerun: yes">&nbsp; </span>Marked <span
class=SpellE>tuples</span> will be excluded from results of a query that has
any type of operation on a marked attribute and in these cases the <span
class=SpellE>tuples</span> will have to be explicitly included (usually by
dealing with their relation independently) if they are desired.</p>

<h2><a name="_Toc389930970">Integrated multi-relation </a>values</h2>

<p class=MsoNormal>David <span class=SpellE>McGoveran</span> suggests [<span
class=SpellE>McGoveran</span> 94c] multi-relation values and variables should
be an integral part of the relational model.<span style="mso-spacerun:
yes">&nbsp; </span>This would imply all relational operations could return sets
that contain different types of <span class=SpellE>tuples</span>.<span
style="mso-spacerun: yes">&nbsp; </span>Although an interesting concept, I am
not sure that the added complexity would be worthwhile.<span
style="mso-spacerun: yes">&nbsp; </span>The relational model is currently very
simple but, even so, is frequently misunderstood.<span style="mso-spacerun:
yes">&nbsp; </span>A more sophisticated model would be more likely to be
confused.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930971">Implementing </a><span class=SpellE><span
style='mso-bookmark:_Toc389930971'>Tuple</span></span><span style='mso-bookmark:
_Toc389930971'>-Marks in SQL</span></h1>

</div>

<p class=MsoNormal>SQL does not have Relation Distinguishing <span
class=SpellE>Tuple</span>-<span class=GramE>Marks,</span> it has <span
class=SpellE>NULLs</span> that use 3VL.<span style="mso-spacerun: yes">&nbsp;
</span>SQL also does not have a choose-marked attribute projection
operator.<span style="mso-spacerun: yes">&nbsp; </span>Even if everyone agreed
that <span class=SpellE>tuple</span>-marks were the correct approach to missing
information it would take a long time for the SQL standard and then the
database vendors to change over.<span style="mso-spacerun: yes">&nbsp;
</span>What do we do in the mean time?</p>



<p class=MsoNormal>Fortunately <span class=SpellE>tuple</span>-marks can be
simulated within SQL.<span style="mso-spacerun: yes">&nbsp; </span>The only <span
class=GramE>requirements for <span class=SpellE>tuple</span>-marks is</span>
for queries to include and eliminate particular <span class=SpellE>tuples</span>
based on whether they are applicable.<span style="mso-spacerun: yes">&nbsp;
</span>Although the SQL query engines won&#8217;t do this for you automatically, you
can manual code queries to have the correct results.</p>



<p class=MsoNormal>Returning to our original example of suppliers in <span
class=SpellE>S_All</span>.</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .75pt;padding:1.0pt 1.0pt 1.0pt 0in;margin-left:
-.05in;margin-right:247.5pt'>

<p class=RelVar2b style='margin:0in;margin-bottom:.0001pt'><span class=SpellE>S_<span
class=GramE>All</span></span><span class=GramE> :</span> (<span class=SpellE><i
style='mso-bidi-font-style:normal'>S_City</i></span><i style='mso-bidi-font-style:
normal'>, <span class=SpellE>S_NoCity</span></i>)</p>

</div>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext 1.5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid silver;mso-border-insidev:.5pt solid silver'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:solid windowtext 1.5pt;
  border-left:solid windowtext 1.5pt;border-bottom:solid silver 1.0pt;
  border-right:none;mso-border-top-alt:solid windowtext 1.5pt;mso-border-left-alt:
  solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>Relation</i></b></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='tab-stops:31.5pt'><b style='mso-bidi-font-weight:
  normal'><u>S#<o:p></o:p></u></b></p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>SName</b></span><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:none;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>City<o:p></o:p></b></p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid windowtext 1.5pt;mso-border-bottom-alt:solid silver .5pt;
  mso-border-right-alt:solid windowtext 1.5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>&#8230;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S1</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Jones</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>London</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S2</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Smith</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Bristol</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_City</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S4</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Eiffel</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Paris</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-alt:solid silver .5pt;mso-border-left-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_NoCity</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S3</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>DuPont</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid silver 1.0pt;mso-border-top-alt:
  solid silver .5pt;mso-border-left-alt:solid silver .5pt;mso-border-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid silver 1.0pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-right-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:59.4pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-top-alt:silver .5pt;
  mso-border-left-alt:windowtext 1.5pt;mso-border-bottom-alt:windowtext 1.5pt;
  mso-border-right-alt:silver .5pt;mso-border-style-alt:solid;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><i style='mso-bidi-font-style:normal'>S_NoCity</i></span><i
  style='mso-bidi-font-style:normal'><o:p></o:p></i></p>
  </td>
  <td width=37 valign=top style='width:36.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>S5</p>
  </td>
  <td width=50 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>Grid</p>
  </td>
  <td width=45 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid silver 1.0pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  mso-border-alt:solid silver .5pt;mso-border-bottom-alt:solid windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8211;</p>
  </td>
  <td width=23 valign=top style='width:22.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.5pt;border-right:solid windowtext 1.5pt;
  mso-border-top-alt:solid silver .5pt;mso-border-left-alt:solid silver .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>&#8230;</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>If we query over this table we need to simulate what a <span
class=SpellE>tuple</span>-marked query engine would do.<span
style="mso-spacerun: yes">&nbsp; </span>With a total of three relations in this
table we have three options: we may want to ask questions that apply to <span
class=SpellE>S_All</span>, <span class=SpellE>S_City</span>, or <span
class=SpellE>S_NoCity</span>.<span style="mso-spacerun: yes">&nbsp; </span>This
should be the first question for any query involving this table.<span
style="mso-spacerun: yes">&nbsp; </span>Depending on the answer to that
question we will have to:</p>

<p class=MsoListNumber2 style='mso-list:l3 level1 lfo32'><![if !supportLists]><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Remove the rows that are inapplicable</p>

<p class=MsoListNumber2><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Remove (or ignore) the columns that are inapplicable</p>



<p class=MsoNormal>To remove inapplicable rows we will ask either for rows
&#8220;WHERE City NOT NULL&#8221; (to get <span class=SpellE>S_City</span>) or &#8220;WHERE City
IS NULL&#8221; (for <span class=SpellE>S_NoCity</span>).<span style="mso-spacerun:
yes">&nbsp; </span>To remove inapplicable columns we can &#8220;SELECT S#, <span
class=SpellE>SName</span>, &#8230;&#8221; and leave out City.<span style="mso-spacerun:
yes">&nbsp; </span>Together these two techniques (used carefully) will allow us
to simulate the <span class=SpellE>tuple</span>-marked query engine.</p>



<p class=MsoNormal>For some of our previous examples:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'>Tuple</b></span><b
  style='mso-bidi-font-weight:normal'>-marked<o:p></o:p></b></p>
  </td>
  <td width=51 valign=top style='width:51.3pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Relation<o:p></o:p></b></p>
  </td>
  <td width=234 valign=top style='width:3.25in;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'>SQL Version<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT City FROM <span class=SpellE>S_All</span></p>
  </td>
  <td width=51 valign=top style='width:51.3pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>S_City</span> </p>
  </td>
  <td width=234 valign=top style='width:3.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT City FROM <span class=SpellE>S_All</span> WHERE
  City NOT NULL</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM <span
  class=SpellE>S_All</span></p>
  </td>
  <td width=51 valign=top style='width:51.3pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>S_All</span></p>
  </td>
  <td width=234 valign=top style='width:3.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM S_ALL</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM <span
  class=SpellE>S_All</span> WHERE City = &#8216;London&#8217; </p>
  </td>
  <td width=51 valign=top style='width:51.3pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>S_City</span></p>
  </td>
  <td width=234 valign=top style='width:3.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM <span
  class=SpellE>S_All</span> WHERE City = &#8216;London&#8217; AND City NOT NULL</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM <span
  class=SpellE>S_All</span> [!City]</p>
  </td>
  <td width=51 valign=top style='width:51.3pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>S_NoCity</span></p>
  </td>
  <td width=234 valign=top style='width:3.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>SELECT <span class=SpellE>SName</span> FROM <span
  class=SpellE>S_All</span> WHERE City NOT NULL</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=148 valign=top style='width:2.05in;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>(SELECT S# FROM <span class=SpellE>S_All</span> WHERE City
  &lt;&gt; &#8216;London&#8217;) UNION (SELECT S# FROM <span class=SpellE>S_All</span>
  [!City])</p>
  
  </td>
  <td width=51 valign=top style='width:51.3pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=SpellE>S_City</span>, <span class=SpellE>S_NoCity</span></p>
  </td>
  <td width=234 valign=top style='width:3.25in;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal>(SELECT S# FROM <span class=SpellE>S_All</span> WHERE City
  &lt;&gt; &#8216;London&#8217; AND City NOT NULL) UNION (SELECT S# FROM <span
  class=SpellE>S_All</span> WHERE City NOT NULL)</p>
  </td>
 </tr>
</table>



<p class=MsoNormal>The SQL Version can be significantly more complex that the
natural SQL but its results will be consistent with <span class=SpellE>tuple</span>-marked
queries and two-valued logic instead of the strange behavior exhibited with
SQL&#8217;s 3VL.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930972">Related Work</a></h1>

</div>

<p class=MsoNormal>The references attached at the end of this document show
some of the other work done on this subject.<span style="mso-spacerun:
yes">&nbsp; </span>Just to give a feel for how close people&#8217;s thoughts were to <span
class=SpellE>Tuple</span>-marks I include a few quotes:</p>



<p class=MsoNormal>David <span class=SpellE>McGoveran</span></p>

<p class=MsoQuote>&#8220;&#8230;The lack of a value for a property should automatically
imply an appropriate modification of the relation predicate.&#8221;</p>

<p class=MsoQuote><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>C.J. Date</p>

<p class=MsoQuote>&#8220;To say that certain properties might not be held by certain
of those entities is thus a contradiction in terms &#8211; it&#8217;s to say that
those entities aren&#8217;t of that type after all!&#8221; </p>



<p class=MsoNormal>David <span class=SpellE>McGoveran</span></p>

<p class=MsoQuote>&#8220;Furthermore, conditional operators would then be understood
as operations on multiple relationships (masquerading as single relationships)
and having a multiple entity result (again masquerading as a single entity).&#8221;</p>



<p class=MsoNormal>James R. Alexander</p>

<p class=MsoQuote>&#8220;&#8230;<span class=GramE>what</span> my database
&quot;knows&quot; and how it &quot;knows&quot; is clear: It knows only what it
contains and what it contains, I put there..&#8221;</p>

<p class=MsoQuote><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>David <span class=SpellE>McGoveran</span></p>

<p class=MsoQuote>&#8220;Whenever a value in a non-key base table column is optional
(that is, the database designer permits it to be null), the column represents a
conditional property or meaning criterion.<span style="mso-spacerun:
yes">&nbsp; </span>Such columns indicate that multiple entity types are being
represented in a single table.<span style="mso-spacerun: yes">&nbsp;
</span>Each of these entities have distinct relation predicates&#8221;</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930973">Summary</a></h1>

</div>

<p class=MsoNormal>The topic of missing information and using <span
class=SpellE>NULLs</span> in the relational model has had a very good debate over
the years.<span style="mso-spacerun: yes">&nbsp; </span>The information from
these arguments has been very useful and has improved technology and
practices.<span style="mso-spacerun: yes">&nbsp; </span>Unfortunately this
debate has not yet lead to a generally agreeable solution.</p>



<p class=MsoNormal>I believe multi-relation variables and Relation Distinguishing
<span class=SpellE>Tuple</span>-Marks are part of that generally agreeable
solution.<span style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>Tuple</span>-marks
provide all the benefits of <span class=SpellE>NULLs</span> (and <span
class=SpellE>Codd&#8217;s</span> marks) without the corresponding problems.<span
style="mso-spacerun: yes">&nbsp; </span><span class=SpellE>Tuple</span>-marks
allow a single relation variable (table) to hold <span class=SpellE>tuples</span>
from multiple different relations and the query engine can determine which
relations and <span class=SpellE>tuples</span> are appropriate for a particular
query.<span style="mso-spacerun: yes">&nbsp; </span>This is accomplished
without any negative side effects: it does not require three-value logic or any
changes to domains and domain operations.<span style="mso-spacerun: yes">&nbsp;
</span></p>



<p class=MsoNormal>The only cost of <span class=SpellE>tuple</span>-marks is
the conceptual complexity of having multiple relations within a single
variable.<span style="mso-spacerun: yes">&nbsp; </span>This causes a tradeoff
between having many simple fully determined relation variables and having fewer
complex multi-relation variables.<span style="mso-spacerun: yes">&nbsp; </span><span
class=SpellE>Tuple</span>-marks seem to be the minimum cost approach for making
this tradeoff.<span style="mso-spacerun: yes">&nbsp; </span>They can even be
manually implemented using current SQL databases.</p>



<p class=MsoNormal>Multi-relation variables and <span class=SpellE>tuple</span>-marks
can enhance the relational model in a positive manner.<span
style="mso-spacerun: yes">&nbsp; </span>They help model missing information and
interdependent relations.<span style="mso-spacerun: yes">&nbsp; </span>Along
with proper normalization, fully determined relations, and full domain support,
Relation Distinguishing <span class=SpellE>Tuple</span>-Marks provide a general
solution to missing information.<span style="mso-spacerun: yes">&nbsp;
</span>In this case, something is much better than nothing.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc389930974">References</a></h1>

</div>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;mso-padding-alt:
 0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Alexander 94a<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>James R.
  Alexander.<span style="mso-spacerun: yes">&nbsp; </span>Letter in <i
  style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  7(3): 11, March 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Clocksin+M</b></span><b
  style='mso-bidi-font-weight:normal'> 81<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>W.F. <span
  class=SpellE>Clocksin</span> and C.S. <span class=SpellE>Mellish</span>.<span
  style="mso-spacerun: yes">&nbsp; </span><i style='mso-bidi-font-style:normal'>Programming
  in Prolog</i>.<span style="mso-spacerun: yes">&nbsp; </span>Springer-<span
  class=SpellE>Verlag</span> 1981.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Codd</b></span><b
  style='mso-bidi-font-weight:normal'> 90<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>E.F. <span
  class=SpellE>Codd</span>. <i style='mso-bidi-font-style:normal'>The Relational
  Model for Database Management, Version 2.</i><span style="mso-spacerun:
  yes">&nbsp; </span>Addison-Wesley, Reading, MA, 1990</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Codd+D</b></span><b
  style='mso-bidi-font-weight:normal'> 93a<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>E.F. <span
  class=SpellE>Codd</span> and C.J. Date. &#8220;Much Ado about Nothing&#8221; in <i
  style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  6(10): 45-53, October 1993.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 90<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date. <i
  style='mso-bidi-font-style:normal'>Relational Database Writings 1985-1989</i>.<span
  style="mso-spacerun: yes">&nbsp; </span>Addison-Wesley, Reading, MA, 1990.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 92<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J.
  Date.<span style="mso-spacerun: yes">&nbsp; </span><i style='mso-bidi-font-style:
  normal'>Relational Database Writings 1989- 1991.</i><span
  style="mso-spacerun: yes">&nbsp; </span>Addison-Wesley, Reading, MA, 1992.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 94<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date.
  &#8220;Relations and Their Meaning&#8221; in <i style='mso-bidi-font-style:normal'>Database
  Programming &amp; Design</i>, 7(12): 19-22, December 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 95<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J.
  Date.<span style="mso-spacerun: yes">&nbsp; </span><i style='mso-bidi-font-style:
  normal'>An Introduction to Database Systems</i>.<span style="mso-spacerun:
  yes">&nbsp; </span>Addison-Wesley, Reading, MA, 1995.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 95b<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J.
  Date.<span style="mso-spacerun: yes">&nbsp; </span><i style='mso-bidi-font-style:
  normal'>Relational Database Writings 1991- 1994.</i><span
  style="mso-spacerun: yes">&nbsp; </span>Addison-Wesley, Reading, MA, 1995.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 95c<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date.
  &#8220;Why Three-Valued Logic Is a Mistake&#8221; in [Date 95b<span class=GramE>] :</span>
  22-29.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 96<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date.
  &#8220;Faults and Defaults &#8211; Part 2 of 5&#8221; in <i style='mso-bidi-font-style:
  normal'>Database Programming &amp; Design</i>, 9(12): 15-19, December 1996.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Date 97a<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date.
  &#8220;Faults and Defaults &#8211; Part 3 of 5&#8221; in <i style='mso-bidi-font-style:
  normal'>Database Programming &amp; Design</i>, 10(1): 16-20, January 1997.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Date+H</b></span><b
  style='mso-bidi-font-weight:normal'> 97<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date
  with Hugh Darwin.<span style="mso-spacerun: yes">&nbsp; </span><i
  style='mso-bidi-font-style:normal'>A Guide to the SQL Standard &#8211; Fourth
  Edition.<span style="mso-spacerun: yes">&nbsp; </span></i>Addison-Wesley,
  Reading, MA, 1997.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Date+M</b></span><b
  style='mso-bidi-font-weight:normal'> 94b<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>C.J. Date
  and David <span class=SpellE>McGoveran</span>. &#8220;A New Database Design
  Principle&#8221; in <i style='mso-bidi-font-style:normal'>Database Programming
  &amp; Design</i>, 7(7): 46-53, July 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:14'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>Ferg</b></span><b
  style='mso-bidi-font-weight:normal'> 94<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Stephen <span
  class=SpellE>Ferg</span>.<span style="mso-spacerun: yes">&nbsp; </span>Letter
  in <i style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  7(7): 9-10, July 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:15'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>McGoveran</b></span><b
  style='mso-bidi-font-weight:normal'> 93a<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>David <span
  class=SpellE>McGoveran</span>. &#8220;Nothing from Nothing&#8221; in <i style='mso-bidi-font-style:
  normal'>Database Programming &amp; Design</i>, 6(12): 33-41, December 1993.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:16'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>McGoveran</b></span><b
  style='mso-bidi-font-weight:normal'> 94a<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>David <span
  class=SpellE>McGoveran</span>. &#8220;Classical Logic: Nothing Compares 2 U&#8221; in <i
  style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  7(1): 54-56, January 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:17'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>McGoveran</b></span><b
  style='mso-bidi-font-weight:normal'> 94b<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>David <span
  class=SpellE>McGoveran</span>. &#8220;Can&#8217;t Lose What You Never Had&#8221; in <i
  style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  7(2): 43-48, February 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:18'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><span
  class=SpellE><b style='mso-bidi-font-weight:normal'>McGoveran</b></span><b
  style='mso-bidi-font-weight:normal'> 94c<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>David <span
  class=SpellE>McGoveran</span>. &#8220;It&#8217;s In the Way That You Use It&#8221; in <i
  style='mso-bidi-font-style:normal'>Database Programming &amp; Design</i>,
  7(3): 54-63, March 1994.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:19;mso-yfti-lastrow:yes'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Warden 90<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Andrew
  Warden. &#8221;<span class=SpellE>Table_Dee</span> and <span class=SpellE>Table_Dum</span>&#8221;
  in [Date 90].</p>
  </td>
 </tr>
</table>





</div>




<div style='mso-element:footnote-list'><![if !supportFootnotes]><br clear=all>

<hr align=left size=1 width="33%">

<![endif]>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn1" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[1]<![endif]></span></span></a> See [<span
class=SpellE>Date+M</span> 94] for a fuller discussion of this topic.</p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn2" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[2]<![endif]></span></span></a> Usually I
will not include the relation&#8217;s attributes in the predicate specification for
space purposes. </p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn3" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[3]<![endif]></span></span></a> This derived
value is unrealistic because it would have to include the <span class=SpellE>cartesian</span>
product of the extent of S# and the possible values (minus one) of the Domain
City. </p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn4" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[4]<![endif]></span></span></a> See [<span
class=SpellE>McGoveran</span> 94c] and [Date 94b].</p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn5" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[5]<![endif]></span></span></a> See later
the next chapter for a description of this projection notation.</p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn6" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[6]<![endif]></span></span></a> See [<span
class=SpellE>McGoveran</span> 94c] and [Date 94b].</p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn7" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[7]<![endif]></span></span></a> See [Date
96,97a-c] and the other works by C.J. Date for a full discussion of the Special
Values topic.</p>

</div>

<div style='mso-element:footnote' id=ftn>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn' href="#_ftnref"
name="_ftn8" title=""><span class=MsoFootnoteReference><span style='mso-special-character:
footnote'><![if !supportFootnotes]>[8]<![endif]></span></span></a> This isn&#8217;t
strictly true with good domain support.<span style="mso-spacerun: yes">&nbsp;
</span>With good domain support you can define the domain&#8217;s operations as
failing or implementing whatever truth table you desire.<span
style="mso-spacerun: yes">&nbsp; </span>See [Date 97a].</p>

</div>

</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SmallJava: Smalltalk to Java... Using Language Transformation to Show Language Differences]]></title>
    <link href="http://markfussell.github.com/blog/1997/05/07/smalljava/"/>
    <updated>1997-05-07T18:00:00-07:00</updated>
    <id>http://markfussell.github.com/blog/1997/05/07/smalljava</id>
    <content type="html"><![CDATA[<p>There is also a PDF version <a href="http://markfussell.github.com/pdfs/SmallJava1d_2.pdf">here</a> which might be easier to read
because it has a bit more formatting.</p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc387781516">Overview and Introduction</a></h1>

</div>




<p class=MsoNormal>In this document I will compare and contrast Smalltalk and
Java using a somewhat unusual approach: I will transform one language
(Smalltalk) into the other (Java) by a series of small steps in an intermediary
language (SmallJava).<span style="mso-spacerun: yes">&nbsp; </span>With each
step I will discuss how the new properties of the intermediate language compare
and contrast to the properties of the previous version of the language.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<!-- more -->




<p class=MsoNormal>The reason to use this approach is it allows two languages&#8217;
features to be compared without the baggage of all the other differences in the
languages.<span style="mso-spacerun: yes">&nbsp; </span>Frequently language
discussions are difficult because there are so many differences in syntax and
unrelated semantics between the two languages that discussing a single point is
impossible unless all parties are fluent in both languages.<span
style="mso-spacerun: yes">&nbsp; </span>The approach of transforming a single
language removes this particular hurdle to analysis.<span style="mso-spacerun:
yes">&nbsp; </span>In addition, by using two publicly known languages as
&quot;end-points&quot;, the intermediate language will also be very familiar.</p>




<p class=MsoNormal>The reason I can use this approach is the incredible amount
of similarity between Smalltalk and Java.<span style="mso-spacerun: yes">&nbsp;
</span>This similarity is surprising because the syntax of the languages look
very different and, more importantly, because Java is called<span
style="mso-spacerun: yes">&nbsp; </span>&quot;statically typed&quot; and
Smalltalk is called &quot;untyped&quot; or &quot;dynamically typed&quot;.<span
style="mso-spacerun: yes">&nbsp; </span>But the similarity is there at the core
and by doing the language transformation we can have very concrete examples of
what terms like &quot;statically typed&quot; and &quot;dynamically type&quot; mean
in the context of a &quot;single&quot; language.<span style="mso-spacerun:
yes">&nbsp; </span></p>




<p class=MsoNormal>This document will require at least introductory background
in both Java and Smalltalk.<span style="mso-spacerun: yes">&nbsp;
</span>Basically the syntax and major concepts of both languages should be
familiar to you.<span style="mso-spacerun: yes">&nbsp; </span>If you get lost
during the postings I suggest you look at FAQ&#8217;s and book related postings for
&quot;comp.lang.smalltalk&quot;, &quot;comp.lang.java.programmer&quot; and
&quot;comp.object&quot; [using www.dejanews.com might be the easiest
approach].<span style="mso-spacerun: yes">&nbsp; </span>Although I don&#8217;t ever
consider a single book to be enough for any language, my current favorite two
books may be:</p>




<p class=BookCitation><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Smalltalk-80: The Language and its Implementation. </p>




<p class=BookCitation><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Adele Goldberg and David
Robson. </p>




<p class=BookCitation><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Addison-Wesley, Reading,
MA, 1983.</p>




<p class=BookCitation><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>The Java Language Specification. </p>




<p class=BookCitation><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>James Gosling, Bill Joy,
Guy Steele. </p>




<p class=BookCitation><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Addison-Wesley, Reading,
MA, 1996.</p>




<p class=MsoNormal>But these are not exactly introductory books and will not be
the best choices for all readers.<span style="mso-spacerun: yes">&nbsp; </span></p>




<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc387781517">SmallJava</a></h1>

</div>




<h2><a name="_Toc387781518">SmallJava-97, The Language</a></h2>




<p class=MsoNormal>This document is comparing Smalltalk and Java through an
intermediary language, SmallJava.<span style="mso-spacerun: yes">&nbsp;
</span>SmallJava will start as the common elements from both Smalltalk and
Java.<span style="mso-spacerun: yes">&nbsp; </span>It will then be used to
discuss how new properties brought into SmallJava from Smalltalk or Java impact
the language.<span style="mso-spacerun: yes">&nbsp; </span>The first item on
the agenda is to specify what the base version of SmallJava will look like in
both semantics and syntax.<span style="mso-spacerun: yes">&nbsp; </span></p>




<h3><a name="_Toc387781519">SmallJava Semantics</a></h3>




<p class=MsoNormal>SmallJava semantics will be the intersection of the common
semantic features of both Smalltalk and Java.<span style="mso-spacerun:
yes">&nbsp; </span>This will enable SmallJava to easily grow with features in
either direction and will allow developers familiar with either language to
also be familiar with SmallJava.<span style="mso-spacerun: yes">&nbsp;
</span>To accomplish this goal requires simplifying the properties of both
languages until the remaining cores overlap sufficiently.<span
style="mso-spacerun: yes">&nbsp; </span>Because of the similarities in the
languages not very much has to be removed from either. </p>




<h4><a name="_Toc387781520">Smalltalk and Java Simplification</a></h4>




<p class=MsoNormal>First I will simplify Smalltalk to get to its core.<span
style="mso-spacerun: yes">&nbsp; </span>To do this SmallJava will:</p>




<p class=MsoList2>(S1) Use class declaration instead of class construction</p>




<p class=MsoList2>(S2) Drop all the Metaclass/Class capabilities</p>




<p class=MsoList2>(S3) Ignore how blocks and control messages are different
from control structures.<span style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoList2>(S4) Only have a single root class &quot;Object&quot; that
all classes must inherit from directly or indirectly.<span style="mso-spacerun:
yes">&nbsp; </span></p>




<p class=MsoNormal>This gives us a dialect of Smalltalk like &#8220;Little Smalltalk&#8221;
[Budd 87].<span style="mso-spacerun: yes">&nbsp; </span>We have dropped (or not
mentioned) a lot of capabilities of professional Smalltalk dialects, but we
still have a valid dialect of the Smalltalk language.</p>




<p class=MsoNormal>Next I will simplify Java to match up with the above simple
Smalltalk.<span style="mso-spacerun: yes">&nbsp; </span>To do this SmallJava
will:</p>




<p class=MsoList2>(J1) Drop access control.<span style="mso-spacerun:
yes">&nbsp; </span>All methods will be public and all instance variables will
be protected which closely matches Smalltalk&#8217;s standard access controls.</p>




<p class=MsoList2>(J2) Ignore the static side of Java classes.</p>




<p class=MsoList2>(J3) Consider all primitive data types to inherit from
Object.<span style="mso-spacerun: yes">&nbsp; </span>Viewed differently, you
could say that all the Java control structures, operators, and other
expressions work with the Wrapper versions of the primitive data types.</p>




<p class=MsoList2>(J4) Make allowances and simplifications with certain
packages and operators.<span style="mso-spacerun: yes">&nbsp; </span>For
example the &#8220;Math&#8221; functions will be made available without needing the &#8220;Math&#8221;
prefix.</p>




<p class=MsoList2>(J5) Drop the use of static typing.<span style="mso-spacerun:
yes">&nbsp; </span>All variables, parameters, and return types will be typed as
&#8220;Object&#8221; and messages can be successfully sent to an object that has a method
with the right signature.<span style="mso-spacerun: yes">&nbsp; </span>Since
static typing is removed, interfaces are removed also and we simply have
classes extending other classes.</p>




<p class=MsoNormal>The only dramatic change to Java is by J5.<span
style="mso-spacerun: yes">&nbsp; </span>An interesting aspect of J5 is that if
you take a working program it still works after applying J5 to it.<span
style="mso-spacerun: yes">&nbsp; </span>This will be shown in the example
below.</p>




<p class=MsoNormal>The change J3 is also sizable but I believe it is an
&#8220;unquestionable&#8221; improvement so less interesting although this will also be
discussed in later sections.</p>




<h4><a name="_Toc387781521">SmallJava Semantics Summary</a></h4>




<p class=MsoNormal>Stated again, SmallJava&#8217;s semantics are the intersection
Smalltalk and Java with each simplified as specified.<span style="mso-spacerun:
yes">&nbsp; </span>A more formal description might be useful but is not in the
scope of this document.<span style="mso-spacerun: yes">&nbsp; </span>It would
also have to be many formal descriptions because SmallJava will be constantly
changing as we add new properties to it.<span style="mso-spacerun: yes">&nbsp;
</span>Beside the above informal description, examples of SmallJava will be
provided as the document progresses.<span style="mso-spacerun: yes">&nbsp;
</span>Next we have to specify SmallJava&#8217;s syntax.</p>




<h3><a name="_Toc387781522">SmallJava Syntax</a></h3>




<p class=MsoNormal>SmallJava uses primarily Java syntax. This is to allow
easier discussion of adding in Java properties (e.g. static typing and
interfaces) since I can use Java syntax for those properties.<span
style="mso-spacerun: yes">&nbsp; </span>It is also true that many programmers
are more familiar with &#8216;C++&#8217; like syntax than with Smalltalk syntax.<span
style="mso-spacerun: yes">&nbsp; </span>Adding in Smalltalk properties to
SmallJava generally does not require extra syntax (blocks &#8220;[ | ]&#8221; being the notable
exception) but instead either requires objects to become &#8220;smarter&#8221; (control
messages for Booleans and Collections) or requires developing new types of
objects (Class objects).<span style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>If
you are interested in a syntax level comparison between Smalltalk and Java, you
might want to look at: http://www.chimu.com/publications/SmalltalkJavaSyntax.html.<span
style="mso-spacerun: yes">&nbsp; </span>Also some of my naming conventions make
Java look a bit more like Smalltalk so the syntax difference will not be quite
as noticeable.</p>




<h3><a name="_Toc387781523">The SmallJava Language</a></h3>




<p class=MsoNormal>This resulting SmallJava is a language you can view as
either a simple Java without static typing or as a simple Smalltalk with Java
syntax.<span style="mso-spacerun: yes">&nbsp; </span>I will show each of these
views in different ways.<span style="mso-spacerun: yes">&nbsp; </span>First I
will show the similarity to Java by applying the &#8220;J&#8221; transformations to a Java
program and turn it into SmallJava.<span style="mso-spacerun: yes">&nbsp;
</span>Second I will translate the example&#8217;s syntax between SmallJava and
Smalltalk.<span style="mso-spacerun: yes">&nbsp; </span>This will result in a
total of three versions of the same example code in each of Smalltalk, Java,
and SmallJava.<span style="mso-spacerun: yes">&nbsp; </span></p>




<h4><a name="_Toc387781524">From Java to SmallJava</a></h4>




<p class=MsoNormal>My primary example will be a simple Point class.<span
style="mso-spacerun: yes">&nbsp; </span>The following is the original, 100%
pure Java.</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>public class Point {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public Point(double x,
double y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.x = x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public double x()
{return x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public double y()
{return y;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public double r()
{return Math.sqrt(Math.pow(x,2)+Math.pow(y,2));}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public double theta()
{return Math.atan2(y,x);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>public Point
vectorFrom(Point point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>protected double x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Now I will start applying the SmallJava changes.<span
style="mso-spacerun: yes">&nbsp; </span>J2 doesn&#8217;t apply because there are no
static methods.<span style="mso-spacerun: yes">&nbsp; </span>After applying J1,
J3, and J4 to the example we get:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class Point {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Point(Double x, Double
y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.x = x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double x() {return x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double y() {return y;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double r() {return
sqrt(x^2+y^2);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double theta() {return
atan2(y,x);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Point vectorFrom(Point
point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>The major dramatic effect of these changes is that all our
numbers can now be used like all other objects (e.g. directly placed in Vectors
and Hashtables).<span style="mso-spacerun: yes">&nbsp; </span>Except for these
numbers and the simplified Math calls, the above is completely legal Java.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>Next we apply J5 part 1: make all the variables typed to
Object.</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class Point {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Point(Object x, Object
y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>this.x
= x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object x() {return x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object y() {return y;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object r() {return
sqrt(x^2+y^2);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object theta() {return
atan2(y,x);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object vectorFrom(Object
point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
new Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Object x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Strangely enough, this is almost legal Java also.<span
style="mso-spacerun: yes">&nbsp; </span>Basically it is missing a lot of
casting to make it work.<span style="mso-spacerun: yes">&nbsp; </span>For
example the method #vectorFrom needs to have casts like this to be valid Java:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>Object vectorFrom(Object point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
new Point(</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(Double) x - (Double) ((Point) point).x(), </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(Double) y - (Double) ((Point) point).y()</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Well, that is a whole lot of casting, so it is fortunate we
are dropping it.<span style="mso-spacerun: yes">&nbsp; </span>We will allow a
message to be sent to any Object and if it the actual object does not implement
that method we will throw a &#8220;DoesNotUnderstandException&#8221; (this behavior will be
discussed in depth in the next section).</p>




<p class=MsoNormal>Now we can finish the J5 transformation and drop all the
superfluous &#8220;Object&#8221;s.<span style="mso-spacerun: yes">&nbsp; </span>This gives
us:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class Point {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Point(x, y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.x = x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>x() {return x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y() {return y;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r() {return
sqrt(x^2+y^2);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>theta() {return
atan2(y,x);}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<h4><a name="_Toc387781525">The first SmallJava example</a></h4>




<p class=MsoNormal>The above is the first example of SmallJava.<span
style="mso-spacerun: yes">&nbsp; </span>From these transformations you can see
that SmallJava is just like Java but with a lot fewer words.<span
style="mso-spacerun: yes">&nbsp; </span>An important observation is, returning
to an earlier comment, if the original Java Point class executed correctly then
the above class would execute correctly too.<span style="mso-spacerun:
yes">&nbsp; </span>The use of the static typing does not impact the correct
behavior of the code at all [1]; it only helps detect incorrect specifications that
will result in incorrect behavior (as does having multiple types of access
control).</p>




<h4><a name="_Toc387781526">SmallJava to Smalltalk</a></h4>




<p class=MsoNormal>Next, to show how similar SmallJava is to Smalltalk, the
following is the SmallJava program converted to Smalltalk-like (see [Budd 87])
syntax (the bar &#8220;|&#8221; separates method):</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class Point<span style="mso-spacerun:
yes">&nbsp; </span>| x y | [</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>newX: newX y: newY </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>x := newX.</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>y := newY. </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>|<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>^x </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>|<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>^y </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>|<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>r </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>^((x^2) + (y^2)) sqrt </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>|<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>theta</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>^(y atan2: x) </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>|<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom: point</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>^Point newX: x - point x </p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>y: y - point y</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>]</p>

</div>




<p class=MsoNormal>The point of defining the SmallJava language is so people
familiar with either Smalltalk or Java will all have a single common language
they also consider familiar.<span style="mso-spacerun: yes">&nbsp; </span>For
Smalltalk developers the transition is mostly a change in syntax.<span
style="mso-spacerun: yes">&nbsp; </span>For Java developers the transition is
mostly relaxing over typing: the Point class will execute correctly whether the
types are there or not.</p>




<h3><a name="_Toc387781527">Summary: SmallJava as a Vehicle</a> </h3>




<p class=MsoNormal>SmallJava is a vehicle to compare and contrast Smalltalk and
Java.<span style="mso-spacerun: yes">&nbsp; </span>SmallJava&#8217;s existence is the
first comparison: these languages are very similar which makes SmallJava
possible.<span style="mso-spacerun: yes">&nbsp; </span>In the next sections I
will start the contrasting by adding properties of Java into SmallJava.<span
style="mso-spacerun: yes">&nbsp; </span>I will begin by getting &#8220;pessimistic&#8221;.</p>




<p class=MsoNormal>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;</p>




<p class=EndNote>[1] Static typing can also be used to choose among overloaded
message names, but I would argue that these Type overloaded messages are a very
bad thing.<span style="mso-spacerun: yes">&nbsp; </span>It should be obvious to
the programmer reading or writing a message what will happen.<span
style="mso-spacerun: yes">&nbsp; </span>Overloading excessively hinders this:
you also have to read the Type declarations of all the message parameters and
know all the possible overloaded methods to determine what the compiler
determines (which better be the same thing).<span style="mso-spacerun:
yes">&nbsp; </span>This is not an objection to multi-methods which are a very
different thing.<span style="mso-spacerun: yes">&nbsp; </span>See the comments
on method naming http://www.chimu.com/publications/javaStandards/ for a
slightly longer discussion of this.</p>




<h2><a name="_Toc387781528">Becoming Pessimistic: Changing when an object&#8217;s
type is verified</a> </h2>




<p class=MsoNormal>SmallJava&#8217;s most significant difference from Java is that a
message can be sent to an object that is not known to understand that
message.<span style="mso-spacerun: yes">&nbsp; </span>If the object has
implemented a method matching the message signature then everything executes as
expected.<span style="mso-spacerun: yes">&nbsp; </span>If the object has no
matching method then SmallJava throws a &#8220;DoesNotUnderstandException&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>This behavior I call &#8221;<b style='mso-bidi-font-weight:normal'><i
style='mso-bidi-font-style:normal'>optimistic</i></b>&#8221; messaging: you assume an
object can understand a message and only handle the special cases when the
object does not.<span style="mso-spacerun: yes">&nbsp; </span>This is as
opposed to &#8221;<b style='mso-bidi-font-weight:normal'><i style='mso-bidi-font-style:
normal'>pessimistic</i></b>&#8221; messaging where you make sure an object
understands a message before sending it to the object [1].<span
style="mso-spacerun: yes">&nbsp; </span>So let us compare these two approaches.</p>




<h3><a name="_Toc387781529">Optimistic and Pessimistic Messaging</a></h3>




<p class=MsoNormal>Optimistic and pessimistic messaging have identical behavior
if the message will be successfully understood.<span style="mso-spacerun:
yes">&nbsp; </span>The main difference between the two approaches is when an
unsuccessful message send is recognized.<span style="mso-spacerun: yes">&nbsp;
</span>For optimistic messaging it will not be recognized until you send the
message and for pessimistic it will be recognized at some time before sending
the message.<span style="mso-spacerun: yes">&nbsp; </span>Using our
Point#vectorFrom [2] example:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>If we want to make sure messages like #x and #y are
understood by &#8216;point&#8217; then for an optimistic approach we would have to do
something like this:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>The approach is identical to what you would do for handling
any message that could throw an Exception; the only difference is that the
message is never actually &#8220;received&#8221; by the object [3].</p>




<p class=MsoNormal>So what would pessimistic messaging look like for our
example?<span style="mso-spacerun: yes">&nbsp; </span>Assume we add to
SmallJava a &#8220;message-check&#8221; with syntax &#8220;(#message)&#8221; that allows us to check
whether an object understands a particular message.<span style="mso-spacerun:
yes">&nbsp; </span>A message-check will do nothing if the object understands
the message, but will throw a &#8220;DoesNotUnderstandException&#8221; if the object does
not.<span style="mso-spacerun: yes">&nbsp; </span>Then we can change our
example to:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return new
Point(x - ((#x) point).x(), y - ((#y) point).y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Now we have guaranteed that &#8216;point&#8217; will successfully
respond to #x before sending &#8216;x()&#8217; and will successfully respond #y before
sending &#8216;y()&#8217;.<span style="mso-spacerun: yes">&nbsp; </span>We do not need the
optimistic messaging anymore.</p>




<p class=MsoNormal>OK, that really didn&#8217;t provide us with ANY benefit.<span
style="mso-spacerun: yes">&nbsp; </span>We still throw the same exception on
failure and we throw that exception &#8220;just a fraction of a second&#8221; before we
would actually have sent the message.<span style="mso-spacerun: yes">&nbsp;
</span>Why bother?<span style="mso-spacerun: yes">&nbsp; </span></p>




<h4><a name="_Toc387781530">Advantages of pessimistic messaging</a></h4>




<p class=MsoNormal>The advantage of pessimistic messaging is that we have more
control of when the test is done.<span style="mso-spacerun: yes">&nbsp;
</span>For example, we can make sure nothing happens in the method if we didn&#8217;t
actually get a &#8216;point&#8217; that responds to #x and #y:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y) point;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>This is now different behavior than what our optimistic
version of the method produced.<span style="mso-spacerun: yes">&nbsp;
</span>Our optimistic version would have sent &#8216;x()&#8217; to the point before
checking whether the point responded to #y.<span style="mso-spacerun:
yes">&nbsp; </span>This version verifies [4] that &#8216;point&#8217; understands both #x
and #y before sending any messages to it. </p>




<h3><a name="_Toc387781531">Forgetting and Remembering verification</a></h3>




<p class=MsoNormal>SmallJava&#8217;s message-check verification happens to the object
in a variable at a given time.<span style="mso-spacerun: yes">&nbsp;
</span>What happens when that variable changes or when the object moves to a
new variable?<span style="mso-spacerun: yes">&nbsp; </span>We loose the
verification and must verify again.<span style="mso-spacerun: yes">&nbsp;
</span>The following is not completely pessimistic because of the second
assignment to &#8216;pointCopy&#8217;:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp = (#x,#y) point;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newX = temp.x();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp = this;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newX = newX-temp.x();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new Point(newX, y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>In the example above we do not know whether the second
&#8216;temp.x()&#8217; will be successful.<span style="mso-spacerun: yes">&nbsp; </span>We
have to do another check after assigning to the variable a second time:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp = (#x,#y) this;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e2) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newX = newX-temp.x();</p>

</div>




<h4><a name="_Toc387781532">Remembering verification</a></h4>




<p class=MsoNormal>Well, that produces some very noisy methods.<span
style="mso-spacerun: yes">&nbsp; </span>It would be better if we could have a
little more memory of previous verifications.<span style="mso-spacerun:
yes">&nbsp; </span>We can remember verification of an object by keeping track
of the object during variable assignments:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp1 = ((#x,#y) point);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp2 = temp1;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newX = temp1.x();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newY = temp2.y();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new Point(x - newX, y - newY);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Unfortunately this doesn&#8217;t provide us with too much benefit
in most programs.<span style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>Our other option is to insist that all assignments to a
particular variable will always be message-checked before the assignment:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y) temp1;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y) temp2;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp1 = (#x,#y) point;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>} catch (DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>temp2 = temp1;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newX = temp1.x();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>newY = temp2.y();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new Point(x - newX, y - newY);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>All assignments to &#8216;temp1&#8217; and &#8216;temp2&#8217; must now check
whether the value of the assignment passes the message-check.<span
style="mso-spacerun: yes">&nbsp; </span>This has no impact to our assignment to
&#8216;temp1&#8217;, but it does allow us to assign to &#8216;temp2&#8217; without doing a further
check.<span style="mso-spacerun: yes">&nbsp; </span>We have defined invariants
for the variables [5] temp1 and temp2 that guarantee that the assignment from
temp1 to temp2 will succeed.<span style="mso-spacerun: yes">&nbsp; </span>Since
we can do this invariant check at compile-time we now have a simple
&#8220;compile-time message-check&#8221; capability for SmallJava.</p>




<h3><a name="_Toc387781533">Pessimistic inside: Optimistic outside</a></h3>




<p class=MsoNormal>While adding all this support for pessimistic checking, we
unfortunately have been cheating a bit.<span style="mso-spacerun: yes">&nbsp;
</span>We left out the implementation of &#8220;Do the right thing&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span>What is the right thing to do?<span
style="mso-spacerun: yes">&nbsp; </span>Well, it is possible that a method can
handle different types of &#8216;point&#8217;s and by finding out which type of point it
has it will behave differently.<span style="mso-spacerun: yes">&nbsp;
</span>For example, we could use a default &#8216;z&#8217; value if we are given a 2d point
when we expect a 3d point.<span style="mso-spacerun: yes">&nbsp; </span>This is
useful behavior but is not the most common behavior.</p>




<p class=MsoNormal>The more common answer is that if a method doesn&#8217;t get what
it expects it doesn&#8217;t know what to do.<span style="mso-spacerun: yes">&nbsp;
</span>In this case we really can&#8217;t catch the error at all: we have to let it
go to the caller.<span style="mso-spacerun: yes">&nbsp; </span>That makes us an
optimistic method from the caller&#8217;s point of view.<span style="mso-spacerun:
yes">&nbsp; </span>For example:</p>




<p class=MsoNormal><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>pointA.vectorFrom(pointB)</p>




<p class=MsoNormal>will throw a DoesNotUnderstandException if pointB is not
able to respond to (#x,#y).<span style="mso-spacerun: yes">&nbsp; </span>So
whether we are optimistic or pessimistic within our method, we are still
optimistic as far as the caller is concerned.</p>




<h4><a name="_Toc387781534">Pessimistic in: Pessimistic out</a></h4>




<p class=MsoNormal>How can we change this?<span style="mso-spacerun:
yes">&nbsp; </span>We need more invariants within our #vectorFrom method so we
don&#8217;t have any message-checks inside it.<span style="mso-spacerun: yes">&nbsp;
</span>Our only message-check is to &#8216;point&#8217; itself, so if we can make the
caller guarantee that &#8216;point&#8217; passes our message-check then we will guarantee
we can execute the method without further verification.<span
style="mso-spacerun: yes">&nbsp; </span>Notationally this is simple enough:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#x,#y)
point) {<span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new Point(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>We are now forcing the caller to explicitly satisfy our
requirement that &#8216;point&#8217; understands (#x,#y) before they can even call our
method instead of making the caller handle our DoesNotUnderstandException if
&#8216;point&#8217; does not understand (#x,#y).<span style="mso-spacerun: yes">&nbsp;
</span>We just passed the verification requirement in a different and
more-explicit manner than before [6].<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span></p>




<h4><a name="_Toc387781535">Repassing the pessimistic requirement</a></h4>




<p class=MsoNormal>SmallJava could previously handle the
DoesNotUnderstandException through the usual exception handling mechanisms, so
only the ultimate handler of the DoesNotUnderstandException (who ever that may
be) would need to be involved [7].<span style="mso-spacerun: yes">&nbsp;
</span>Now we have to handle the pessimistic checking explicitly at all
levels.<span style="mso-spacerun: yes">&nbsp; </span>If the caller to our
#vectorFrom method looked like this under optimistic messaging:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>class Line {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Line(pointA, pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return vectorFrom(pointA,pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>pointA, pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;</span>}</p>

</div>




<p class=MsoNormal>It would now have to look like this for pessimistic
verification:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>class Line {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Line((#x,#y) pointA, (#x,#y) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vector()
{</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return vectorFrom(pointA,pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y) pointA, pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<h4><a name="_Toc387781536">Where does the buck stop?</a></h4>




<p class=MsoNormal>We keep passing the buck for the pessimistic message-check
verification, but some SmallJava expression must be a &#8220;buck consumer&#8221; and
&#8220;verification producer&#8221;.<span style="mso-spacerun: yes">&nbsp; </span>We have
already seen one of them: the explicit message-check when used as an expression
instead of an invariant.<span style="mso-spacerun: yes">&nbsp; </span>All the
pessimistic-invariants allowed us to do one thing: remember an earlier message-check.<span
style="mso-spacerun: yes">&nbsp; </span>If we have a method:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#x,#y) point;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>try {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>point = (#x,#y) newPoint;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} catch
(DoesNotUnderstandException e) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>//Do the right thing</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(new
Line(point,point)).vector();</p>

</div>




<p class=MsoNormal>then we can take advantage of the single message-check of
&#8216;newPoint&#8217; to know all the other messages involved with creating a line and
sending #vector to the line will succeed.<span style="mso-spacerun: yes">&nbsp;
</span>We now have a pretty good memory caused by explicitly stating what we
want to remember (require) about message-understanding throughout the flow of
the program.</p>




<p class=MsoNormal>Having one message-check is better than many, but what if I
want to get rid of that message check too?<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span>Aren&#8217;t there any other &#8220;buck consumers&#8221;?<span
style="mso-spacerun: yes">&nbsp; </span>There is one other case where the result
of an expression is guaranteed to respond to certain messages, object
construction.<span style="mso-spacerun: yes">&nbsp; </span>If we build a new
Point we know what messages it responds to, the methods Point implements.<span
style="mso-spacerun: yes">&nbsp; </span>The expression:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>new Point(x,y);</p>

</div>




<p class=MsoNormal>is equivalent to:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>(#x,#y,#r,#theta,#vectorFrom) new Point(x,y);</p>

</div>




<p class=MsoNormal>so we can finally get rid of our last message-check for our
example program:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#x,#y) point = new
Point(x,y);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(new
Line(point,point)).vector();</p>

</div>




<p class=MsoNormal>Now it is completely verifiable at compile time that all
message sends will be successful (ignoring &#8216;x&#8217; and &#8216;y&#8217;).<span
style="mso-spacerun: yes">&nbsp; </span>We have turned off the need for
Optimistic messaging for SmallJava for this particular example and now have a
completely pessimistic and compile-time verified program.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<h3><a name="_Toc387781537">The Unmentionables</a></h3>




<p class=MsoNormal>There were several aspects unmentioned in the above
discussion of pessimistically verified message checking. What happens when we
get a &#8216;null&#8217;?<span style="mso-spacerun: yes">&nbsp; </span>What are the return
values for the methods?<span style="mso-spacerun: yes">&nbsp; </span>How do we
know that the method implementing a message (by name) is semantically equivalent
to what we expect the method to do?<span style="mso-spacerun: yes">&nbsp;
</span>These I will address in future sections on &#8216;null&#8217; explicitly and on
&#8216;interface&#8217; instead of &#8216;message&#8217; based typing.<span style="mso-spacerun:
yes">&nbsp; </span>For the moment I will leave them unmentioned.</p>




<h3><a name="_Toc387781538">Where&#8217;s the static typing?</a></h3>




<p class=MsoNormal>We have shown how we can make SmallJava pessimistic, but how
do we make it completely compile-time verified or &#8220;statically typed&#8221;?<span
style="mso-spacerun: yes">&nbsp; </span>If all our pessimistic message-checks
can be moved to the point of object construction then all of them can be
verified at compile-time.<span style="mso-spacerun: yes">&nbsp; </span>This would
be a statically message-checked program.<span style="mso-spacerun: yes">&nbsp;
</span>Is this possible?<span style="mso-spacerun: yes">&nbsp;
</span>Generally, no.<span style="mso-spacerun: yes">&nbsp; </span>At some
point we will have to hope that a particular object understands more messages
than we have been assured that it understands.<span style="mso-spacerun:
yes">&nbsp; </span>For example, if we have a keyed collection object:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class KeyedCollection {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>atKey_put(key, value)
{&#8230;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>atKey(key) {&#8230;; return
value;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Then what can we be sure about the object returned from
#atKey?<span style="mso-spacerun: yes">&nbsp; </span>We can&#8217;t be sure of
anything.<span style="mso-spacerun: yes">&nbsp; </span>For example, in:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#x,#y) inPoint = &#8230;;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>namesToPoints.atKey_put(&quot;test&quot;,inPoint);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>outPoint =
namesToPoints.atKey(&quot;test&quot;);</p>

</div>




<p class=MsoNormal>We can&#8217;t be sure that &#8216;outPoint&#8217; is able to respond to
(#x,#y), so we will have to do a runtime message check to verify it.<span
style="mso-spacerun: yes">&nbsp; </span>We can still be pessimistic by checking
&#8216;output&#8217; before sending a message to it, but we can not do it statically.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>Sure we can!<span style="mso-spacerun: yes">&nbsp; </span>We
can define a new class:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class KeyedCollectionOfPoints {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>atKey_put(key, (#x,#y)
value) {&#8230;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#x,#y) atKey(key) {&#8230;;
return value;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Well, that solves our problem but now we have added even
more information (or &#8220;noise&#8221;) to our program.<span style="mso-spacerun:
yes">&nbsp; </span>We had to create a whole new class to support being able to
statically verify that a &#8220;collection of points&#8221; is really a
&#8216;CollectionOfPoints&#8217;.<span style="mso-spacerun: yes">&nbsp; </span>Also note
that a &#8216;KeyedCollectionOfPoints&#8217; can not be just a &#8220;wrapper&#8221; of a
&#8216;KeyedCollection&#8217;: We can not use a KeyedCollection to implement our
KeyedCollectionOfPoints because we would stilly have to do a runtime check to
convert the &#8220;atKey&#8221; to an &#8220;(#x,#y) atKey&#8221;.<span style="mso-spacerun:
yes">&nbsp; </span>We have to completely rewrite the KeyedCollectionOfPoints
from scratch to have the new compile-time verifiable message-checks.<span
style="mso-spacerun: yes">&nbsp; </span>So much for code reuse.</p>




<p class=MsoNormal>A solution to all this extra effort is to have parameterized
classes that &#8220;effectively&#8221; (or actually) code-generate classes that are
compile-time verifiable for a given set of message constraints.<span
style="mso-spacerun: yes">&nbsp; </span>We can develop a &#8220;template&#8221; class:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class KeyedCollectionOf&lt;valueMessages&gt; {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>atKey_put(key,
&lt;valueMessages&gt; value) {&#8230;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;valueMessages&gt;
atKey(key) {&#8230;; return value;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>And simply use it like so:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#x,#y) inPoint = &#8230;;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>namesToPoints = new
KeyedCollectionOf&lt;(#x,#y)&gt;();</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>namesToPoints.atKey_put(&quot;test&quot;,inPoint);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>outPoint =
namesToPoints.atKey(&quot;test&quot;);</p>

</div>




<p class=MsoNormal>So now we at least don&#8217;t have to write a bunch of different
classes for every variation we need, we can let the compiler do it for us.<span
style="mso-spacerun: yes">&nbsp; </span>And then the compiler can statically
verify the messages.</p>




<h4><a name="_Toc387781539">Some final remarks about static typing</a></h4>




<p class=MsoNormal>One aspect to notice for the above classes is that they are
not compatible.<span style="mso-spacerun: yes">&nbsp; </span>A
KeyedCollectionOfPoints can not be used where you expect a KeyedCollection
because the method #atKey_put(,(#x,#y)) is more restrictive than #atKey_put(,).<span
style="mso-spacerun: yes">&nbsp; </span>A KeyedCollection can not be used where
you expect a KeyedCollectionOfPoints because the method #atKey() is more
lenient than #atKey()-&gt;(#x,#y).<span style="mso-spacerun: yes">&nbsp;
</span>The classes are completely incompatible and effectively unrelated except
for the design similarity.</p>




<p class=MsoNormal>The second remark is that Java doesn&#8217;t support parameterized
classes and interferes with developing your own specialized versions of classes
because of weak interaction between types and polymorphism.<span
style="mso-spacerun: yes">&nbsp; </span>For example, even if you have your own
KeyedCollectionOfPoints, you can not develop a subclass of Enumeration that
will return a (#x,#y) point for #nextElement.<span style="mso-spacerun:
yes">&nbsp; </span>Java does not support covariant return types so even if you
defined a &#8216;PointEnumeration&#8217; it must either not inherit from &#8216;Enumeration&#8217; or
it has to return the same &#8220;type&#8221; as Enumeration returns, which knows nothing
about (#x,#y) of point.<span style="mso-spacerun: yes">&nbsp; </span>This will
be discussed again in a later section possibly titled &#8220;EiffelJava&#8221;, but for now
we can say Java itself is incapable or poorly capable of making a program
compile-time verifiable.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;</span>The final
remark is that all this static typing ignores &#8216;null&#8217; values, which would fail
all the message-checks we have been applying and prevent the ability to
statically type a program.<span style="mso-spacerun: yes">&nbsp; </span>To make
that static typing work we will have to say what a &#8216;null&#8217; means and how it
interacts with the message-checking or type system.<span style="mso-spacerun:
yes">&nbsp; </span>This will be discussed in the next posting.</p>




<h3><a name="_Toc387781540">Conclusion</a></h3>




<h4><a name="_Toc387781541">Comparing Optimistic and Pessimistic messaging</a></h4>




<p class=MsoNormal>What are the tradeoffs between optimistic and pessimistic
messaging now that we have shown both for SmallJava?<span style="mso-spacerun:
yes">&nbsp; </span></p>




<p class=MsoNormal>Optimistic messaging requires much less noise to accomplish
the same, if successful, result.<span style="mso-spacerun: yes">&nbsp;
</span>It is also far easier to change: if we decide to send a new message to a
&#8216;point&#8217; we can just send the message and know (or hope) that the object will
understand it.<span style="mso-spacerun: yes">&nbsp; </span>With pessimistic
messaging we have to explicitly say what messages we require an object to
understand. This caused us to put a lot more information into the program (much
of it &#8220;obvious&#8221;) and means we have to update all this information if we decide to
send a new message to an object. (I will discuss alternative ways to declaring
what new messages can be understood in the section on interfaces.)<span
style="mso-spacerun: yes">&nbsp; </span>Overall, optimistic messaging is much
less painful and correct programs are still correct programs.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp; </span></p>




<p class=MsoNormal>Pessimistic messaging allows us to move message-checks
earlier in a program&#8217;s execution and to consolidate multiple message-checks
into a single check.<span style="mso-spacerun: yes">&nbsp; </span>This allows
us to identify and respond to failed message-checks long before a program needs
to rely on those message checks.<span style="mso-spacerun: yes">&nbsp;
</span>In many cases these message-checks can be moved all the way to the point
of object construction, which allows them to be verified at compile-time.<span
style="mso-spacerun: yes">&nbsp; </span>If this were possible then we could be
surer of what our program does before execution verification.<span
style="mso-spacerun: yes">&nbsp; </span>We have made a good step forward if our
programs frequently have mistakes of expecting an object to respond to a
message that it doesn&#8217;t understand.<span style="mso-spacerun: yes">&nbsp;
</span></p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Unfortunately complete compile-time checking is rarely possible because
of weak language support, &#8216;null&#8217;s, or program behavior more complex than the
capabilities of even a good language.<span style="mso-spacerun: yes">&nbsp;
</span>Compile-time type checking also significantly reduces the reusability of
classes: it requires generating new classes with all the proper &#8220;types&#8221; to be
used in a particular context.</p>




<p class=MsoNormal>All the extra information for pessimistic messaging provided
us with an additional form of documentation.<span style="mso-spacerun:
yes">&nbsp; </span>Besides having the name of a method, the name of its
parameters, and the context of the methods implementation (i.e. its class),
pessimistic messaging allows us to express the expected methods on the
parameters and the return value.<span style="mso-spacerun: yes">&nbsp;
</span>Whether this is valuable documentation or not depends on the quality of
expressiveness of the more core components: the method name, the parameter
names and the context.<span style="mso-spacerun: yes">&nbsp; </span>If these
are very descriptive and consistent through the whole application, then the
pessimistic information may not be at all useful.<span style="mso-spacerun:
yes">&nbsp; </span>The topic of documentation will be discussed in a later
section.</p>




<h4><a name="_Toc387781542">Alternatives to explicit pessimistic messaging</a></h4>




<p class=MsoNormal>There are other alternatives to explicitly declaring the
pessimistic message-checks.<span style="mso-spacerun: yes">&nbsp; </span>We
could have a program try to verify that the optimistic program will work
correctly using either no extra information or much less information than the
explicit pessimistic programs above.<span style="mso-spacerun: yes">&nbsp;
</span>This would provide us with all the benefits of both optimistic and
pessimistic messaging.<span style="mso-spacerun: yes">&nbsp; </span>It could
also generate the additional documentation that a pessimistic program can
provide.<span style="mso-spacerun: yes">&nbsp; </span>See [Brach+G 93][8] for a
starting reference point to these types of languages.<span style="mso-spacerun:
yes">&nbsp; </span>For this document I will ignore inference capabilities since
they are not available in Java, Smalltalk, and other &#8220;mainstream&#8221; OO languages.</p>




<h4><a name="_Toc387781543">Deciding on Optimistic vs. Pessimistic messaging</a></h4>




<p class=MsoNormal>SmallJava_0 supports optimistic messaging.<span
style="mso-spacerun: yes">&nbsp; </span>You can send a message to any object
and if the object understands the message (it has implemented a matching
method) it will respond.<span style="mso-spacerun: yes">&nbsp; </span>If not,
the object would throw a &#8220;DoesNotUnderstandException&#8221; that the caller can catch
and respond to.<span style="mso-spacerun: yes">&nbsp; </span>This is very clean
and simple, relying on the same exception handling abilities in the rest of
SmallJava.<span style="mso-spacerun: yes">&nbsp; </span>Optimistic messaging&#8217;s
problems are that a program can only be verified by running it and that there
is less documentation of what is expected of a variable or parameter.</p>




<p class=MsoNormal>Should SmallJava_1 support pessimistic messaging: Should it
support the ability to check whether an object understands a message before
sending it to it?<span style="mso-spacerun: yes">&nbsp; </span>The answer would
seem to be an emphatic yes.<span style="mso-spacerun: yes">&nbsp; </span>The
only cost is the addition of the syntax &#8220;(#message,#message2,&#8230;)&#8221; that does a
message check or that requires the user of a variable or parameter to do a
message check.<span style="mso-spacerun: yes">&nbsp; </span>This is useful in
several ways:</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>It
allows a program to move the location of a message-check to the point where it
can better handle a failure</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>It
provides the possibility of compile-time verification.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>It
provides the possibility of extra documentation (that the program will actually
use).</p>




<p class=MsoNormal>These all seem valuable enough to add them to SmallJava. </p>




<p class=MsoNormal>From Java and Smalltalk&#8217;s point of view this is
uncontroversial: this capability is in both languages.<span
style="mso-spacerun: yes">&nbsp; </span>Java provides the &#8220;cast&#8221; operation and
typed variables that we will discuss in future sections.<span
style="mso-spacerun: yes">&nbsp; </span>Smalltalk provides the ability to ask
an object whether it #respondsTo: a message.<span style="mso-spacerun:
yes">&nbsp; </span>This returns a boolean instead of throwing an exception, but
the meaning is the same.<span style="mso-spacerun: yes">&nbsp; </span>Smalltalk
does not support an invariant on a variable [actually, some do or at least
document the invariant], but that seems a useful capability within the spirit
of commercial Smalltalk.<span style="mso-spacerun: yes">&nbsp; </span>So
pessimistic message verification is available in both languages and should be
available in SmallJava.</p>




<h4><a name="_Toc387781544">Requiring Pessimistic Checking</a></h4>




<p class=MsoNormal>Now for the big question: Should SmallJava_1 REQUIRE only
pessimistic message checking and abandon the optimistic message checking?<span
style="mso-spacerun: yes">&nbsp; </span>So far, the answer would have to be
no.<span style="mso-spacerun: yes">&nbsp; </span>In many cases the pessimistic
checking is not providing us with any gain because there is no advantage to
moving the message-check point, the checks are not compile-time verifiable, and
the invariant provide poor extra documentation.<span style="mso-spacerun:
yes">&nbsp; </span>But without the gain, there is no point in the pain: every
time we want an explicit message-check we have to add a lot of extra words to
our program and make sure all these message-checks are in agreement with each
other.</p>




<p class=MsoNormal>In future sections we will be discussing other language
features that may make pessimistic message checking more useful and less
painful.<span style="mso-spacerun: yes">&nbsp; </span>We will also be
discussing aspects that make pessimistic message checking less useful (e.g. for
&#8216;null&#8217;s).<span style="mso-spacerun: yes">&nbsp; </span>After dealing with these
features and aspects we can revisit the question of whether pessimistic
checking is useful enough to be required.<span style="mso-spacerun: yes">&nbsp;
</span>For now, SmallJava_1 supports both.</p>




<h4><a name="_Toc387781545">Summary</a></h4>




<p class=MsoNormal>We defined and analyzed optimistic and pessimistic message
checking and found that they are both useful enough to include in SmallJava_1
and that neither is so useful as to warrant excluding the other.<span
style="mso-spacerun: yes">&nbsp; </span>Our change to SmallJava was the addition
of a message-check with syntax (#message1, #message2) and of a
message-requirement invariant which uses the same syntax.</p>




<p class=MsoNormal>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;</p>




<p class=EndNote>[1] The terminology and behavior is similar to database
transactions.</p>




<p class=EndNote>[2] I use &#8220;#foo&#8221; to label a message and &#8220;Class#foo&#8221; for a
method in a particular class.<span style="mso-spacerun: yes">&nbsp; </span>The
use of &#8216;#&#8217; is similar enough between both Smalltalk (where it indicates a
Symbol) and Java (where for Javadoc it indicates a method) to be the best choice.</p>




<p class=EndNote>[3] Or you could view it that Object defines all methods with
a default behavior of: &#8220;throw new DoesNotUnderstandException();&#8221;</p>




<p class=EndNote>[4] The database transaction terminology would be a
pessimistic &#8220;lock&#8221; on &#8216;point&#8217;</p>




<p class=EndNote>[5] We might now want to call them &#8220;invariables&#8221;</p>




<p class=EndNote>[6] We have changed the contract with the caller, see [Meyer
97]</p>




<p class=EndNote>[7] DoesNotUnderstandException is a subclass of
RuntimeException, which explains why it does not have to be in a Throws clause.</p>




<p class=EndNote>[8] If anyone has a good collection of references for type
inferencing, I will add them to this.<span style="mso-spacerun:
yes">&nbsp;&nbsp; </span></p>




<h2><a name="_Toc387781546">Typing: Better support for pessimism</a></h2>




<p class=MsoNormal>SmallJava started with only optimistic messaging.<span
style="mso-spacerun: yes">&nbsp; </span>You could send a message to any object
and if the object did not have a corresponding method, a
&#8220;DoesNotUnderstandException&#8221; would be thrown.</p>




<p class=MsoNormal>We added pessimistic messaging capabilities to SmallJava_1
but we did not require all messaging to be pessimistic.<span
style="mso-spacerun: yes">&nbsp; </span>Pessimistic messaging allows us to move
and combine message-checks to a point earlier in the execution of a program.<span
style="mso-spacerun: yes">&nbsp; </span>This enables us to catch an error where
we are more capable of handling it and to avoid some errors completely by
compile time verification.<span style="mso-spacerun: yes">&nbsp;
</span>Pessimistic messaging also provides extra documentation of how a
variable is used and what a method does.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>We
did not make SmallJava_1 require all messaging to be pessimistic because it was
not a big enough benefit in all cases to be worth the pain.<span
style="mso-spacerun: yes">&nbsp; </span>The pain is explicitly defining all the
messages we expect an object to understand in all contexts and then make sure
all these message-checks agree with each other so the compiler is happy.<span
style="mso-spacerun: yes">&nbsp; </span>This is not worth it in the cases where
there is no advantage to moving the message-check, the check can not be
compile-time verified, and the extra documentation is not meaningful.</p>




<p class=MsoNormal>Our decision might change if we had a better mechanism to
manage our pessimistic message-checks.<span style="mso-spacerun: yes">&nbsp;
</span>Either the mechanism has to be more convenient or it has to have added
benefits that make it more useful.<span style="mso-spacerun: yes">&nbsp;
</span>This chapter discusses making pessimistic behavior easier and more
useful by using messageGroups, a preliminary form of &#8220;Type&#8221;.<span
style="mso-spacerun: yes">&nbsp; </span>If the pessimism becomes easier we may
make it the required behavior for SmallJava_2.<span style="mso-spacerun:
yes">&nbsp; </span>In any case we will have something close enough to Java like
static typing to be useful to compare.</p>




<h3><a name="_Toc387781547">Annoyances in pessimistic messaging</a></h3>




<p class=MsoNormal>One of the biggest annoyances of pessimism so far is
explicitly enumerating all the messages we expect of an object.<span
style="mso-spacerun: yes">&nbsp; </span>Even our simple example program [1] has
too much noise: </p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>class PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>vectorFrom((#x,#y) point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass (x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>class LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>LineClass ((#x,#y,#vectorFrom) pointA, (#x,#y) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y,#vectorFrom) pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>(#x,#y) pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>It already has twelve individual message references combined
into five pessimistic invariants.<span style="mso-spacerun: yes">&nbsp;
</span>What&#8217;s worse is that changes in PointClass#vectorFrom could cause all
the other invariants to have to change.<span style="mso-spacerun: yes">&nbsp;
</span>Assuming a point could have a name, then changing #vectorFrom to:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>vectorFrom((#x,#y,#name) point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass(name()+point.name(), x - point.x(), y -
point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}</p>

</div>




<p class=MsoNormal>will force all the other invariants to be updated to include
#name also or the compile time verification will complain.</p>




<h3><a name="_Toc387781548">Combining messages into messageGroups</a></h3>




<p class=MsoNormal>If we could define a larger unit of granularity that
contains multiple messages, a messageGroup[2], we might have an easier
time.<span style="mso-spacerun: yes">&nbsp; </span>Let&#8217;s try the following
simple syntax:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Xy = (#x, #y);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point = (#Xy, #vectorFrom);</p>

</div>




<p class=MsoNormal>where mentioning a messageGroup is just like mentioning the
messageGroup&#8217;s messages explicitly.<span style="mso-spacerun: yes">&nbsp;
</span>Message groups are compared by value: two message groups are equal if
they have the same messages in them after expansion.<span style="mso-spacerun:
yes">&nbsp; </span>Our previous pessimistic message checks and invariants
become inline, unnamed message groups.</p>




<p class=MsoNormal>Using these messageGroups, our program becomes:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Xy) point)
{</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass ((#Point)
pointA, (#Xy) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Xy) pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Which now has only two types of message checks in five
invariants.<span style="mso-spacerun: yes">&nbsp; </span>This is a little
simpler, but what about adding #name again?<span style="mso-spacerun:
yes">&nbsp; </span>We can either mention it explicitly as before:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Xy,#name)
point) //&#8230;</p>

</div>




<p class=MsoNormal>which would cause all the callers to change their invariants
or we can modify our #Xy message group to include #name:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>messageGroup #Xy = (#x,
#y, #name);</p>

</div>




<p class=MsoNormal>That is certainly simple. It also feels a bit
disingenuous.<span style="mso-spacerun: yes">&nbsp; </span>We named the group
#Xy for a reason: all we required from the object is that it support #x and
#y.<span style="mso-spacerun: yes">&nbsp; </span>To sneak an extra, unrelated
message into the group just because it is convenient does not seem appropriate
and certainly would confuse the reader of our program.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>If we don&#8217;t modify #Xy we can still modify #Point:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Xy = (#x, #y);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point = (#Xy, #vectorFrom, #name);</p>

</div>




<p class=MsoNormal>and </p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Xy,#name) point) //&#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class Line {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass((#Point)
pointA, (#Xy,#name) pointB) //&#8230;</p>

</div>




<p class=MsoNormal>Now we only have to change three invariants instead of
five.<span style="mso-spacerun: yes">&nbsp; </span>But why could we modify
#Point if we couldn&#8217;t modify #Xy?<span style="mso-spacerun: yes">&nbsp;
</span>Just because it had a different name?<span style="mso-spacerun:
yes">&nbsp; </span>Well, yes.</p>




<h3><a name="_Toc387781549">Types</a></h3>




<p class=MsoNormal>The messageGroup named #Point represents a &#8220;Type&#8221;, a
meaningful grouping of objects that provide the same interface.<span
style="mso-spacerun: yes">&nbsp; </span>We can include the ability to respond
to #name as part of the capabilities of a #Point.<span style="mso-spacerun:
yes">&nbsp; </span>For the messageGroup named #Xy we were just providing a
&#8220;shortcut&#8221; name for several messages without any fuller or independent logical
meaning.</p>




<p class=MsoNormal>So why don&#8217;t we just throw away #Xy and use just
#Point?<span style="mso-spacerun: yes">&nbsp; </span>This would give us:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point = (#x, #y , #vectorFrom);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Point) point)
{</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass ((#Point)
pointA, (#Point) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>Now if we add #name as a capability because of:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Point)
point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass(point.name(),x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>we can just add it in one place</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point = (#x, #y , #name,
#vectorFrom);</p>

</div>




<p class=MsoNormal>and we don&#8217;t have to worry about changing anything
else.<span style="mso-spacerun: yes">&nbsp; </span>Life is easy.</p>




<h4><a name="_Toc387781550">Excessively Restrictive Typing</a></h4>




<p class=MsoNormal>Unfortunately, what we have just done has a large negative
impact.<span style="mso-spacerun: yes">&nbsp; </span>We just required that an
object must support all of (#x,#y,#vectorFrom,#name) to be acceptable as a
pointB in our LineClass.<span style="mso-spacerun: yes">&nbsp; </span>But that
is not true.<span style="mso-spacerun: yes">&nbsp; </span>We only need the
object to support (#x,#y,#name).<span style="mso-spacerun: yes">&nbsp;
</span>Similarly we only need pointA to understand (#x,#y,#vectorFrom).<span
style="mso-spacerun: yes">&nbsp; </span>We accidentally became excessively
restrictive of acceptable objects through our simplification.</p>




<p class=MsoNormal>So what?<span style="mso-spacerun: yes">&nbsp; </span>We
were planning on using only PointClasses anyway, and they support all of the
#Point messages anyway.<span style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>Unfortunately that is a sign of being &#8220;near-sighted&#8221; in both
time and development scope.<span style="mso-spacerun: yes">&nbsp; </span>As the
system grows I could want to use an independently developed library of classes
that includes a &#8216;Point&#8217; which does not have a method #name.<span
style="mso-spacerun: yes">&nbsp; </span>But I can not.<span
style="mso-spacerun: yes">&nbsp; </span>Lines require that a Point understand
#name even when it never sends a #name message to them.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Over time I could also want to reuse lines to handle some UI points
which are floating point and also have names, but I could not because my #Line
uses #Points and #Point says it only works with #Integers instead of objects
that respond to just (#+, #-, #*).</p>




<p class=MsoNormal>There are words for this type of program: inflexible,
limited, not reusable, and &#8220;bad&#8221;.</p>




<p class=MsoNormal>If a language feature supports easily doing the wrong thing
in the short term it is very hard to keep track of the larger picture and we
have to very consciously strive for it.<span style="mso-spacerun: yes">&nbsp;
</span>The new messageGroups are one of these features so we have to use them
with care.</p>




<p class=MsoNormal>The principal problem preventing us from more exact and
flexible typing is inertia.<span style="mso-spacerun: yes">&nbsp; </span>We do
not want to change five different occurrences of verification checks to include
#name and #vectorFrom.<span style="mso-spacerun: yes">&nbsp; </span>And then do
the same thing again when some objects need to respond to #foo.<span
style="mso-spacerun: yes">&nbsp; </span>And then change them back when we get
rid of #foo.<span style="mso-spacerun: yes">&nbsp; </span>We are just lazy and
want as little of the program to change as possible.</p>




<p class=MsoNormal>There are words for this type of program too: stable,
maintainable, and &#8220;good&#8221;.</p>




<h4><a name="_Toc387781551">Preventing Excessive Typing</a></h4>




<p class=MsoNormal>So how do we get the &#8220;good&#8221; with as little of the &#8220;bad&#8221; as
possible?<span style="mso-spacerun: yes">&nbsp; </span>The main way is to think
harder about our object type models.<span style="mso-spacerun: yes">&nbsp;
</span>Do we really want all #Points to respond to #name?<span
style="mso-spacerun: yes">&nbsp; </span>Or do we have a special
#NamedPoint?<span style="mso-spacerun: yes">&nbsp; </span>Is the protocol #Xy
useful in general so we should still include it and try to use it when all we
want are #x and #y?<span style="mso-spacerun: yes">&nbsp; </span>If we produce
a good type model we will probably get the best maintainability and reusability
possible[3]. </p>




<p class=MsoNormal>Although our example is too small to really see much
difference, we might choose the following as the best description of our
domain:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Xy = (#x, #y);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point = (#Xy , #vectorFrom(#Xy),
&#8230;other stuff&#8230;);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Named = (#name);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #NamedPoint = (#Point , #Named);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Line = (#vector);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom((#Xy) point)
{</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass(x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// &#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass ((#Point)
pointA, (#Xy) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Xy) pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>If we later decide to use #names with our lines then we can
either change the invariant on pointA (to either &#8220;(#Point,#Named)&#8221;or
&#8221;(#NamedPoint)&#8221;) or we can decide that we really have a new #NamedLine which
would have a new NamedLineClass to implement it.<span style="mso-spacerun:
yes">&nbsp; </span>We have reduced the excessive restrictions in exchange for
what looks like more work (more Types) but should be more stable and less work
over time.</p>




<h4><a name="_Toc387781552">Types and Classes</a></h4>




<p class=MsoNormal>MessageGroups as simple types make the differences between
classes and types very visible.<span style="mso-spacerun: yes">&nbsp; </span>A
messageGroup is an alias for a set of messages.<span style="mso-spacerun:
yes">&nbsp; </span>This documents a concept, the type, and allows pessimistic
verification of that type.<span style="mso-spacerun: yes">&nbsp; </span>A class
describes an implementation of messages through methods (behavior) and instance
variables (state) so the program can actually build and execute objects.<span
style="mso-spacerun: yes">&nbsp; </span>Types classify and verify.<span
style="mso-spacerun: yes">&nbsp; </span>Classes implement.</p>




<h3><a name="_Toc387781553">Reviewing the variations of Typing</a></h3>




<p class=MsoNormal>We now have three variations of typing, optimistic,
message-level pessimistic, and type-based pessimistic.<span
style="mso-spacerun: yes">&nbsp; </span>These are all different in terms of
typing precision.</p>




<p class=MsoNormal>Optimistic messaging is exactly typed.<span
style="mso-spacerun: yes">&nbsp; </span>The only messages ever required of an
object are the ones actually sent to the object.<span style="mso-spacerun:
yes">&nbsp; </span>It is even exact in terms of different program executions
and flows.<span style="mso-spacerun: yes">&nbsp; </span>During one program
execution a message might not be required, but in the next it would be.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>The problem with optimistic messaging is that these types can only be
verified by program execution or through a separate inference and pessimistic
checking process.</p>




<p class=MsoNormal>Pessimistic messaging as described in SmallJava_1 is likely
to be almost exactly typed.<span style="mso-spacerun: yes">&nbsp; </span>Since
each message that should be verified must be explicitly listed it is unlikely
that the messages will become excessive except through lack of maintenance.<span
style="mso-spacerun: yes">&nbsp; </span>Another source of inexactness is that
different program flows may have different requirements but the pessimistic
checks will union all the program flows.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Pessimistic messaging was a useful addition to SmallJava_1 because it
could help detect errors earlier in program execution or possibly at compile-time.<span
style="mso-spacerun: yes">&nbsp; </span>It could not completely replace
optimistic messaging because it was too much work in the cases where there was
little or no gain.</p>




<p class=MsoNormal>Pessimistic typing is likely to be excessively
restrictive.<span style="mso-spacerun: yes">&nbsp; </span>Pessimistic typing
has messageGroups that can be used to collect messages into Types.<span
style="mso-spacerun: yes">&nbsp; </span>This provides more power for using
pessimistic verification: We can more easily express message requirements with
one or two groups instead of many individual messages and we can reduce program
maintenance by changing a single group instead of many verifications.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Unfortunately these messageGroups lead to combining verifications that
are not actually identical and restricting an object more than is needed.<span
style="mso-spacerun: yes">&nbsp; </span>This is not inherently required for
messageGroups, but is the trade-off for increased maintainability.<span
style="mso-spacerun: yes">&nbsp; </span>It is up to the software developer to
consciously pick the designs that are descriptive, maintainable, and do not
cause excessive restriction.<span style="mso-spacerun: yes">&nbsp; </span></p>




<h3><a name="_Toc387781554">SmallJava_2 and Pessimistic Typing</a></h3>




<p class=MsoNormal>For SmallJava_2 we have to decide whether to use the
pessimistic typing capabilities described above and ultimately whether to start
mandating pessimistic behavior.</p>




<p class=MsoNormal>Should SmallJava_2 support messageGroups and pessimistic
typing?<span style="mso-spacerun: yes">&nbsp; </span>Yes.<span
style="mso-spacerun: yes">&nbsp; </span>MessageGroups make pessimistic behavior
easier and more functional while costing very little.<span style="mso-spacerun:
yes">&nbsp; </span>The main language cost is an addition in syntax for defining
messageGroups.<span style="mso-spacerun: yes">&nbsp; </span>Other than that, a
messageGroup works just like an alias for a collection of messages.<span
style="mso-spacerun: yes">&nbsp; </span>It is a simple to understand addition
and is consistent with the behavior of SmallJava_1.<span style="mso-spacerun:
yes">&nbsp; </span>The other main cost is that it can encourage less flexible
software, but it is only a mild encouragement and it is completely under the
control of the developer.</p>




<p class=MsoNormal>Should we REQUIRE pessimistic behavior now that we have
better language support for it?<span style="mso-spacerun: yes">&nbsp; </span>I
will say &#8220;no&#8221; to defer until covering &#8220;null&#8221; values, but we are close to making
that decision.<span style="mso-spacerun: yes">&nbsp; </span>For the moment I
will compare optimistic and pessimistic behavior in SmallJava_2 and discuss
choosing between them.</p>




<h3><a name="_Toc387781555">Comparing Optimism and Pessimism</a></h3>




<p class=MsoNormal>We now have a much more useful and interesting pessimistic
mechanism.<span style="mso-spacerun: yes">&nbsp; </span>We can now retouch
bases with our original completely optimistic SmallJava PointClass and see how
our pessimistic abilities change it.</p>




<p class=MsoNormal>The original SmallJava_0 code was:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PointClass (x, y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.x = x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x() {return x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//&#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vectorFrom(point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return new PointClass (x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass(pointA,
pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;</span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pointA, pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>A SmallJava_2 version with fully pessimistic typing would
be:</p>




<div style='mso-element:para-border-div;border:solid windowtext 1.5pt;
padding:1.0pt 1.0pt 1.0pt 1.0pt;mso-border-shadow:yes;margin-left:.25in;
margin-right:1.0in'>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Xy = (#x,#y);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Point =
(#Xy,#r,#theta,#vectorFrom);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Number = (#^,#-,&#8230;);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>messageGroup #Line = (#vector);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class (#Point) PointClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PointClass((#Number)
x,(#Number) y) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.x = x;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.y = y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Number) x() {return
x;}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//&#8230;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point)
vectorFrom((#Xy) point) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
new PointClass (x - point.x(), y - point.y());</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Number) x,y;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>class (#Line) LineClass {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LineClass((#Point)
pointA, (#Point) pointB) {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointA = pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>this.pointB = pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) vector() {</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return pointA.vectorFrom(pointB);</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span></p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointA;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>(#Point) pointB;</p>

<p class=CodeExample style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;margin-bottom:.0001pt'><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </span>}</p>

</div>




<p class=MsoNormal>What are the differences between these two programs?<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>In terms of correct program execution, nothing.<span
style="mso-spacerun: yes">&nbsp; </span>The optimistic and pessimistic programs
both send the same messages and both get the same objects back as results.<span
style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal>In the case of incorrect calls to Point and Line, the
pessimistic version will throw an exception earlier or quite possibly notify
the developer at compile time.<span style="mso-spacerun: yes">&nbsp; </span>The
optimistic version will throw an exception at run time.</p>




<p class=MsoNormal>The optimistic program is less &#8220;noisy&#8221; and is easier to
change.<span style="mso-spacerun: yes">&nbsp; </span>We can simply add a new
method to PointClass and use it in LineClass.<span style="mso-spacerun:
yes">&nbsp; </span>But we can also accidentally send a new message without
defining the method in PointClass.<span style="mso-spacerun: yes">&nbsp;
</span>This will cause a runtime error if and when the program sends this
message.<span style="mso-spacerun: yes">&nbsp; </span>It is best if this is
sooner rather than later.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>The pessimistic program is harder to change but will catch more errors
at compile time.<span style="mso-spacerun: yes">&nbsp; </span>If we add a new
method to PointClass we also need to add it to #Point before we can use it in
LineClass.<span style="mso-spacerun: yes">&nbsp; </span>If we forget to add the
message to #Point we will get a compile time error when we try to call the new
message.<span style="mso-spacerun: yes">&nbsp; </span>If we forget to implement
the method in PointClass we will get a compile time error saying PointClass
does not implement all of the #Point type.</p>




<p class=MsoNormal>The pessimistic program has more description of its
requirements and behavior.<span style="mso-spacerun: yes">&nbsp; </span>We can
study the messageGroups to see what types are important and what messages these
types support.<span style="mso-spacerun: yes">&nbsp; </span>This is completely
separate from the actual Class implementations.<span style="mso-spacerun:
yes">&nbsp; </span>Although an optimistic program could also provide this
documentation there is no encouragement (to put compiler errors in the most
positive light) to keep the documentation up to date.<span style="mso-spacerun:
yes">&nbsp; </span></p>




<p class=MsoNormal>The pessimistic program is less flexible.<span
style="mso-spacerun: yes">&nbsp; </span>We can only use #Points in our
LineClass.<span style="mso-spacerun: yes">&nbsp; </span>We can&#8217;t use another
type of point that only understand #x and #y because #Point requires #r and #theta
too (even though LineClass may never need #r and #theta).<span
style="mso-spacerun: yes">&nbsp; </span>You should also note the comment in the
next section.</p>




<h4><a name="_Toc387781556">Comments on Reality</a></h4>




<p class=MsoNormal>Unfortunately the type behavior in SmallJava_2 is more
&#8220;ideal&#8221; and flexible than what most statically typed languages support,
including Java.<span style="mso-spacerun: yes">&nbsp; </span>For example,
instead of message based verification with types as message aggregates, most
statically typed languages use named-type based verification.<span
style="mso-spacerun: yes">&nbsp; </span>For these languages an object can only
pass through a type-check if its class specifically &#8220;implements&#8221; the named
type.<span style="mso-spacerun: yes">&nbsp; </span>You can not use a third
party PointClass that supports all the #Point messages with LineClass unless it
actually specifically mentions our #Point type.<span style="mso-spacerun:
yes">&nbsp; </span>This is not too likely.<span style="mso-spacerun:
yes">&nbsp; </span>This language &#8220;feature&#8221; severely punishes reusability for
pessimistic typing.<span style="mso-spacerun: yes">&nbsp; </span>This I will
address in a future chapter when we start bringing some of the idealizations of
SmallJava down to the realities of Java.</p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Although this document is meant to describe the differences between
Smalltalk and Java, I though it was unfair to discuss a language feature only
in the context of a weak version.<span style="mso-spacerun: yes">&nbsp;
</span>In many cases Java is simply missing features which can be discussed as
add-ins.<span style="mso-spacerun: yes">&nbsp; </span>But in other cases Java
has a poor implementation of a language feature that I would rather describe
ideally and then explain how Java parts from that ideal.<span
style="mso-spacerun: yes">&nbsp; </span>Pessimistic type checking is one of
those features.</p>




<h4><a name="_Toc387781557">Environments makes a difference</a></h4>




<p class=MsoNormal>Overall, the above programs are very similar, but coding
them will probably feel very different.<span style="mso-spacerun: yes">&nbsp;
</span>Besides language features this will be because of the development
environments and compiling technology associated with each.<span
style="mso-spacerun: yes">&nbsp; </span>Generally optimistic languages have
much more interactive development environments, so programs feel &#8220;directly manipulated&#8221;
and grown.<span style="mso-spacerun: yes">&nbsp; </span>Generally pessimistic
language development environments have a specify, implement, and verify
process.<span style="mso-spacerun: yes">&nbsp; </span></p>




<p class=MsoNormal><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;
</span>Although language features have a significant impact on the development
environment I will not consider that as part of SmallJava feature
evaluation.<span style="mso-spacerun: yes">&nbsp; </span>This environment
difference is becoming smaller[4] and comparing environments is beyond the
scope of this document. </p>




<h3><a name="_Toc387781558">Choosing</a></h3>




<p class=MsoNormal>Choosing between optimistic and pessimistic behavior in the
SmallJava language will be hard because they each have tradeoffs.<span
style="mso-spacerun: yes">&nbsp; </span>For most of the tradeoffs we would like
a language that allows you to choose which approach to take at any point.<span
style="mso-spacerun: yes">&nbsp; </span>If you want to document a class more
fully, add and use types.<span style="mso-spacerun: yes">&nbsp; </span>If you
want to be more pessimistic add some pessimistic checks and invariants.<span
style="mso-spacerun: yes">&nbsp; </span>Generally as a subsystem matures it can
and will become more pessimistic so people can understand and rely on its
behavior.</p>




<p class=MsoNormal>The one tradeoff that is hard to swallow is the diminished
flexibility and reusability of an excessively typed pessimistic program.<span
style="mso-spacerun: yes">&nbsp; </span>It is a severe hindrance if a language
or program prevents objects from being useable in appropriate circumstance
solely because of pessimistic typing.<span style="mso-spacerun: yes">&nbsp;
</span>We will have to spend more time recoding (and debugging and documenting)
identical functionality to support different pessimistic variations of the
identical optimistic program.<span style="mso-spacerun: yes">&nbsp; </span>This
is by far worse in named-type verification languages (of which Java is a
member).</p>




<p class=MsoNormal>But no choosing yet, we must first cover &#8220;nothing&#8221;.</p>




<p class=MsoNormal>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;</p>




<p class=MsoNormal>[1] Note the change to suffixing with &#8220;Class&#8221;, this is to
make discussions about types clearer later on.<span style="mso-spacerun:
yes">&nbsp; </span>It also happens to be my naming convention for Java
code.<span style="mso-spacerun: yes">&nbsp; </span>See [Fussell-1] </p>




<p class=MsoNormal>[2] I use the term messageGroup in this chapter because it
is descriptive and it does not bring in currently unwanted connotations that
other terms like interfaces or protocols due.</p>




<p class=MsoNormal>[3] Different project goals will adjust this too.<span
style="mso-spacerun: yes">&nbsp; </span>Prototypes frequently care more about
speed then either of these criteria.<span style="mso-spacerun: yes">&nbsp;
</span>Larger projects and frameworks tend to care more for reusability than
other types of projects would.</p>




<p class=MsoNormal>[4] For example, see the IBM VisualAge for Java beta
(http://www.software.ibm.com/ad/vajava), which is a (currently immature)
version of one of the best Smalltalk development environments.</p>




<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0in 0in 1.0pt 0in'>

<h1 style='margin-top:0in'><a name="_Toc384923228"></a><a name="_Toc387781559"><span
style='mso-bookmark:_Toc384923228'>References</span></a></h1>

</div>




<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;mso-padding-alt:
 0in 5.4pt 0in 5.4pt'>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Brach+G 93<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Gilad
  Bracha and David Griswold. &#8220;Stongtalk: Typechecking Smalltalk in a Production
  Environment&#8221; in <i style='mso-bidi-font-style:normal'>OOPSLA 1993 Conference
  Proceedings</i>.<span style="mso-spacerun: yes">&nbsp; </span>Addison-Wesley,
  Reading, MA, 1993.</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'><span style="mso-spacerun:
  yes">&nbsp;</span>Budd 87<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Timothy
  Budd.<span style="mso-spacerun: yes">&nbsp; </span><i style='mso-bidi-font-style:
  normal'>A Little Smalltalk</i>.<span style="mso-spacerun: yes">&nbsp;
  </span>Addison-Wesley, Reading MA, 1987.</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Fussell-1<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Mark L.
  Fussell. &#8220;Java Development Standards&#8221; <span class=Html1><span
  style='display:none;mso-hide:all'>&lt;a
  href=&#8221;http://www.chimu.com/publications/javaStandards/&#8221;&gt;</span>http://www.chimu.com/publications/javaStandards/<span
  style='display:none;mso-hide:all'>&lt;/a&gt;</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Fussell-2<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Mark L.
  Fussell. &#8220;Java-Smalltalk Syntax comparison&#8221; <span class=Html1><span
  style='display:none;mso-hide:all'>&lt;a href=&#8221;</span></span><span
  style='display:none;mso-hide:all'>http://www.chimu.com/publications/javaSmalltalkSyntax.html/
  <span class=Html1>&#8220;&gt;</span></span>http://www.chimu.com/publications/javaSmalltalkSyntax.html<span
  class=Html1>/<span style='display:none;mso-hide:all'>&lt;/a&gt;</span></span>
  </p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Goldberg+R 83<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Adele
  Goldberg and David Robson.<span style="mso-spacerun: yes">&nbsp; </span><i
  style='mso-bidi-font-style:normal'>Smalltalk-80: The Language and its
  Implementation</i>.<span style="mso-spacerun: yes">&nbsp;
  </span>Addison-Wesley, Reading, MA, 1983.</p>
  </td>
 </tr>
 <tr>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Gosling+JS 96<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>James
  Gosling, Bill Joy, Guy Steele.<span style="mso-spacerun: yes">&nbsp; </span><i
  style='mso-bidi-font-style:normal'>The Java<sup>TM</sup> Language
  Specification</i>.<span style="mso-spacerun: yes">&nbsp;
  </span>Addison-Wesley, Reading, MA, 1996.</p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes'>
  <td width=113 valign=top style='width:113.4pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=right style='margin-top:6.0pt;text-align:right'><b
  style='mso-bidi-font-weight:normal'>Meyer 97<o:p></o:p></b></p>
  </td>
  <td width=373 valign=top style='width:372.6pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:
  0in;margin-left:30.6pt;margin-bottom:.0001pt;text-indent:-30.6pt'>Bertrand
  Meyer. <i style='mso-bidi-font-style:normal'>Object Oriented Software
  Construction, 2nd Edition</i>.<span style="mso-spacerun: yes">&nbsp;
  </span>Prentice-Hall, Englewood Cliffs, NJ, 1997.</p>
  </td>
 </tr>
</table>


<p></div></p>
]]></content>
  </entry>
  
</feed>
